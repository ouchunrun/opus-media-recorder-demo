const privateData=new WeakMap,wrappers=new WeakMap;function pd(e){const t=privateData.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function EventWrapper(e,t){privateData.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=Object.keys(t);for(let e=0;e<r.length;++e){const t=r[e];t in this||Object.defineProperty(this,t,defineRedirectDescriptor(t))}}function defineRedirectDescriptor(e){return{get(){return pd(this).event[e]},set(t){pd(this).event[e]=t},configurable:!0,enumerable:!0}}function defineCallDescriptor(e){return{value(){const t=pd(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function defineWrapper(e,t){const r=Object.keys(t);if(0===r.length)return e;function n(t,r){e.call(this,t,r)}n.prototype=Object.create(e.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let o=0;o<r.length;++o){const i=r[o];if(!(i in e.prototype)){const e="function"==typeof Object.getOwnPropertyDescriptor(t,i).value;Object.defineProperty(n.prototype,i,e?defineCallDescriptor(i):defineRedirectDescriptor(i))}}return n}function getWrapper(e){if(null==e||e===Object.prototype)return EventWrapper;let t=wrappers.get(e);return null==t&&(t=defineWrapper(getWrapper(Object.getPrototypeOf(e)),e),wrappers.set(e,t)),t}function wrapEvent(e,t){return new(getWrapper(Object.getPrototypeOf(t)))(e,t)}function isStopped(e){return pd(e).stopped}function setEventPhase(e,t){pd(e).eventPhase=t}function setCurrentTarget(e,t){pd(e).currentTarget=t}function setPassiveListener(e,t){pd(e).passiveListener=t}EventWrapper.prototype={get type(){return pd(this).event.type},get target(){return pd(this).eventTarget},get currentTarget(){return pd(this).currentTarget},composedPath(){const e=pd(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return pd(this).eventPhase},stopPropagation(){const e=pd(this);"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){const e=pd(this);e.stopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(pd(this).event.bubbles)},get cancelable(){return Boolean(pd(this).event.cancelable)},preventDefault(){const e=pd(this);null==e.passiveListener?e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault()):console.warn("EventWrapper#preventDefault() was called from a passive listener:",e.passiveListener)},get defaultPrevented(){return pd(this).canceled},get composed(){return Boolean(pd(this).event.composed)},get timeStamp(){return pd(this).timeStamp}},Object.defineProperty(EventWrapper.prototype,"constructor",{value:EventWrapper,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(EventWrapper.prototype,window.Event.prototype),wrappers.set(window.Event.prototype,EventWrapper));const listenersMap=new WeakMap,CAPTURE=1,BUBBLE=2,ATTRIBUTE=3;function isObject(e){return null!==e&&"object"==typeof e}function getListeners(e){const t=listenersMap.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function defineEventAttributeDescriptor(e){return{get(){let t=getListeners(this).get(e);for(;null!=t;){if(3===t.listenerType)return t.listener;t=t.next}return null},set(t){"function"==typeof t||isObject(t)||(t=null);const r=getListeners(this);let n=null,o=r.get(e);for(;null!=o;)3===o.listenerType?null!==n?n.next=o.next:null!==o.next?r.set(e,o.next):r.delete(e):n=o,o=o.next;if(null!==t){const o={listener:t,listenerType:3,passive:!1,once:!1,next:null};null===n?r.set(e,o):n.next=o}},configurable:!0,enumerable:!0}}function defineEventAttribute(e,t){Object.defineProperty(e,"on"+t,defineEventAttributeDescriptor(t))}function defineCustomEventTarget(e){function t(){EventTargetWrapper.call(this)}t.prototype=Object.create(EventTargetWrapper.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)defineEventAttribute(t.prototype,e[r]);return t}function EventTargetWrapper(){if(!(this instanceof EventTargetWrapper)){if(1===arguments.length&&Array.isArray(arguments[0]))return defineCustomEventTarget(arguments[0]);if(arguments.length>0){const e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return defineCustomEventTarget(e)}throw new TypeError("Cannot call a class as a function")}listenersMap.set(this,new Map)}EventTargetWrapper.prototype={addEventListener(e,t,r){if(null==t)return!1;if("function"!=typeof t&&!isObject(t))throw new TypeError("'listener' should be a function or an object.");const n=getListeners(this),o=isObject(r),i=(o?Boolean(r.capture):Boolean(r))?1:2,s={listener:t,listenerType:i,passive:o&&Boolean(r.passive),once:o&&Boolean(r.once),next:null};let a=n.get(e);if(void 0===a)return n.set(e,s),!0;let c=null;for(;null!=a;){if(a.listener===t&&a.listenerType===i)return!1;c=a,a=a.next}return c.next=s,!0},removeEventListener(e,t,r){if(null==t)return!1;const n=getListeners(this),o=(isObject(r)?Boolean(r.capture):Boolean(r))?1:2;let i=null,s=n.get(e);for(;null!=s;){if(s.listener===t&&s.listenerType===o)return null!==i?i.next=s.next:null!==s.next?n.set(e,s.next):n.delete(e),!0;i=s,s=s.next}return!1},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw new TypeError('"event.type" should be a string.');const t=getListeners(this),r=e.type;let n=t.get(r);if(null==n)return!0;const o=wrapEvent(this,e);let i=null;for(;null!=n;){if(n.once?null!==i?i.next=n.next:null!==n.next?t.set(r,n.next):t.delete(r):i=n,setPassiveListener(o,n.passive?n.listener:null),"function"==typeof n.listener)try{n.listener.call(this,o)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==n.listenerType&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(o);if(isStopped(o))break;n=n.next}return setPassiveListener(o,null),setEventPhase(o,0),setCurrentTarget(o,null),!o.defaultPrevented}},Object.defineProperty(EventTargetWrapper.prototype,"constructor",{value:EventTargetWrapper,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(EventTargetWrapper.prototype,window.EventTarget.prototype);var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n},BrowserInfo=function(e,t,r){this.name=e,this.version=t,this.os=r},NodeInfo=function(e){this.version=e,this.name="node",this.os=process.platform},BotInfo=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null},SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",SEARCHBOT_OS_REGEX]];function detect(e){return e?parseUserAgent(e):"undefined"!=typeof navigator?parseUserAgent(navigator.userAgent):getNodeVersion()}function parseUserAgent(e){var t=""!==e&&userAgentRules.reduce((function(t,r){var n=r[0],o=r[1];if(t)return t;var i=o.exec(e);return!!i&&[n,i]}),!1);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new BotInfo;var o=n[1]&&n[1].split(/[._]/).slice(0,3);return o?o.length<REQUIRED_VERSION_PARTS&&(o=__spreadArrays(o,createVersionParts(REQUIRED_VERSION_PARTS-o.length))):o=[],new BrowserInfo(r,o.join("."),detectOS(e))}function detectOS(e){for(var t=0,r=operatingSystemRules.length;t<r;t++){var n=operatingSystemRules[t],o=n[0];if(n[1].test(e))return o}return null}function getNodeVersion(){return"undefined"!=typeof process&&process.version?new NodeInfo(process.version.slice(1)):null}function createVersionParts(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}const browser=detect(),AudioContext=window.AudioContext||window.webkitAudioContext||!1,BUFFER_SIZE=4096;class OggOpusMediaRecorder extends EventTargetWrapper{constructor(e,t={},r={},n){const{mimeType:o,audioBitsPerSecond:i,videoBitsPerSecond:s,bitsPerSecond:a}=t,{encoderWorkerFactory:c,OggOpusEncoderWasmPath:u,WebMOpusEncoderWasmPath:l}=r;if(super(),this._stream=e,this._state="inactive",this._mimeType=o||"audio/ogg",this._audioBitsPerSecond=i||a,this.workerState="inactive",this.recordingDuration=n||3e4,!OggOpusMediaRecorder.isTypeSupported(this._mimeType))throw new TypeError("invalid arguments, a MIME Type is not supported");switch(OggOpusMediaRecorder._parseType(this._mimeType).subtype){case"wave":case"wav":this._mimeType="audio/wave";break;case"webm":this._mimeType="audio/webm";break;case"ogg":this._mimeType="audio/ogg";break;default:switch(browser&&browser.name){case"chrome":this._mimeType="audio/webm";break;case"firefox":this._mimeType="audio/ogg";break;case"edge":this._mimeType="audio/webm";break;case"ios":case"safari":this._mimeType="audio/wave";break;default:this._mimeType="audio/webm"}}switch(this._mimeType){case"audio/wave":this._wasmPath="";break;case"audio/webm":this._wasmPath=l||"";break;case"audio/ogg":this._wasmPath=u||"";break;default:throw new Error("Internal Error: Unexpected MIME Type: "+this._mimeType)}let p="";document.currentScript?p=document.currentScript.src:self.location&&(p=self.location.href),p=p.substr(0,p.lastIndexOf("/"))+"/src/encoderWorker.js","function"==typeof OggOpusMediaRecorder.encoderWorker&&(p=URL.createObjectURL(new Blob([`(${OggOpusMediaRecorder.encoderWorker})()`]))),this._workerFactory="function"==typeof c?c:e=>new Worker(p),this._spawnWorker()}get stream(){return this._stream}get mimeType(){return this._mimeType}get state(){return this._state}get videoBitsPerSecond(){}get audioBitsPerSecond(){return this._audioBitsPerSecond}_spawnWorker(){this.worker=this._workerFactory(),this.worker.onmessage=e=>this._onmessageFromWorker(e),this.worker.onerror=e=>this._onerrorFromWorker(e),this._postMessageToWorker("loadEncoder",{mimeType:this._mimeType,wasmPath:this._wasmPath})}_postMessageToWorker(e,t={}){switch(e){case"loadEncoder":let{mimeType:r,wasmPath:n}=t;this.worker.postMessage({command:e,mimeType:r,wasmPath:n});break;case"init":let{sampleRate:o,channelCount:i,bitsPerSecond:s}=t;this.worker.postMessage({command:e,sampleRate:o,channelCount:i,bitsPerSecond:s}),this.workerState="encoding",this.source.connect(this.processor),this.processor.connect(this.context.destination);let a=new window.Event("start");this.dispatchEvent(a);break;case"pushInputData":let{channelBuffers:c,length:u,duration:l}=t;this.worker.postMessage({command:e,channelBuffers:c,length:u,duration:l},c.map(e=>e.buffer));break;case"getEncodedData":case"done":this.worker.postMessage({command:e});break;default:throw new Error("Internal Error: Incorrect postMessage requested.")}}_onmessageFromWorker(e){const{command:t,buffers:r}=e.data;let n;switch(t){case"readyToInit":const{sampleRate:e,channelCount:o}=this;this.workerState="readyToInit","recording"===this.state&&this._postMessageToWorker("init",{sampleRate:e,channelCount:o,bitsPerSecond:this.audioBitsPerSecond});break;case"encodedData":case"lastEncodedData":let i=new Blob(r,{type:this._mimeType});n=new window.Event("dataavailable"),n.data=i,this.dispatchEvent(n),"lastEncodedData"===t&&(n=new window.Event("stop"),this.dispatchEvent(n),this.workerState="closed")}}_onerrorFromWorker(e){this.source.disconnect(),this.processor.disconnect(),this.worker.terminate(),this.workerState="closed";let t=["FileName: "+e.filename,"LineNumber: "+e.lineno,"Message: "+e.message].join(" - "),r=new window.Event("error");r.name="UnknownError",r.message=t,this.dispatchEvent(r)}_enableAudioProcessCallback(e){let t=0;this.processor.onaudioprocess=r=>{const{inputBuffer:n,playbackTime:o}=r,{sampleRate:i,length:s,duration:a,numberOfChannels:c}=n,u=new Array(c);for(let e=0;e<c;e++)u[e]=n.getChannelData(e);const l={channelBuffers:u,length:s,duration:a};this._postMessageToWorker("pushInputData",l),t+=a,t>=e&&(this._postMessageToWorker("getEncodedData"),t=0)}}handleRecordingDuration(e){e=e||0;let t=this;"paused"!==t._state?"stopped"!==t._state&&(e>=t.recordingDuration?t.stopRecording():(e+=1e3,setTimeout((function(){t.handleRecordingDuration(e)}),1e3))):setTimeout((function(){t.handleRecordingDuration(e)}),1e3)}startRecording(e=Number.MAX_SAFE_INTEGER){if("inactive"!==this.state)throw new Error("DOMException: INVALID_STATE_ERR, state must be inactive.");if(e<0)throw new TypeError("invalid arguments, timeslice should be 0 or higher.");if(e/=1e3,"closed"===this.workerState&&this._spawnWorker(),this.context=new AudioContext,!this.stream.getAudioTracks()[0])throw new Error("DOMException: UnkownError, media track not found.");if(this.channelCount=2,this.sampleRate=this.context.sampleRate,this.source=this.context.createMediaStreamSource(this.stream),this.processor=this.context.createScriptProcessor(4096,this.channelCount,this.channelCount),this._state="recording",this._enableAudioProcessCallback(e),"readyToInit"===this.workerState){const{sampleRate:e,channelCount:t}=this;this._postMessageToWorker("init",{sampleRate:e,channelCount:t,bitsPerSecond:this.audioBitsPerSecond})}this.recordingDuration&&this.handleRecordingDuration()}stopRecording(){if("inactive"===this.state)throw new Error("DOMException: INVALID_STATE_ERR, state must NOT be inactive.");this.source.disconnect(),this.processor.disconnect(),this.context.close(),this._postMessageToWorker("done"),this._state="inactive"}pauseRecording(){if("inactive"===this.state)throw new Error("DOMException: INVALID_STATE_ERR, state must NOT be inactive.");this.source.disconnect(),this.processor.disconnect();let e=new window.Event("pause");this.dispatchEvent(e),this._state="paused"}resumeRecording(){if("inactive"===this.state)throw new Error("DOMException: INVALID_STATE_ERR, state must NOT be inactive.");this.source.connect(this.processor),this.processor.connect(this.context.destination);let e=new window.Event("resume");this.dispatchEvent(e),this._state="recording"}requestData(){if("inactive"===this.state)throw new Error("DOMException: INVALID_STATE_ERR, state must NOT be inactive.");this._postMessageToWorker("getEncodedData")}static isTypeSupported(e){if("string"==typeof e&&!e)return!0;try{var{type:t,subtype:r,codec:n}=OggOpusMediaRecorder._parseType(e)}catch(e){return!1}if("audio"!==t||"ogg"!==r&&"webm"!==r&&"wave"!==r&&"wav"!==r)return!1;switch(r){case"ogg":case"webm":if("opus"!==n&&n)return!1;break;case"wave":case"wav":if(n)return!1}return!0}static _parseType(e){try{const o=/^(\w+)\/(\w+)(;\s*codecs=(\w+))?$/;var[,t,r,,n]=e.match(o)}catch(t){return"string"!=typeof e||e?null:{type:"",subtype:"",codec:""}}return{type:t,subtype:r,codec:n}}}function writeString(e,t,r){for(let n=0;n<r.length;n++)e.setUint8(t+n,r.charCodeAt(n))}["start","stop","dataavailable","pause","resume","error"].forEach(e=>defineEventAttribute(OggOpusMediaRecorder.prototype,e)),browser&&"edge"===browser.name&&function(){var e=Worker.prototype.postMessage;Worker.prototype.postMessage=function(t,r=null){e.apply(this,[t])}}();class _AllocatedPointer{constructor(e,t,r,n){switch(this._size=t,this._module=e,this._size){case 1:this._heapArray=r?this._module.HEAP8:this._module.HEAPU8;break;case 2:this._heapArray=r?this._module.HEAP16:this._module.HEAPU16;break;case 4:this._heapArray=r?this._module.HEAP32:this._module.HEAPU32;break;default:this._heapArray=this._module.HEAPU8}n&&(this._size=4,this._heapArray=this._module.HEAPF32),this._pointer=this._module._malloc(t)}free(){this._module._free(this.pointer)}get pointer(){return this._pointer}get value(){let e=0;switch(this._size){case 2:e=1;break;case 4:e=2;break;default:throw new Error("Pointer can be only deferenced as integer-sized")}return this._heapArray[this.pointer>>e]}set value(e){let t=0;switch(this._size){case 2:t=1;break;case 4:t=2;break;default:throw new Error("Pointer can be only deferenced as integer-sized")}this._heapArray[this.pointer>>t]=e}}class _Int32Pointer extends _AllocatedPointer{constructor(e,t){super(e,4,!0,!1),void 0!==t&&(this.value=t)}}class _Uint32Pointer extends _AllocatedPointer{constructor(e,t){super(e,4,!1,!1),void 0!==t&&(this.value=t)}}class _AllocatedBuffer extends _AllocatedPointer{constructor(e,t,r,n,o){super(e,t*r,n,o);let i=0;switch(r){case 1:this._heapArray=n?this._module.HEAP8:this._module.HEAPU8,i=0;break;case 2:this._heapArray=n?this._module.HEAP16:this._module.HEAPU16,i=1;break;case 4:this._heapArray=n?this._module.HEAP32:this._module.HEAPU32,i=2;break;default:throw new Error("Unit size must be an integer-size")}o&&(this._heapArray=this._module.HEAPF32,i=2);let s=this._pointer>>i;this._buffer=this._heapArray.subarray(s,s+t),this._length=t}set(e,t){this._buffer.set(e,t)}subarray(e,t){return this._buffer.subarray(e,t)}get length(){return this._length}}class _Float32Buffer extends _AllocatedBuffer{constructor(e,t){super(e,t,4,!0,!0)}}class _Uint8Buffer extends _AllocatedBuffer{constructor(e,t){super(e,t,1,!1,!1)}}class EmscriptenMemoryAllocator{constructor(e){this._module=e}mallocInt32(e){return new _Int32Pointer(this._module,e)}mallocUint32(e){return new _Uint32Pointer(this._module,e)}mallocUint8Buffer(e){return new _Uint8Buffer(this._module,e)}mallocFloat32Buffer(e){return new _Float32Buffer(this._module,e)}}var Module=function(){var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return function(t){t=void 0!==(t=t||{})?t:{};class r{constructor(e,r,n){this.config={inputSampleRate:e,channelCount:r},this.memory=new EmscriptenMemoryAllocator(t),this._opus_encoder_create=t._opus_encoder_create,this._opus_encoder_ctl=t._opus_encoder_ctl,this._opus_encode_float=t._opus_encode_float,this._opus_encoder_destroy=t._opus_encoder_destroy,this._speex_resampler_init=t._speex_resampler_init,this._speex_resampler_process_interleaved_float=t._speex_resampler_process_interleaved_float,this._speex_resampler_destroy=t._speex_resampler_destroy,this._container=new t.Container,this._container.init(48e3,r,Math.floor(4294967295*Math.random())),this.OpusInitCodec(48e3,r,n),this.SpeexInitResampler(e,48e3,r),this.inputSamplesPerChannel=20*e/1e3,this.outputSamplePerChannel=960,this.inputBufferIndex=0,this.mInputBuffer=this.memory.mallocFloat32Buffer(this.inputSamplesPerChannel*r),this.mResampledBuffer=this.memory.mallocFloat32Buffer(this.outputSamplePerChannel*r),this.mOutputBuffer=this.memory.mallocUint8Buffer(4e3),this.interleavedBuffers=1!==r?new Float32Array(4096*r):void 0}encode(e){let t=this.interleave(e),r=0;for(;r<t.length;){let e=Math.min(this.mInputBuffer.length-this.inputBufferIndex,t.length-r);if(this.mInputBuffer.set(t.subarray(r,r+e),this.inputBufferIndex),this.inputBufferIndex+=e,this.inputBufferIndex>=this.mInputBuffer.length){let e=this.memory.mallocUint32(this.inputSamplesPerChannel),t=this.memory.mallocUint32(this.outputSamplePerChannel),r=this._speex_resampler_process_interleaved_float(this.resampler,this.mInputBuffer.pointer,e.pointer,this.mResampledBuffer.pointer,t.pointer);if(e.free(),t.free(),0!==r)throw new Error("Resampling error.");let n=this._opus_encode_float(this.encoder,this.mResampledBuffer.pointer,this.outputSamplePerChannel,this.mOutputBuffer.pointer,this.mOutputBuffer.length);if(n<0)throw new Error("Opus encoding error.");this._container.writeFrame(this.mOutputBuffer.pointer,n,this.outputSamplePerChannel),this.inputBufferIndex=0}r+=e}}close(){const{channelCount:e}=this.config;let r=[];for(let t=0;t<e;++t)r.push(new Float32Array(4096-this.inputBufferIndex/e));this.encode(r),t.destroy(this._container),this.mInputBuffer.free(),this.mResampledBuffer.free(),this.mOutputBuffer.free(),this._opus_encoder_destroy(this.encoder),this._speex_resampler_destroy(this.resampler)}interleave(e){const t=e.length;if(1===t)return e[0];for(let r=0;r<t;r++){let n=e[r];for(let e=0;e<n.length;e++)this.interleavedBuffers[e*t+r]=n[e]}return this.interleavedBuffers}OpusInitCodec(e,t,r){let n=this.memory.mallocUint32(void 0);this.encoder=this._opus_encoder_create(e,t,2049,n.pointer);let o=n.value;if(n.free(),0!==o)throw new Error("Opus encodor initialization failed.");r&&this.OpusSetOpusControl(4002,r)}OpusSetOpusControl(e,t){let r=this.memory.mallocInt32(t);this._opus_encoder_ctl(this.encoder,e,r.pointer),r.free()}SpeexInitResampler(e,t,r){let n=this.memory.mallocUint32(void 0);this.resampler=this._speex_resampler_init(r,e,t,6,n.pointer);let o=n.value;if(n.free(),0!==o)throw new Error("Initializing resampler failed.")}}t.init=function(e,n,o){t.encodedBuffers=[],t.encoder=new r(e,n,o)},t.encode=function(e){t.encoder.encode(e)},t.flush=function(){return t.encodedBuffers.splice(0,t.encodedBuffers.length)},t.close=function(){t.encoder.close()};var n,o={};for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);t.arguments=[],t.thisProgram="./this.program",t.quit=function(e,t){throw t},t.preRun=[],t.postRun=[];var i,s;i="object"==typeof window,s="function"==typeof importScripts;var a="";(i||s)&&(s?a=self.location.href:document.currentScript&&(a=document.currentScript.src),e&&(a=e),a=0!==a.indexOf("blob:")?a.substr(0,a.lastIndexOf("/")+1):"",t.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},s&&(t.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),t.readAsync=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},t.setWindowTitle=function(e){document.title=e});var c,u=t.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),l=t.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||u);for(n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);o=void 0,"object"!=typeof WebAssembly&&l("no native wasm support detected");var p=!1;var d="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function f(e,t){return e?function(e,t,r){for(var n=t+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.subarray&&d)return d.decode(e.subarray(t,o));for(var i="";t<o;){var s=e[t++];if(128&s){var a=63&e[t++];if(192!=(224&s)){var c=63&e[t++];if((s=224==(240&s)?(15&s)<<12|a<<6|c:(7&s)<<18|a<<12|c<<6|63&e[t++])<65536)i+=String.fromCharCode(s);else{var u=s-65536;i+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else i+=String.fromCharCode((31&s)<<6|a)}else i+=String.fromCharCode(s)}return i}(_,e,t):""}var h,m,_,y;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var g=t.TOTAL_MEMORY||16777216;function w(e){for(;e.length>0;){var r=e.shift();if("function"!=typeof r){var n=r.func;"number"==typeof n?void 0===r.arg?t.dynCall_v(n):t.dynCall_vi(n,r.arg):n(void 0===r.arg?null:r.arg)}else r()}}g<5242880&&l("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+g+"! (TOTAL_STACK=5242880)"),t.buffer?h=t.buffer:"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(c=new WebAssembly.Memory({initial:g/65536,maximum:g/65536}),h=c.buffer):h=new ArrayBuffer(g),t.HEAP8=m=new Int8Array(h),t.HEAP16=new Int16Array(h),t.HEAP32=y=new Int32Array(h),t.HEAPU8=_=new Uint8Array(h),t.HEAPU16=new Uint16Array(h),t.HEAPU32=new Uint32Array(h),t.HEAPF32=new Float32Array(h),t.HEAPF64=new Float64Array(h),y[10228]=5283824;var b=[],v=[],E=[],A=[],T=!1;var O=Math.abs,R=Math.sqrt,S=Math.ceil,P=Math.floor,k=0,B=null,x=null;t.preloadedImages={},t.preloadedAudios={};function M(e){return String.prototype.startsWith?e.startsWith("data:application/octet-stream;base64,"):0===e.indexOf("data:application/octet-stream;base64,")}var W,C="OggOpusEncoder.wasm";function I(){try{if(t.wasmBinary)return new Uint8Array(t.wasmBinary);if(t.readBinary)return t.readBinary(C);throw"both async and sync fetching of the wasm failed"}catch(e){K(e)}}function D(e){var r={env:e};function n(e,r){var n=e.exports;t.asm=n,function(e){if(k--,t.monitorRunDependencies&&t.monitorRunDependencies(k),0==k&&(null!==B&&(clearInterval(B),B=null),x)){var r=x;x=null,r()}}()}function o(e){n(e.instance)}function a(e){return(t.wasmBinary||!i&&!s||"function"!=typeof fetch?new Promise((function(e,t){e(I())})):fetch(C,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+C+"'";return e.arrayBuffer()})).catch((function(){return I()}))).then((function(e){return WebAssembly.instantiate(e,r)})).then(e,(function(e){l("failed to asynchronously prepare wasm: "+e),K(e)}))}if(k++,t.monitorRunDependencies&&t.monitorRunDependencies(k),t.instantiateWasm)try{return t.instantiateWasm(r,n)}catch(e){return l("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(t.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||M(C)||"function"!=typeof fetch)return a(o);fetch(C,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(o,(function(e){l("wasm streaming compile failed: "+e),l("falling back to ArrayBuffer instantiation"),a(o)}))}))}(),{}}function U(e){return(e=+e)>=0?+P(e+.5):+S(e-.5)}function j(e){return t.___errno_location&&(y[t.___errno_location()>>2]=e),e}function L(e){K("OOM")}M(C)||(W=C,C=t.locateFile?t.locateFile(W,a):a+W),t.asm=function(e,t,r){return t.memory=c,t.table=new WebAssembly.Table({initial:31,maximum:31,element:"anyfunc"}),D(t)};var N={b:function(e,t,r,n){K("Assertion failed: "+f(e)+", at: "+[t?f(t):"unknown filename",r,n?f(n):"unknown function"])},j:function(){throw p=!0,"Pure virtual function called!"},i:function(){t.abort()},a:O,d:function(e,r){let n=new Uint8Array(t.HEAPU8.buffer,e,r);t.encodedBuffers.push(new Uint8Array(n).buffer)},g:function(e,t,r){_.set(_.subarray(t,t+r),e)},h:O,k:P,f:function(e){return(e=+e)-+P(e)!=.5?+U(e):2*+U(e/2)},c:function(e){var t,r,n;return e|=0,n=0|m.length,(0|e)>0&(0|(r=(t=0|y[10228])+e|0))<(0|t)|(0|r)<0?(L(),j(12),-1):(0|r)>(0|n)&&!(0|void L())?(j(12),-1):(y[10228]=0|r,0|t)},e:R},F=t.asm({},N,h);t.asm=F;t.___wasm_call_ctors=function(){return t.asm.__wasm_call_ctors.apply(null,arguments)};var H=t._emscripten_bind_VoidPtr___destroy___0=function(){return t.asm.l.apply(null,arguments)},V=t._emscripten_bind_Container_Container_0=function(){return t.asm.m.apply(null,arguments)},z=t._emscripten_bind_Container_init_3=function(){return t.asm.n.apply(null,arguments)},G=t._emscripten_bind_Container_writeFrame_3=function(){return t.asm.o.apply(null,arguments)},X=t._emscripten_bind_Container___destroy___0=function(){return t.asm.p.apply(null,arguments)};t._opus_encoder_create=function(){return t.asm.q.apply(null,arguments)},t._opus_encode_float=function(){return t.asm.r.apply(null,arguments)},t._opus_encoder_ctl=function(){return t.asm.s.apply(null,arguments)},t._opus_encoder_destroy=function(){return t.asm.t.apply(null,arguments)},t._malloc=function(){return t.asm.u.apply(null,arguments)},t._free=function(){return t.asm.v.apply(null,arguments)},t._speex_resampler_init=function(){return t.asm.w.apply(null,arguments)},t._speex_resampler_destroy=function(){return t.asm.x.apply(null,arguments)},t._speex_resampler_process_interleaved_float=function(){return t.asm.y.apply(null,arguments)},t.dynCall_vi=function(){return t.asm.z.apply(null,arguments)},t.dynCall_v=function(){return t.asm.A.apply(null,arguments)};function $(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function q(e){function r(){t.calledRun||(t.calledRun=!0,p||(T||(T=!0,w(v)),w(E),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)e=t.postRun.shift(),A.unshift(e);var e;w(A)}()))}e=e||t.arguments,k>0||(!function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)e=t.preRun.shift(),b.unshift(e);var e;w(b)}(),k>0||t.calledRun||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),r()}),1)):r()))}function K(e){throw t.onAbort&&t.onAbort(e),void 0!==e?(u(e),l(e),e='"'+e+'"'):e="",p=!0,1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(t.asm=F,t.then=function(e){if(t.calledRun)e(t);else{var r=t.onRuntimeInitialized;t.onRuntimeInitialized=function(){r&&r(),e(t)}}return t},$.prototype=new Error,$.prototype.constructor=$,x=function e(){t.calledRun||q(),t.calledRun||(x=e)},t.run=q,t.abort=K,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();function Q(){}function Y(e){return(e||Q).__cache__}function J(e,t){var r=Y(t),n=r[e];return n||((n=Object.create((t||Q).prototype)).ptr=e,r[e]=n)}t.noExitRuntime=!0,q(),Q.prototype=Object.create(Q.prototype),Q.prototype.constructor=Q,Q.prototype.__class__=Q,Q.__cache__={},t.WrapperObject=Q,t.getCache=Y,t.wrapPointer=J,t.castObject=function(e,t){return J(e.ptr,t)},t.NULL=J(0),t.destroy=function(e){if(!e.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";e.__destroy__(),delete Y(e.__class__)[e.ptr]},t.compare=function(e,t){return e.ptr===t.ptr},t.getPointer=function(e){return e.ptr},t.getClass=function(e){return e.__class__};function Z(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ee(){this.ptr=V(),Y(ee)[this.ptr]=this}return Z.prototype=Object.create(Q.prototype),Z.prototype.constructor=Z,Z.prototype.__class__=Z,Z.__cache__={},t.VoidPtr=Z,Z.prototype.__destroy__=Z.prototype.__destroy__=function(){var e=this.ptr;H(e)},ee.prototype=Object.create(Q.prototype),ee.prototype.constructor=ee,ee.prototype.__class__=ee,ee.__cache__={},t.Container=ee,ee.prototype.init=ee.prototype.init=function(e,t,r){var n=this.ptr;e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),r&&"object"==typeof r&&(r=r.ptr),z(n,e,t,r)},ee.prototype.writeFrame=ee.prototype.writeFrame=function(e,t,r){var n=this.ptr;e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),r&&"object"==typeof r&&(r=r.ptr),G(n,e,t,r)},ee.prototype.__destroy__=ee.prototype.__destroy__=function(){var e=this.ptr;X(e)},function(){function e(){}var t;T||(t=e,E.unshift(t))}(),t}}();function initWorker(e){const t=Module;let r;e.onmessage=function(e){const{command:n}=e.data;switch(n){case"loadEncoder":const{mimeType:o,wasmPath:i}=e.data;let s;switch(o){case"audio/ogg":s=t}let a={};i&&(a.locateFile=function(e,t){return e.match(/.wasm/)?i:t+e}),s(a).then(e=>{r=e,self.postMessage({command:"readyToInit"})});break;case"init":const{sampleRate:c,channelCount:u,bitsPerSecond:l}=e.data;r.init(c,u,l);break;case"pushInputData":const{channelBuffers:p,length:d,duration:f}=e.data;for(let e=0;e<p.length;e++)p[e]=new Float32Array(p[e].buffer);r.encode(p);break;case"getEncodedData":case"done":"done"===n&&r.close();const h=r.flush();self.postMessage({command:"done"===n?"lastEncodedData":"encodedData",buffers:h},h),"done"===n&&self.close()}}}"object"==typeof exports&&"object"==typeof module?module.exports=Module:"function"==typeof define&&define.amd?define([],(function(){return Module})):"object"==typeof exports&&(exports.Module=Module),"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&initWorker(self);let localAudio=document.createElement("audio");localAudio.muted=!0,localAudio.hidden=!0,localAudio.autoplay=!0,document.body.appendChild(localAudio);let stream=null,fileName=null,audioCtx=null,audioRecorder={},recordingDuration=3e4,recorderCallback=null;const workerOptions={OggOpusEncoderWasmPath:"./OggOpusEncoder.wasm"};function OggOpusRecorder(e,t){console.log("Recorder audio file to ogg"),fileName=e.name.replace(/\.[^\.]+$/,""),recorderCallback=t,audioCtx=new AudioContext;let r=new FileReader;r.file=e,r.onload=function(e){console.log("file reade onload...");let t=e.target.result;audioCtx.decodeAudioData(t).then(createSoundSource).catch((function(e){console.error(e.toString())}))},r.readAsArrayBuffer(r.file)}function createSoundSource(e){let t=audioCtx.createBufferSource();t.buffer=e;let r=audioCtx.createMediaStreamDestination();t.connect(r),t.start(),localAudio.srcObject=r.stream,stream=r.stream}function createMediaRecorder(e,t){let r={mimeType:"audio/ogg"},n=new MediaRecorder(e,r,workerOptions,t),o=[];return n.onstart=function(){o=[],console.log("Recorder started")},n.ondataavailable=function(e){o.push(e.data),console.log("Recorder data available ")},n.onstop=function(){console.log("recorder complete!");let t=o[0];if(o=[],!t.size)throw new Error("Exception: Blob is empty");recorderCallback?(recorderCallback(t),audioRecorder=null,audioCtx=null,e=null,recorderCallback=null):console.warn("recorderCallback is not found.")},n.onpause=function(){console.log("Recorder paused")},n.onresume=function(){console.log("Recorder resumed")},n.onerror=function(e){e&&(e.name||(e.name="UnknownError"),-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",r.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e),console.error("Recorder encounters error:"+e.message),"inactive"!==n._state&&"stopped"!==n._state&&n.stop())},n}window.MediaRecorder=OggOpusMediaRecorder,localAudio.addEventListener("canplay",(function(){try{localAudio.play(),audioRecorder=createMediaRecorder(stream,recordingDuration),console.log("Creating MediaRecorder success"),audioRecorder.startRecording()}catch(e){console.log("MediaRecorder is failed: "+e.message),Promise.reject(new Error)}})),localAudio.addEventListener("ended",(function(){"inactive"!==audioRecorder._state&&"stopped"!==audioRecorder._state&&audioRecorder.stopRecording()})),window.addEventListener("load",(function(){if(void 0===OggOpusMediaRecorder)console.error("No OpusMediaRecorder found");else{["audio/wave","audio/wav","audio/ogg","audio/ogg;codecs=opus","audio/webm","audio/webm;codecs=opus"].forEach((function(e){console.log(e+" is "+(MediaRecorder.isTypeSupported(e)?"supported":"NOT supported"))}))}}),!1);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9nZ09wdXNSZWNvcmRlci5qcyJdLCJuYW1lcyI6WyJwcml2YXRlRGF0YSIsIldlYWtNYXAiLCJ3cmFwcGVycyIsInBkIiwiZXZlbnQiLCJyZXR2IiwiZ2V0IiwiY29uc29sZSIsImFzc2VydCIsIkV2ZW50V3JhcHBlciIsImV2ZW50VGFyZ2V0Iiwic2V0IiwidGhpcyIsImV2ZW50UGhhc2UiLCJjdXJyZW50VGFyZ2V0IiwiY2FuY2VsZWQiLCJzdG9wcGVkIiwicGFzc2l2ZUxpc3RlbmVyIiwidGltZVN0YW1wIiwiRGF0ZSIsIm5vdyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwia2V5cyIsImkiLCJsZW5ndGgiLCJrZXkiLCJkZWZpbmVSZWRpcmVjdERlc2NyaXB0b3IiLCJbb2JqZWN0IE9iamVjdF0iLCJjb25maWd1cmFibGUiLCJkZWZpbmVDYWxsRGVzY3JpcHRvciIsImFwcGx5IiwiYXJndW1lbnRzIiwiZGVmaW5lV3JhcHBlciIsIkJhc2VFdmVudCIsInByb3RvIiwiQ3VzdG9tRXZlbnQiLCJjYWxsIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ3cml0YWJsZSIsImlzRnVuYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldFdyYXBwZXIiLCJ3cmFwcGVyIiwiZ2V0UHJvdG90eXBlT2YiLCJ3cmFwRXZlbnQiLCJpc1N0b3BwZWQiLCJzZXRFdmVudFBoYXNlIiwic2V0Q3VycmVudFRhcmdldCIsInNldFBhc3NpdmVMaXN0ZW5lciIsInR5cGUiLCJ0YXJnZXQiLCJOT05FIiwiQ0FQVFVSSU5HX1BIQVNFIiwiQVRfVEFSR0VUIiwiQlVCQkxJTkdfUEhBU0UiLCJkYXRhIiwic3RvcFByb3BhZ2F0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiYnViYmxlcyIsIkJvb2xlYW4iLCJjYW5jZWxhYmxlIiwicHJldmVudERlZmF1bHQiLCJ3YXJuIiwiZGVmYXVsdFByZXZlbnRlZCIsImNvbXBvc2VkIiwid2luZG93IiwiRXZlbnQiLCJzZXRQcm90b3R5cGVPZiIsImxpc3RlbmVyc01hcCIsIkNBUFRVUkUiLCJCVUJCTEUiLCJBVFRSSUJVVEUiLCJpc09iamVjdCIsIngiLCJnZXRMaXN0ZW5lcnMiLCJsaXN0ZW5lcnMiLCJUeXBlRXJyb3IiLCJkZWZpbmVFdmVudEF0dHJpYnV0ZURlc2NyaXB0b3IiLCJldmVudE5hbWUiLCJub2RlIiwibGlzdGVuZXJUeXBlIiwibGlzdGVuZXIiLCJuZXh0IiwicHJldiIsImRlbGV0ZSIsIm5ld05vZGUiLCJwYXNzaXZlIiwib25jZSIsImRlZmluZUV2ZW50QXR0cmlidXRlIiwiZXZlbnRUYXJnZXRQcm90b3R5cGUiLCJkZWZpbmVDdXN0b21FdmVudFRhcmdldCIsImV2ZW50TmFtZXMiLCJDdXN0b21FdmVudFRhcmdldCIsIkV2ZW50VGFyZ2V0V3JhcHBlciIsIkFycmF5IiwiaXNBcnJheSIsInR5cGVzIiwiTWFwIiwib3B0aW9ucyIsIm9wdGlvbnNJc09iaiIsImNhcHR1cmUiLCJ1bmRlZmluZWQiLCJ3cmFwcGVkRXZlbnQiLCJlcnIiLCJlcnJvciIsImhhbmRsZUV2ZW50IiwiRXZlbnRUYXJnZXQiLCJfX3NwcmVhZEFycmF5cyIsInMiLCJpbCIsInIiLCJrIiwiYSIsImoiLCJqbCIsIkJyb3dzZXJJbmZvIiwibmFtZSIsInZlcnNpb24iLCJvcyIsIk5vZGVJbmZvIiwicHJvY2VzcyIsInBsYXRmb3JtIiwiQm90SW5mbyIsImJvdCIsIlNFQVJDSEJPWF9VQV9SRUdFWCIsIlNFQVJDSEJPVF9PU19SRUdFWCIsIlJFUVVJUkVEX1ZFUlNJT05fUEFSVFMiLCJ1c2VyQWdlbnRSdWxlcyIsIm9wZXJhdGluZ1N5c3RlbVJ1bGVzIiwiZGV0ZWN0IiwidXNlckFnZW50IiwicGFyc2VVc2VyQWdlbnQiLCJuYXZpZ2F0b3IiLCJnZXROb2RlVmVyc2lvbiIsInVhIiwibWF0Y2hlZFJ1bGUiLCJyZWR1Y2UiLCJtYXRjaGVkIiwiX2EiLCJicm93c2VyIiwicmVnZXgiLCJ1YU1hdGNoIiwiZXhlYyIsIm1hdGNoIiwidmVyc2lvblBhcnRzIiwic3BsaXQiLCJzbGljZSIsImNyZWF0ZVZlcnNpb25QYXJ0cyIsImpvaW4iLCJkZXRlY3RPUyIsImlpIiwiY291bnQiLCJ0ZXN0Iiwib3V0cHV0IiwicHVzaCIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsIkJVRkZFUl9TSVpFIiwiT2dnT3B1c01lZGlhUmVjb3JkZXIiLCJzdHJlYW0iLCJ3b3JrZXJPcHRpb25zIiwiZHVyYXRpb24iLCJtaW1lVHlwZSIsImF1ZGlvQml0c1BlclNlY29uZCIsInZpZGVvQml0c1BlclNlY29uZCIsImJpdHNQZXJTZWNvbmQiLCJlbmNvZGVyV29ya2VyRmFjdG9yeSIsIk9nZ09wdXNFbmNvZGVyV2FzbVBhdGgiLCJXZWJNT3B1c0VuY29kZXJXYXNtUGF0aCIsInN1cGVyIiwiX3N0cmVhbSIsIl9zdGF0ZSIsIl9taW1lVHlwZSIsIl9hdWRpb0JpdHNQZXJTZWNvbmQiLCJ3b3JrZXJTdGF0ZSIsInJlY29yZGluZ0R1cmF0aW9uIiwiaXNUeXBlU3VwcG9ydGVkIiwiX3BhcnNlVHlwZSIsInN1YnR5cGUiLCJfd2FzbVBhdGgiLCJFcnJvciIsIndvcmtlckRpciIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNlbGYiLCJsb2NhdGlvbiIsImhyZWYiLCJzdWJzdHIiLCJsYXN0SW5kZXhPZiIsImVuY29kZXJXb3JrZXIiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJCbG9iIiwiX3dvcmtlckZhY3RvcnkiLCJfIiwiV29ya2VyIiwiX3NwYXduV29ya2VyIiwic3RhdGUiLCJ3b3JrZXIiLCJvbm1lc3NhZ2UiLCJlIiwiX29ubWVzc2FnZUZyb21Xb3JrZXIiLCJvbmVycm9yIiwiX29uZXJyb3JGcm9tV29ya2VyIiwiX3Bvc3RNZXNzYWdlVG9Xb3JrZXIiLCJ3YXNtUGF0aCIsImNvbW1hbmQiLCJtZXNzYWdlIiwicG9zdE1lc3NhZ2UiLCJzYW1wbGVSYXRlIiwiY2hhbm5lbENvdW50Iiwic291cmNlIiwiY29ubmVjdCIsInByb2Nlc3NvciIsImNvbnRleHQiLCJkZXN0aW5hdGlvbiIsImV2ZW50VG9QdXNoIiwiZGlzcGF0Y2hFdmVudCIsImNoYW5uZWxCdWZmZXJzIiwibWFwIiwiYnVmZmVyIiwiYnVmZmVycyIsImRpc2Nvbm5lY3QiLCJ0ZXJtaW5hdGUiLCJmaWxlbmFtZSIsImxpbmVubyIsImVycm9yVG9QdXNoIiwidGltZXNsaWNlIiwiZWxhcHNlZFRpbWUiLCJvbmF1ZGlvcHJvY2VzcyIsImlucHV0QnVmZmVyIiwicGxheWJhY2tUaW1lIiwibnVtYmVyT2ZDaGFubmVscyIsImdldENoYW5uZWxEYXRhIiwiY291bnRlciIsInN0b3BSZWNvcmRpbmciLCJzZXRUaW1lb3V0IiwiaGFuZGxlUmVjb3JkaW5nRHVyYXRpb24iLCJOdW1iZXIiLCJNQVhfU0FGRV9JTlRFR0VSIiwiZ2V0QXVkaW9UcmFja3MiLCJjcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSIsImNyZWF0ZVNjcmlwdFByb2Nlc3NvciIsIl9lbmFibGVBdWRpb1Byb2Nlc3NDYWxsYmFjayIsImNsb3NlIiwiY29kZWMiLCJ3cml0ZVN0cmluZyIsImRhdGFWaWV3Iiwib2Zmc2V0Iiwic3RyaW5nIiwic2V0VWludDgiLCJjaGFyQ29kZUF0IiwiZm9yRWFjaCIsIm9yaWdpbmFsIiwidHJhbnNmZXIiLCJfQWxsb2NhdGVkUG9pbnRlciIsImVtTW9kdWxlIiwic2l6ZSIsImlzU2lnbmVkIiwiaXNGbG9hdCIsIl9zaXplIiwiX21vZHVsZSIsIl9oZWFwQXJyYXkiLCJIRUFQOCIsIkhFQVBVOCIsIkhFQVAxNiIsIkhFQVBVMTYiLCJIRUFQMzIiLCJIRUFQVTMyIiwiSEVBUEYzMiIsIl9wb2ludGVyIiwiX21hbGxvYyIsIl9mcmVlIiwicG9pbnRlciIsImJpdHNUb1NoaWZ0IiwidmFsdWVUb1NldCIsIl9JbnQzMlBvaW50ZXIiLCJfVWludDMyUG9pbnRlciIsIl9BbGxvY2F0ZWRCdWZmZXIiLCJ1bml0U2l6ZSIsIl9idWZmZXIiLCJzdWJhcnJheSIsIl9sZW5ndGgiLCJhcnJheSIsImJlZ2luIiwiZW5kIiwiX0Zsb2F0MzJCdWZmZXIiLCJfVWludDhCdWZmZXIiLCJFbXNjcmlwdGVuTWVtb3J5QWxsb2NhdG9yIiwiTW9kdWxlIiwiX3NjcmlwdERpciIsIl9PcHVzRW5jb2RlciIsImlucHV0U2FtcGxlUmF0ZSIsImNvbmZpZyIsIm1lbW9yeSIsIl9vcHVzX2VuY29kZXJfY3JlYXRlIiwiX29wdXNfZW5jb2Rlcl9jdGwiLCJfb3B1c19lbmNvZGVfZmxvYXQiLCJfb3B1c19lbmNvZGVyX2Rlc3Ryb3kiLCJfc3BlZXhfcmVzYW1wbGVyX2luaXQiLCJfc3BlZXhfcmVzYW1wbGVyX3Byb2Nlc3NfaW50ZXJsZWF2ZWRfZmxvYXQiLCJfc3BlZXhfcmVzYW1wbGVyX2Rlc3Ryb3kiLCJfY29udGFpbmVyIiwiQ29udGFpbmVyIiwiaW5pdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIk9wdXNJbml0Q29kZWMiLCJTcGVleEluaXRSZXNhbXBsZXIiLCJpbnB1dFNhbXBsZXNQZXJDaGFubmVsIiwib3V0cHV0U2FtcGxlUGVyQ2hhbm5lbCIsIk9QVVNfT1VUUFVUX1NBTVBMRV9SQVRFIiwiaW5wdXRCdWZmZXJJbmRleCIsIm1JbnB1dEJ1ZmZlciIsIm1hbGxvY0Zsb2F0MzJCdWZmZXIiLCJtUmVzYW1wbGVkQnVmZmVyIiwibU91dHB1dEJ1ZmZlciIsIm1hbGxvY1VpbnQ4QnVmZmVyIiwiaW50ZXJsZWF2ZWRCdWZmZXJzIiwiRmxvYXQzMkFycmF5Iiwic2FtcGxlcyIsImludGVybGVhdmUiLCJzYW1wbGVJbmRleCIsImxlbmd0aFRvQ29weSIsIm1pbiIsIm1JbnB1dExlbmd0aCIsIm1hbGxvY1VpbnQzMiIsIm1PdXRwdXRMZW5ndGgiLCJyZXNhbXBsZXIiLCJmcmVlIiwicGFja2V0TGVuZ3RoIiwiZW5jb2RlciIsIndyaXRlRnJhbWUiLCJmaW5hbEZyYW1lQnVmZmVycyIsImVuY29kZSIsImRlc3Ryb3kiLCJjaENvdW50IiwiY2giLCJvdXRSYXRlIiwiYml0UmF0ZSIsIm1FcnIiLCJPcHVzU2V0T3B1c0NvbnRyb2wiLCJyZXF1ZXN0IiwidmFBcmciLCJtYWxsb2NJbnQzMiIsImlucHV0UmF0ZSIsIm91dHB1dFJhdGUiLCJlbmNvZGVkQnVmZmVycyIsImZsdXNoIiwic3BsaWNlIiwibW9kdWxlT3ZlcnJpZGVzIiwiaGFzT3duUHJvcGVydHkiLCJzdGF0dXMiLCJ0b1Rocm93IiwiRU5WSVJPTk1FTlRfSVNfV0VCIiwiRU5WSVJPTk1FTlRfSVNfV09SS0VSIiwiaW1wb3J0U2NyaXB0cyIsInNjcmlwdERpcmVjdG9yeSIsImluZGV4T2YiLCJ1cmwiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzZW5kIiwicmVzcG9uc2VUZXh0IiwicmVzcG9uc2VUeXBlIiwiVWludDhBcnJheSIsInJlc3BvbnNlIiwib25sb2FkIiwidGl0bGUiLCJ3YXNtTWVtb3J5Iiwib3V0IiwibG9nIiwiYmluZCIsInByaW50IiwicHJpbnRFcnIiLCJXZWJBc3NlbWJseSIsIkFCT1JUIiwiVVRGOERlY29kZXIiLCJUZXh0RGVjb2RlciIsIlVURjhUb1N0cmluZyIsInB0ciIsIm1heEJ5dGVzVG9SZWFkIiwidThBcnJheSIsImlkeCIsImVuZElkeCIsImVuZFB0ciIsImRlY29kZSIsInN0ciIsInUwIiwidTEiLCJ1MiIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsIlVURjhBcnJheVRvU3RyaW5nIiwiSU5JVElBTF9UT1RBTF9NRU1PUlkiLCJjYWxsUnVudGltZUNhbGxiYWNrcyIsImNhbGxiYWNrcyIsImNhbGxiYWNrIiwic2hpZnQiLCJmdW5jIiwiYXJnIiwiTWVtb3J5IiwiaW5pdGlhbCIsIm1heGltdW0iLCJBcnJheUJ1ZmZlciIsIkludDhBcnJheSIsIkludDE2QXJyYXkiLCJJbnQzMkFycmF5IiwiVWludDE2QXJyYXkiLCJVaW50MzJBcnJheSIsIkZsb2F0NjRBcnJheSIsIkRZTkFNSUNUT1BfUFRSIiwiX19BVFBSRVJVTl9fIiwiX19BVElOSVRfXyIsIl9fQVRNQUlOX18iLCJfX0FUUE9TVFJVTl9fIiwicnVudGltZUluaXRpYWxpemVkIiwiTWF0aF9hYnMiLCJhYnMiLCJNYXRoX3NxcnQiLCJzcXJ0IiwiTWF0aF9jZWlsIiwiY2VpbCIsIk1hdGhfZmxvb3IiLCJydW5EZXBlbmRlbmNpZXMiLCJydW5EZXBlbmRlbmN5V2F0Y2hlciIsImRlcGVuZGVuY2llc0Z1bGZpbGxlZCIsImlzRGF0YVVSSSIsInN0YXJ0c1dpdGgiLCJwYXRoIiwid2FzbUJpbmFyeUZpbGUiLCJnZXRCaW5hcnkiLCJhYm9ydCIsImNyZWF0ZVdhc20iLCJlbnYiLCJpbmZvIiwicmVjZWl2ZUluc3RhbmNlIiwiaW5zdGFuY2UiLCJtb2R1bGUiLCJleHBvcnRzIiwiaWQiLCJjbGVhckludGVydmFsIiwicmVtb3ZlUnVuRGVwZW5kZW5jeSIsInJlY2VpdmVJbnN0YW50aWF0ZWRTb3VyY2UiLCJpbnN0YW50aWF0ZUFycmF5QnVmZmVyIiwicmVjZWl2ZXIiLCJmZXRjaCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiY3JlZGVudGlhbHMiLCJ0aGVuIiwiY2F0Y2giLCJiaW5hcnkiLCJpbnN0YW50aWF0ZSIsInJlYXNvbiIsImluc3RhbnRpYXRlU3RyZWFtaW5nIiwiaW5zdGFudGlhdGVBc3luYyIsIl9yb3VuZCIsImQiLCJfX19zZXRFcnJObyIsImFib3J0T25DYW5ub3RHcm93TWVtb3J5IiwicmVxdWVzdGVkU2l6ZSIsImdsb2JhbCIsInByb3ZpZGVkQnVmZmVyIiwiVGFibGUiLCJlbGVtZW50IiwiYXNtTGlicmFyeUFyZyIsImIiLCJjb25kaXRpb24iLCJsaW5lIiwiYnVmIiwibGVuIiwiZyIsImRlc3QiLCJudW0iLCJoIiwiZiIsImMiLCJpbmNyZW1lbnQiLCJvbGREeW5hbWljVG9wIiwibmV3RHluYW1pY1RvcCIsInRvdGFsTWVtb3J5IiwiYXNtIiwiX2Vtc2NyaXB0ZW5fYmluZF9Wb2lkUHRyX19fZGVzdHJveV9fXzAiLCJfZW1zY3JpcHRlbl9iaW5kX0NvbnRhaW5lcl9Db250YWluZXJfMCIsIl9lbXNjcmlwdGVuX2JpbmRfQ29udGFpbmVyX2luaXRfMyIsIl9lbXNjcmlwdGVuX2JpbmRfQ29udGFpbmVyX3dyaXRlRnJhbWVfMyIsIl9lbXNjcmlwdGVuX2JpbmRfQ29udGFpbmVyX19fZGVzdHJveV9fXzAiLCJFeGl0U3RhdHVzIiwicnVuIiwiYXJncyIsImRvUnVuIiwiY2IiLCJ1bnNoaWZ0IiwicG9zdFJ1biIsInByZVJ1biIsIndoYXQiLCJvbGQiLCJydW5DYWxsZXIiLCJwb3AiLCJXcmFwcGVyT2JqZWN0IiwiZ2V0Q2FjaGUiLCJfX2NsYXNzX18iLCJfX2NhY2hlX18iLCJ3cmFwUG9pbnRlciIsImNhY2hlIiwicmV0Iiwib2JqIiwib2JqMSIsIm9iajIiLCJWb2lkUHRyIiwiX19kZXN0cm95X18iLCJhcmcwIiwiYXJnMSIsImFyZzIiLCJzZXR1cEVudW1zIiwiaW5pdFdvcmtlciIsIndvcmtlckdsb2JhbFNjb3BlIiwiT2dnT3B1c0VuY29kZXIiLCJlbmNvZGVyTW9kdWxlIiwiZGVmaW5lIiwiV29ya2VyR2xvYmFsU2NvcGUiLCJsb2NhbEF1ZGlvIiwiY3JlYXRlRWxlbWVudCIsIm11dGVkIiwiaGlkZGVuIiwiYXV0b3BsYXkiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJmaWxlTmFtZSIsImF1ZGlvQ3R4IiwiYXVkaW9SZWNvcmRlciIsInJlY29yZGVyQ2FsbGJhY2siLCJPZ2dPcHVzUmVjb3JkZXIiLCJmaWxlIiwicmVwbGFjZSIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJyZXN1bHQiLCJkZWNvZGVBdWRpb0RhdGEiLCJjcmVhdGVTb3VuZFNvdXJjZSIsInRvU3RyaW5nIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJzb3VuZFNvdXJjZSIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsImNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24iLCJzdGFydCIsInNyY09iamVjdCIsImNyZWF0ZU1lZGlhUmVjb3JkZXIiLCJyZWNvcmRlciIsIk1lZGlhUmVjb3JkZXIiLCJkYXRhQ2h1bmtzIiwib25zdGFydCIsIm9uZGF0YWF2YWlsYWJsZSIsIm9uc3RvcCIsImJsb2IiLCJvbnBhdXNlIiwib25yZXN1bWUiLCJ0b0xvd2VyQ2FzZSIsInN0b3AiLCJhZGRFdmVudExpc3RlbmVyIiwicGxheSIsInN0YXJ0UmVjb3JkaW5nIl0sIm1hcHBpbmdzIjoiQUFLQSxNQUFNQSxZQUFjLElBQUlDLFFBT2xCQyxTQUFXLElBQUlELFFBUXJCLFNBQVNFLEdBQUdDLEdBQ1IsTUFBTUMsRUFBT0wsWUFBWU0sSUFBSUYsR0FFN0IsT0FEQUcsUUFBUUMsT0FBZSxNQUFSSCxFQUFjLDhDQUErQ0QsR0FDckVDLEVBYVgsU0FBU0ksYUFBYUMsRUFBYU4sR0FDL0JKLFlBQVlXLElBQUlDLEtBQU0sQ0FDbEJGLFlBQUFBLEVBQ0FOLE1BQUFBLEVBQ0FTLFdBQVksRUFDWkMsY0FBZUosRUFDZkssVUFBVSxFQUNWQyxTQUFTLEVBQ1RDLGdCQUFpQixLQUNqQkMsVUFBV2QsRUFBTWMsV0FBYUMsS0FBS0MsUUFJdkNDLE9BQU9DLGVBQWVWLEtBQU0sWUFBYSxDQUFFVyxPQUFPLEVBQU9DLFlBQVksSUFHckUsTUFBTUMsRUFBT0osT0FBT0ksS0FBS3JCLEdBQ3pCLElBQUssSUFBSXNCLEVBQUksRUFBR0EsRUFBSUQsRUFBS0UsU0FBVUQsRUFBRyxDQUNsQyxNQUFNRSxFQUFNSCxFQUFLQyxHQUNYRSxLQUFPaEIsTUFDVFMsT0FBT0MsZUFBZVYsS0FBTWdCLEVBQUtDLHlCQUF5QkQsS0F3THRFLFNBQVNDLHlCQUF5QkQsR0FDOUIsTUFBTyxDQUNIRSxNQUNJLE9BQU8zQixHQUFHUyxNQUFNUixNQUFNd0IsSUFFMUJFLElBQUlQLEdBQ0FwQixHQUFHUyxNQUFNUixNQUFNd0IsR0FBT0wsR0FFMUJRLGNBQWMsRUFDZFAsWUFBWSxHQVVwQixTQUFTUSxxQkFBcUJKLEdBQzFCLE1BQU8sQ0FDSEUsUUFDSSxNQUFNMUIsRUFBUUQsR0FBR1MsTUFBTVIsTUFDdkIsT0FBT0EsRUFBTXdCLEdBQUtLLE1BQU03QixFQUFPOEIsWUFFbkNILGNB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LFdBQzVCLFFBQTZCL2MsSUFBekJ5RCxxQkFDQTVKLFFBQVFzRyxNQUFNLGtDQUNYLENBQ2dCLENBQ2YsYUFDQSxZQUNBLFlBQ0Esd0JBQ0EsYUFDQSwwQkFFU3FKLFNBQVEsU0FBVTVNLEdBQzNCL0MsUUFBUW9YLElBQUlyVSxFQUFPLFFBQVV5ZixjQUFjMVgsZ0JBQWdCL0gsR0FBUSxZQUFjLHlCQUcxRiIsImZpbGUiOiJPZ2dPcHVzUmVjb3JkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUHJpdmF0ZSBkYXRhIGZvciBldmVudCB3cmFwcGVycy5cclxuICogQHR5cGUge1dlYWtNYXA8RXZlbnQsIFByaXZhdGVEYXRhPn1cclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHByaXZhdGVEYXRhID0gbmV3IFdlYWtNYXAoKTtcclxuXHJcbi8qKlxyXG4gKiBDYWNoZSBmb3Igd3JhcHBlciBjbGFzc2VzLlxyXG4gKiBAdHlwZSB7V2Vha01hcDxPYmplY3QsIEZ1bmN0aW9uPn1cclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHdyYXBwZXJzID0gbmV3IFdlYWtNYXAoKTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgcHJpdmF0ZSBkYXRhLlxyXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQgb2JqZWN0IHRvIGdldCBwcml2YXRlIGRhdGEuXHJcbiAqIEByZXR1cm5zIHtQcml2YXRlRGF0YX0gVGhlIHByaXZhdGUgZGF0YSBvZiB0aGUgZXZlbnQuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBwZChldmVudCkge1xyXG4gICAgY29uc3QgcmV0diA9IHByaXZhdGVEYXRhLmdldChldmVudCk7XHJcbiAgICBjb25zb2xlLmFzc2VydChyZXR2ICE9IG51bGwsIFwiJ3RoaXMnIGlzIGV4cGVjdGVkIGFuIEV2ZW50IG9iamVjdCwgYnV0IGdvdFwiLCBldmVudCk7XHJcbiAgICByZXR1cm4gcmV0dlxyXG59XHJcblxyXG4vKipcclxuICogQHNlZSBodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcvI2ludGVyZmFjZS1ldmVudFxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuLyoqXHJcbiAqIFRoZSBldmVudCB3cmFwcGVyLlxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gZXZlbnRUYXJnZXQgVGhlIGV2ZW50IHRhcmdldCBvZiB0aGlzIGRpc3BhdGNoaW5nLlxyXG4gKiBAcGFyYW0ge0V2ZW50V3JhcHBlcnx7dHlwZTpzdHJpbmd9fSBldmVudCBUaGUgb3JpZ2luYWwgZXZlbnQgdG8gd3JhcC5cclxuICovXHJcbmZ1bmN0aW9uIEV2ZW50V3JhcHBlcihldmVudFRhcmdldCwgZXZlbnQpIHtcclxuICAgIHByaXZhdGVEYXRhLnNldCh0aGlzLCB7XHJcbiAgICAgICAgZXZlbnRUYXJnZXQsXHJcbiAgICAgICAgZXZlbnQsXHJcbiAgICAgICAgZXZlbnRQaGFzZTogMixcclxuICAgICAgICBjdXJyZW50VGFyZ2V0OiBldmVudFRhcmdldCxcclxuICAgICAgICBjYW5jZWxlZDogZmFsc2UsXHJcbiAgICAgICAgc3RvcHBlZDogZmFsc2UsXHJcbiAgICAgICAgcGFzc2l2ZUxpc3RlbmVyOiBudWxsLFxyXG4gICAgICAgIHRpbWVTdGFtcDogZXZlbnQudGltZVN0YW1wIHx8IERhdGUubm93KCksXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBodHRwczovL2hleWNhbS5naXRodWIuaW8vd2ViaWRsLyNVbmZvcmdlYWJsZVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNUcnVzdGVkXCIsIHsgdmFsdWU6IGZhbHNlLCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xyXG5cclxuICAgIC8vIERlZmluZSBhY2Nlc3NvcnNcclxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhldmVudCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgIGlmICghKGtleSBpbiB0aGlzKSkge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCBkZWZpbmVSZWRpcmVjdERlc2NyaXB0b3Ioa2V5KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBTaG91bGQgYmUgZW51bWVyYWJsZSwgYnV0IGNsYXNzIG1ldGhvZHMgYXJlIG5vdCBlbnVtZXJhYmxlLlxyXG5FdmVudFdyYXBwZXIucHJvdG90eXBlID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGlzIGV2ZW50LlxyXG4gICAgICogQHR5cGUge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0IHR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHBkKHRoaXMpLmV2ZW50LnR5cGVcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgdGFyZ2V0IG9mIHRoaXMgZXZlbnQuXHJcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR9XHJcbiAgICAgKi9cclxuICAgIGdldCB0YXJnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHBkKHRoaXMpLmV2ZW50VGFyZ2V0XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHRhcmdldCBvZiB0aGlzIGV2ZW50LlxyXG4gICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fVxyXG4gICAgICovXHJcbiAgICBnZXQgY3VycmVudFRhcmdldCgpIHtcclxuICAgICAgICByZXR1cm4gcGQodGhpcykuY3VycmVudFRhcmdldFxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm5zIHtFdmVudFRhcmdldFtdfSBUaGUgY29tcG9zZWQgcGF0aCBvZiB0aGlzIGV2ZW50LlxyXG4gICAgICovXHJcbiAgICBjb21wb3NlZFBhdGgoKSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFRhcmdldCA9IHBkKHRoaXMpLmN1cnJlbnRUYXJnZXQ7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRUYXJnZXQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW11cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtjdXJyZW50VGFyZ2V0XVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0YW50IG9mIE5PTkUuXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgTk9ORSgpIHtcclxuICAgICAgICByZXR1cm4gMFxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0YW50IG9mIENBUFRVUklOR19QSEFTRS5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldCBDQVBUVVJJTkdfUEhBU0UoKSB7XHJcbiAgICAgICAgcmV0dXJuIDFcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdGFudCBvZiBBVF9UQVJHRVQuXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgQVRfVEFSR0VUKCkge1xyXG4gICAgICAgIHJldHVybiAyXHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RhbnQgb2YgQlVCQkxJTkdfUEhBU0UuXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgQlVCQkxJTkdfUEhBU0UoKSB7XHJcbiAgICAgICAgcmV0dXJuIDNcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgdGFyZ2V0IG9mIHRoaXMgZXZlbnQuXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgZXZlbnRQaGFzZSgpIHtcclxuICAgICAgICByZXR1cm4gcGQodGhpcykuZXZlbnRQaGFzZVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3AgZXZlbnQgYnViYmxpbmcuXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgc3RvcFByb3BhZ2F0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBwZCh0aGlzKTtcclxuICAgICAgICBpZiAodHlwZW9mIGRhdGEuZXZlbnQuc3RvcFByb3BhZ2F0aW9uID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgZGF0YS5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RvcCBldmVudCBidWJibGluZy5cclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHBkKHRoaXMpO1xyXG5cclxuICAgICAgICBkYXRhLnN0b3BwZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0YS5ldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBkYXRhLmV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgZmxhZyB0byBiZSBidWJibGluZy5cclxuICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBnZXQgYnViYmxlcygpIHtcclxuICAgICAgICByZXR1cm4gQm9vbGVhbihwZCh0aGlzKS5ldmVudC5idWJibGVzKVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBmbGFnIHRvIGJlIGNhbmNlbGFibGUuXHJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgZ2V0IGNhbmNlbGFibGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4ocGQodGhpcykuZXZlbnQuY2FuY2VsYWJsZSlcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYW5jZWwgdGhpcyBldmVudC5cclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcmV2ZW50RGVmYXVsdCgpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gcGQodGhpcyk7XHJcbiAgICAgICAgaWYgKGRhdGEucGFzc2l2ZUxpc3RlbmVyICE9IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRXZlbnRXcmFwcGVyI3ByZXZlbnREZWZhdWx0KCkgd2FzIGNhbGxlZCBmcm9tIGEgcGFzc2l2ZSBsaXN0ZW5lcjpcIiwgZGF0YS5wYXNzaXZlTGlzdGVuZXIpO1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFkYXRhLmV2ZW50LmNhbmNlbGFibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkYXRhLmNhbmNlbGVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAodHlwZW9mIGRhdGEuZXZlbnQucHJldmVudERlZmF1bHQgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBkYXRhLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBmbGFnIHRvIGluZGljYXRlIGNhbmNlbGxhdGlvbiBzdGF0ZS5cclxuICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBnZXQgZGVmYXVsdFByZXZlbnRlZCgpIHtcclxuICAgICAgICByZXR1cm4gcGQodGhpcykuY2FuY2VsZWRcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgZmxhZyB0byBiZSBjb21wb3NlZC5cclxuICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBnZXQgY29tcG9zZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4ocGQodGhpcykuZXZlbnQuY29tcG9zZWQpXHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHVuaXggdGltZSBvZiB0aGlzIGV2ZW50LlxyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHRpbWVTdGFtcCgpIHtcclxuICAgICAgICByZXR1cm4gcGQodGhpcykudGltZVN0YW1wXHJcbiAgICB9LFxyXG59O1xyXG5cclxuLy8gYGNvbnN0cnVjdG9yYCBpcyBub3QgZW51bWVyYWJsZS5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50V3JhcHBlci5wcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgeyB2YWx1ZTogRXZlbnRXcmFwcGVyLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pO1xyXG5cclxuLy8gRW5zdXJlIGBldmVudCBpbnN0YW5jZW9mIHdpbmRvdy5FdmVudFdyYXBwZXJgIGlzIGB0cnVlYC5cclxuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHdpbmRvdy5FdmVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKEV2ZW50V3JhcHBlci5wcm90b3R5cGUsIHdpbmRvdy5FdmVudC5wcm90b3R5cGUpO1xyXG5cclxuICAgIC8vIE1ha2UgYXNzb2NpYXRpb24gZm9yIHdyYXBwZXJzLlxyXG4gICAgd3JhcHBlcnMuc2V0KHdpbmRvdy5FdmVudC5wcm90b3R5cGUsIEV2ZW50V3JhcHBlcik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIHByb3BlcnR5IGRlc2NyaXB0b3IgdG8gcmVkaXJlY3QgYSBnaXZlbiBwcm9wZXJ0eS5cclxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBQcm9wZXJ0eSBuYW1lIHRvIGRlZmluZSBwcm9wZXJ0eSBkZXNjcmlwdG9yLlxyXG4gKiBAcmV0dXJucyB7UHJvcGVydHlEZXNjcmlwdG9yfSBUaGUgcHJvcGVydHkgZGVzY3JpcHRvciB0byByZWRpcmVjdCB0aGUgcHJvcGVydHkuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWZpbmVSZWRpcmVjdERlc2NyaXB0b3Ioa2V5KSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGdldCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBkKHRoaXMpLmV2ZW50W2tleV1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCh2YWx1ZSkge1xyXG4gICAgICAgICAgICBwZCh0aGlzKS5ldmVudFtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciB0byBjYWxsIGEgZ2l2ZW4gbWV0aG9kIHByb3BlcnR5LlxyXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFByb3BlcnR5IG5hbWUgdG8gZGVmaW5lIHByb3BlcnR5IGRlc2NyaXB0b3IuXHJcbiAqIEByZXR1cm5zIHtQcm9wZXJ0eURlc2NyaXB0b3J9IFRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIHRvIGNhbGwgdGhlIG1ldGhvZCBwcm9wZXJ0eS5cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGRlZmluZUNhbGxEZXNjcmlwdG9yKGtleSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB2YWx1ZSgpIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBwZCh0aGlzKS5ldmVudDtcclxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50W2tleV0uYXBwbHkoZXZlbnQsIGFyZ3VtZW50cylcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogRGVmaW5lIG5ldyB3cmFwcGVyIGNsYXNzLlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBCYXNlRXZlbnQgVGhlIGJhc2Ugd3JhcHBlciBjbGFzcy5cclxuICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBwcm90b3R5cGUgb2YgdGhlIG9yaWdpbmFsIGV2ZW50LlxyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFRoZSBkZWZpbmVkIHdyYXBwZXIgY2xhc3MuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWZpbmVXcmFwcGVyKEJhc2VFdmVudCwgcHJvdG8pIHtcclxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm90byk7XHJcbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gQmFzZUV2ZW50XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEN1c3RvbUV2ZW50ICovXHJcbiAgICBmdW5jdGlvbiBDdXN0b21FdmVudChldmVudFRhcmdldCwgZXZlbnQpIHtcclxuICAgICAgICBCYXNlRXZlbnQuY2FsbCh0aGlzLCBldmVudFRhcmdldCwgZXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIEN1c3RvbUV2ZW50LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQmFzZUV2ZW50LnByb3RvdHlwZSwge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBDdXN0b21FdmVudCwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRGVmaW5lIGFjY2Vzc29ycy5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgaWYgKCEoa2V5IGluIEJhc2VFdmVudC5wcm90b3R5cGUpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3RvLCBrZXkpO1xyXG4gICAgICAgICAgICBjb25zdCBpc0Z1bmMgPSAodHlwZW9mIGRlc2NyaXB0b3IudmFsdWUgPT09IFwiZnVuY3Rpb25cIik7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcclxuICAgICAgICAgICAgICAgIEN1c3RvbUV2ZW50LnByb3RvdHlwZSxcclxuICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgIGlzRnVuYyA/IGRlZmluZUNhbGxEZXNjcmlwdG9yKGtleSkgOiBkZWZpbmVSZWRpcmVjdERlc2NyaXB0b3Ioa2V5KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gQ3VzdG9tRXZlbnRcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgd3JhcHBlciBjbGFzcyBvZiBhIGdpdmVuIHByb3RvdHlwZS5cclxuICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBwcm90b3R5cGUgb2YgdGhlIG9yaWdpbmFsIGV2ZW50IHRvIGdldCBpdHMgd3JhcHBlci5cclxuICogQHJldHVybnMge0Z1bmN0aW9ufSBUaGUgd3JhcHBlciBjbGFzcy5cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGdldFdyYXBwZXIocHJvdG8pIHtcclxuICAgIGlmIChwcm90byA9PSBudWxsIHx8IHByb3RvID09PSBPYmplY3QucHJvdG90eXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIEV2ZW50V3JhcHBlclxyXG4gICAgfVxyXG5cclxuICAgIGxldCB3cmFwcGVyID0gd3JhcHBlcnMuZ2V0KHByb3RvKTtcclxuICAgIGlmICh3cmFwcGVyID09IG51bGwpIHtcclxuICAgICAgICB3cmFwcGVyID0gZGVmaW5lV3JhcHBlcihnZXRXcmFwcGVyKE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykpLCBwcm90byk7XHJcbiAgICAgICAgd3JhcHBlcnMuc2V0KHByb3RvLCB3cmFwcGVyKTtcclxuICAgIH1cclxuICAgIHJldHVybiB3cmFwcGVyXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBXcmFwIGEgZ2l2ZW4gZXZlbnQgdG8gbWFuYWdlbWVudCBhIGRpc3BhdGNoaW5nLlxyXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBldmVudFRhcmdldCBUaGUgZXZlbnQgdGFyZ2V0IG9mIHRoaXMgZGlzcGF0Y2hpbmcuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBUaGUgZXZlbnQgdG8gd3JhcC5cclxuICogQHJldHVybnMge0V2ZW50V3JhcHBlcn0gVGhlIHdyYXBwZXIgaW5zdGFuY2UuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiB3cmFwRXZlbnQoZXZlbnRUYXJnZXQsIGV2ZW50KSB7XHJcbiAgICBjb25zdCBXcmFwcGVyID0gZ2V0V3JhcHBlcihPYmplY3QuZ2V0UHJvdG90eXBlT2YoZXZlbnQpKTtcclxuICAgIHJldHVybiBuZXcgV3JhcHBlcihldmVudFRhcmdldCwgZXZlbnQpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIHN0b3BwZWQgZmxhZyBvZiBhIGdpdmVuIGV2ZW50LlxyXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQgdG8gZ2V0LlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVGhlIGZsYWcgdG8gc3RvcCBwcm9wYWdhdGlvbiBpbW1lZGlhdGVseS5cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGlzU3RvcHBlZChldmVudCkge1xyXG4gICAgcmV0dXJuIHBkKGV2ZW50KS5zdG9wcGVkXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIGN1cnJlbnQgZXZlbnQgcGhhc2Ugb2YgYSBnaXZlbiBldmVudC5cclxuICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIHNldCBjdXJyZW50IHRhcmdldC5cclxuICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50UGhhc2UgTmV3IGV2ZW50IHBoYXNlLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHNldEV2ZW50UGhhc2UoZXZlbnQsIGV2ZW50UGhhc2UpIHtcclxuICAgIHBkKGV2ZW50KS5ldmVudFBoYXNlID0gZXZlbnRQaGFzZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgY3VycmVudCB0YXJnZXQgb2YgYSBnaXZlbiBldmVudC5cclxuICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIHNldCBjdXJyZW50IHRhcmdldC5cclxuICogQHBhcmFtIHtFdmVudFRhcmdldHxudWxsfSBjdXJyZW50VGFyZ2V0IE5ldyBjdXJyZW50IHRhcmdldC5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRDdXJyZW50VGFyZ2V0KGV2ZW50LCBjdXJyZW50VGFyZ2V0KSB7XHJcbiAgICBwZChldmVudCkuY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgYSBwYXNzaXZlIGxpc3RlbmVyIG9mIGEgZ2l2ZW4gZXZlbnQuXHJcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBldmVudCB0byBzZXQgY3VycmVudCB0YXJnZXQuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb258bnVsbH0gcGFzc2l2ZUxpc3RlbmVyIE5ldyBwYXNzaXZlIGxpc3RlbmVyLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHNldFBhc3NpdmVMaXN0ZW5lcihldmVudCwgcGFzc2l2ZUxpc3RlbmVyKSB7XHJcbiAgICBwZChldmVudCkucGFzc2l2ZUxpc3RlbmVyID0gcGFzc2l2ZUxpc3RlbmVyO1xyXG59XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge29iamVjdH0gTGlzdGVuZXJOb2RlXHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGxpc3RlbmVyXHJcbiAqIEBwcm9wZXJ0eSB7MXwyfDN9IGxpc3RlbmVyVHlwZVxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHBhc3NpdmVcclxuICogQHByb3BlcnR5IHtib29sZWFufSBvbmNlXHJcbiAqIEBwcm9wZXJ0eSB7TGlzdGVuZXJOb2RlfG51bGx9IG5leHRcclxuICogQHByaXZhdGVcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGUge1dlYWtNYXA8b2JqZWN0LCBNYXA8c3RyaW5nLCBMaXN0ZW5lck5vZGU+Pn1cclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IGxpc3RlbmVyc01hcCA9IG5ldyBXZWFrTWFwKCk7XHJcblxyXG4vLyBMaXN0ZW5lciB0eXBlc1xyXG5jb25zdCBDQVBUVVJFID0gMTtcclxuY29uc3QgQlVCQkxFID0gMjtcclxuY29uc3QgQVRUUklCVVRFID0gMztcclxuXHJcbi8qKlxyXG4gKiBDaGVjayB3aGV0aGVyIGEgZ2l2ZW4gdmFsdWUgaXMgYW4gb2JqZWN0IG9yIG5vdC5cclxuICogQHBhcmFtIHthbnl9IHggVGhlIHZhbHVlIHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2YWx1ZSBpcyBhbiBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc09iamVjdCh4KSB7XHJcbiAgICByZXR1cm4geCAhPT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBsaXN0ZW5lcnMuXHJcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGV2ZW50VGFyZ2V0IFRoZSBldmVudCB0YXJnZXQgdG8gZ2V0LlxyXG4gKiBAcmV0dXJucyB7TWFwPHN0cmluZywgTGlzdGVuZXJOb2RlPn0gVGhlIGxpc3RlbmVycy5cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGdldExpc3RlbmVycyhldmVudFRhcmdldCkge1xyXG4gICAgY29uc3QgbGlzdGVuZXJzID0gbGlzdGVuZXJzTWFwLmdldChldmVudFRhcmdldCk7XHJcbiAgICBpZiAobGlzdGVuZXJzID09IG51bGwpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiJ3RoaXMnIGlzIGV4cGVjdGVkIGFuIEV2ZW50VGFyZ2V0IG9iamVjdCwgYnV0IGdvdCBhbm90aGVyIHZhbHVlLlwiKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxpc3RlbmVyc1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGZvciB0aGUgZXZlbnQgYXR0cmlidXRlIG9mIGEgZ2l2ZW4gZXZlbnQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgVGhlIGV2ZW50IG5hbWUgdG8gZ2V0IHByb3BlcnR5IGRlc2NyaXB0b3IuXHJcbiAqIEByZXR1cm5zIHtQcm9wZXJ0eURlc2NyaXB0b3J9IFRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yLlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gZGVmaW5lRXZlbnRBdHRyaWJ1dGVEZXNjcmlwdG9yKGV2ZW50TmFtZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBnZXQoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IGdldExpc3RlbmVycyh0aGlzKTtcclxuICAgICAgICAgICAgbGV0IG5vZGUgPSBsaXN0ZW5lcnMuZ2V0KGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIHdoaWxlIChub2RlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLmxpc3RlbmVyVHlwZSA9PT0gQVRUUklCVVRFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUubGlzdGVuZXJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLm5leHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXQobGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiICYmICFpc09iamVjdChsaXN0ZW5lcikpIHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbnVsbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IGdldExpc3RlbmVycyh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRyYXZlcnNlIHRvIHRoZSB0YWlsIHdoaWxlIHJlbW92aW5nIG9sZCB2YWx1ZS5cclxuICAgICAgICAgICAgbGV0IHByZXYgPSBudWxsO1xyXG4gICAgICAgICAgICBsZXQgbm9kZSA9IGxpc3RlbmVycy5nZXQoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgd2hpbGUgKG5vZGUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubGlzdGVuZXJUeXBlID09PSBBVFRSSUJVVEUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgb2xkIHZhbHVlLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXYubmV4dCA9IG5vZGUubmV4dDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5uZXh0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zZXQoZXZlbnROYW1lLCBub2RlLm5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLmRlbGV0ZShldmVudE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXYgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLm5leHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBuZXcgdmFsdWUuXHJcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Tm9kZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcixcclxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lclR5cGU6IEFUVFJJQlVURSxcclxuICAgICAgICAgICAgICAgICAgICBwYXNzaXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBvbmNlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBuZXh0OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGlmIChwcmV2ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNldChldmVudE5hbWUsIG5ld05vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldi5uZXh0ID0gbmV3Tm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWZpbmUgYW4gZXZlbnQgYXR0cmlidXRlIChlLmcuIGBldmVudFRhcmdldC5vbmNsaWNrYCkuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFRhcmdldFByb3RvdHlwZSBUaGUgZXZlbnQgdGFyZ2V0IHByb3RvdHlwZSB0byBkZWZpbmUgYW4gZXZlbnQgYXR0cmJpdGUuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgVGhlIGV2ZW50IG5hbWUgdG8gZGVmaW5lLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXHJcbmZ1bmN0aW9uIGRlZmluZUV2ZW50QXR0cmlidXRlKGV2ZW50VGFyZ2V0UHJvdG90eXBlLCBldmVudE5hbWUpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudFRhcmdldFByb3RvdHlwZSwgYG9uJHtldmVudE5hbWV9YCwgZGVmaW5lRXZlbnRBdHRyaWJ1dGVEZXNjcmlwdG9yKGV2ZW50TmFtZSkpO1xyXG59XHJcblxyXG4vKipcclxuICogRGVmaW5lIGEgY3VzdG9tIEV2ZW50VGFyZ2V0IHdpdGggZXZlbnQgYXR0cmlidXRlcy5cclxuICogQHBhcmFtIHtzdHJpbmdbXX0gZXZlbnROYW1lcyBFdmVudCBuYW1lcyBmb3IgZXZlbnQgYXR0cmlidXRlcy5cclxuICogQHJldHVybnMge0V2ZW50VGFyZ2V0fSBUaGUgY3VzdG9tIEV2ZW50VGFyZ2V0LlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gZGVmaW5lQ3VzdG9tRXZlbnRUYXJnZXQoZXZlbnROYW1lcykge1xyXG4gICAgLyoqIEN1c3RvbUV2ZW50VGFyZ2V0ICovXHJcbiAgICBmdW5jdGlvbiBDdXN0b21FdmVudFRhcmdldCgpIHtcclxuICAgICAgICBFdmVudFRhcmdldFdyYXBwZXIuY2FsbCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBDdXN0b21FdmVudFRhcmdldC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEV2ZW50VGFyZ2V0V3JhcHBlci5wcm90b3R5cGUsIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogQ3VzdG9tRXZlbnRUYXJnZXQsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnROYW1lcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGRlZmluZUV2ZW50QXR0cmlidXRlKEN1c3RvbUV2ZW50VGFyZ2V0LnByb3RvdHlwZSwgZXZlbnROYW1lc1tpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIEN1c3RvbUV2ZW50VGFyZ2V0XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFdmVudFRhcmdldFdyYXBwZXIuXHJcbiAqXHJcbiAqIC0gVGhpcyBpcyBjb25zdHJ1Y3RvciBpZiBubyBhcmd1bWVudHMuXHJcbiAqIC0gVGhpcyBpcyBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYSBDdXN0b21FdmVudFRhcmdldCBjb25zdHJ1Y3RvciBpZiB0aGVyZSBhcmUgYXJndW1lbnRzLlxyXG4gKlxyXG4gKiBGb3IgY3NzOlxyXG4gKlxyXG4gKiAgICAgY2xhc3MgQSBleHRlbmRzIEV2ZW50VGFyZ2V0V3JhcHBlciB7fVxyXG4gKiAgICAgY2xhc3MgQiBleHRlbmRzIEV2ZW50VGFyZ2V0V3JhcHBlcihcIm1lc3NhZ2VcIikge31cclxuICogICAgIGNsYXNzIEMgZXh0ZW5kcyBFdmVudFRhcmdldFdyYXBwZXIoXCJtZXNzYWdlXCIsIFwiZXJyb3JcIikge31cclxuICogICAgIGNsYXNzIEQgZXh0ZW5kcyBFdmVudFRhcmdldFdyYXBwZXIoW1wibWVzc2FnZVwiLCBcImVycm9yXCJdKSB7fVxyXG4gKi9cclxuZnVuY3Rpb24gRXZlbnRUYXJnZXRXcmFwcGVyKCkge1xyXG4gICAgLyplc2xpbnQtZGlzYWJsZSBjb25zaXN0ZW50LXJldHVybiAqL1xyXG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBFdmVudFRhcmdldFdyYXBwZXIpIHtcclxuICAgICAgICBsaXN0ZW5lcnNNYXAuc2V0KHRoaXMsIG5ldyBNYXAoKSk7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiBBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpIHtcclxuICAgICAgICByZXR1cm4gZGVmaW5lQ3VzdG9tRXZlbnRUYXJnZXQoYXJndW1lbnRzWzBdKVxyXG4gICAgfVxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZXMgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdHlwZXNbaV0gPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkZWZpbmVDdXN0b21FdmVudFRhcmdldCh0eXBlcylcclxuICAgIH1cclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIilcclxuICAgIC8qZXNsaW50LWVuYWJsZSBjb25zaXN0ZW50LXJldHVybiAqL1xyXG59XHJcblxyXG4vLyBTaG91bGQgYmUgZW51bWVyYWJsZSwgYnV0IGNsYXNzIG1ldGhvZHMgYXJlIG5vdCBlbnVtZXJhYmxlLlxyXG5FdmVudFRhcmdldFdyYXBwZXIucHJvdG90eXBlID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYSBnaXZlbiBsaXN0ZW5lciB0byB0aGlzIGV2ZW50IHRhcmdldC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgVGhlIGV2ZW50IG5hbWUgdG8gYWRkLlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIHRvIGFkZC5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnx7Y2FwdHVyZT86Ym9vbGVhbixwYXNzaXZlPzpib29sZWFuLG9uY2U/OmJvb2xlYW59fSBbb3B0aW9uc10gVGhlIG9wdGlvbnMgZm9yIHRoaXMgbGlzdGVuZXIuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBsaXN0ZW5lciB3YXMgYWRkZWQgYWN0dWFsbHkuXHJcbiAgICAgKi9cclxuICAgIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lciwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmIChsaXN0ZW5lciA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSBcImZ1bmN0aW9uXCIgJiYgIWlzT2JqZWN0KGxpc3RlbmVyKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiJ2xpc3RlbmVyJyBzaG91bGQgYmUgYSBmdW5jdGlvbiBvciBhbiBvYmplY3QuXCIpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBnZXRMaXN0ZW5lcnModGhpcyk7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uc0lzT2JqID0gaXNPYmplY3Qob3B0aW9ucyk7XHJcbiAgICAgICAgY29uc3QgY2FwdHVyZSA9IG9wdGlvbnNJc09iaiA/IEJvb2xlYW4ob3B0aW9ucy5jYXB0dXJlKSA6IEJvb2xlYW4ob3B0aW9ucyk7XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJUeXBlID0gKGNhcHR1cmUgPyBDQVBUVVJFIDogQlVCQkxFKTtcclxuICAgICAgICBjb25zdCBuZXdOb2RlID0ge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcixcclxuICAgICAgICAgICAgbGlzdGVuZXJUeXBlLFxyXG4gICAgICAgICAgICBwYXNzaXZlOiBvcHRpb25zSXNPYmogJiYgQm9vbGVhbihvcHRpb25zLnBhc3NpdmUpLFxyXG4gICAgICAgICAgICBvbmNlOiBvcHRpb25zSXNPYmogJiYgQm9vbGVhbihvcHRpb25zLm9uY2UpLFxyXG4gICAgICAgICAgICBuZXh0OiBudWxsLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIFNldCBpdCBhcyB0aGUgZmlyc3Qgbm9kZSBpZiB0aGUgZmlyc3Qgbm9kZSBpcyBudWxsLlxyXG4gICAgICAgIGxldCBub2RlID0gbGlzdGVuZXJzLmdldChldmVudE5hbWUpO1xyXG4gICAgICAgIGlmIChub2RlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXJzLnNldChldmVudE5hbWUsIG5ld05vZGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVHJhdmVyc2UgdG8gdGhlIHRhaWwgd2hpbGUgY2hlY2tpbmcgZHVwbGljYXRpb24uLlxyXG4gICAgICAgIGxldCBwcmV2ID0gbnVsbDtcclxuICAgICAgICB3aGlsZSAobm9kZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChub2RlLmxpc3RlbmVyID09PSBsaXN0ZW5lciAmJiBub2RlLmxpc3RlbmVyVHlwZSA9PT0gbGlzdGVuZXJUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTaG91bGQgaWdub3JlIGR1cGxpY2F0aW9uLlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJldiA9IG5vZGU7XHJcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLm5leHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgaXQuXHJcbiAgICAgICAgcHJldi5uZXh0ID0gbmV3Tm9kZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBhIGdpdmVuIGxpc3RlbmVyIGZyb20gdGhpcyBldmVudCB0YXJnZXQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIFRoZSBldmVudCBuYW1lIHRvIHJlbW92ZS5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciB0byByZW1vdmUuXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58e2NhcHR1cmU/OmJvb2xlYW4scGFzc2l2ZT86Ym9vbGVhbixvbmNlPzpib29sZWFufX0gW29wdGlvbnNdIFRoZSBvcHRpb25zIGZvciB0aGlzIGxpc3RlbmVyLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQgYWN0dWFsbHkuXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lciwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmIChsaXN0ZW5lciA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gZ2V0TGlzdGVuZXJzKHRoaXMpO1xyXG4gICAgICAgIGNvbnN0IGNhcHR1cmUgPSBpc09iamVjdChvcHRpb25zKSA/IEJvb2xlYW4ob3B0aW9ucy5jYXB0dXJlKSA6IEJvb2xlYW4ob3B0aW9ucyk7XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJUeXBlID0gKGNhcHR1cmUgPyBDQVBUVVJFIDogQlVCQkxFKTtcclxuXHJcbiAgICAgICAgbGV0IHByZXYgPSBudWxsO1xyXG4gICAgICAgIGxldCBub2RlID0gbGlzdGVuZXJzLmdldChldmVudE5hbWUpO1xyXG4gICAgICAgIHdoaWxlIChub2RlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKG5vZGUubGlzdGVuZXIgPT09IGxpc3RlbmVyICYmIG5vZGUubGlzdGVuZXJUeXBlID09PSBsaXN0ZW5lclR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcmV2ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldi5uZXh0ID0gbm9kZS5uZXh0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5uZXh0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNldChldmVudE5hbWUsIG5vZGUubmV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuZGVsZXRlKGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwcmV2ID0gbm9kZTtcclxuICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3BhdGNoIGEgZ2l2ZW4gZXZlbnQuXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fHt0eXBlOnN0cmluZ319IGV2ZW50IFRoZSBldmVudCB0byBkaXNwYXRjaC5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgZmFsc2VgIGlmIGNhbmNlbGVkLlxyXG4gICAgICovXHJcbiAgICBkaXNwYXRjaEV2ZW50KGV2ZW50KSB7IC8vZXNsaW50LWRpc2FibGUtbGluZSBjb21wbGV4aXR5XHJcbiAgICAgICAgaWYgKGV2ZW50ID09IG51bGwgfHwgdHlwZW9mIGV2ZW50LnR5cGUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlxcXCJldmVudC50eXBlXFxcIiBzaG91bGQgYmUgYSBzdHJpbmcuXCIpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBsaXN0ZW5lcnMgYXJlbid0IHJlZ2lzdGVyZWQsIHRlcm1pbmF0ZS5cclxuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBnZXRMaXN0ZW5lcnModGhpcyk7XHJcbiAgICAgICAgY29uc3QgZXZlbnROYW1lID0gZXZlbnQudHlwZTtcclxuICAgICAgICBsZXQgbm9kZSA9IGxpc3RlbmVycy5nZXQoZXZlbnROYW1lKTtcclxuICAgICAgICBpZiAobm9kZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTaW5jZSB3ZSBjYW5ub3QgcmV3cml0ZSBzZXZlcmFsIHByb3BlcnRpZXMsIHNvIHdyYXAgb2JqZWN0LlxyXG4gICAgICAgIGNvbnN0IHdyYXBwZWRFdmVudCA9IHdyYXBFdmVudCh0aGlzLCBldmVudCk7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgZG9lc24ndCBwcm9jZXNzIGNhcHR1cmluZyBwaGFzZSBhbmQgYnViYmxpbmcgcGhhc2UuXHJcbiAgICAgICAgLy8gVGhpcyBpc24ndCBwYXJ0aWNpcGF0aW5nIGluIGEgdHJlZS5cclxuICAgICAgICBsZXQgcHJldiA9IG51bGw7XHJcbiAgICAgICAgd2hpbGUgKG5vZGUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhpcyBsaXN0ZW5lciBpZiBpdCdzIG9uY2VcclxuICAgICAgICAgICAgaWYgKG5vZGUub25jZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXYgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2Lm5leHQgPSBub2RlLm5leHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChub2RlLm5leHQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc2V0KGV2ZW50TmFtZSwgbm9kZS5uZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5kZWxldGUoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByZXYgPSBub2RlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxsIHRoaXMgbGlzdGVuZXJcclxuICAgICAgICAgICAgc2V0UGFzc2l2ZUxpc3RlbmVyKHdyYXBwZWRFdmVudCwgKG5vZGUucGFzc2l2ZSA/IG5vZGUubGlzdGVuZXIgOiBudWxsKSk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5saXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUubGlzdGVuZXIuY2FsbCh0aGlzLCB3cmFwcGVkRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLyplc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLmxpc3RlbmVyVHlwZSAhPT0gQVRUUklCVVRFICYmIHR5cGVvZiBub2RlLmxpc3RlbmVyLmhhbmRsZUV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUubGlzdGVuZXIuaGFuZGxlRXZlbnQod3JhcHBlZEV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQnJlYWsgaWYgYGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbmAgd2FzIGNhbGxlZC5cclxuICAgICAgICAgICAgaWYgKGlzU3RvcHBlZCh3cmFwcGVkRXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRQYXNzaXZlTGlzdGVuZXIod3JhcHBlZEV2ZW50LCBudWxsKTtcclxuICAgICAgICBzZXRFdmVudFBoYXNlKHdyYXBwZWRFdmVudCwgMCk7XHJcbiAgICAgICAgc2V0Q3VycmVudFRhcmdldCh3cmFwcGVkRXZlbnQsIG51bGwpO1xyXG5cclxuICAgICAgICByZXR1cm4gIXdyYXBwZWRFdmVudC5kZWZhdWx0UHJldmVudGVkXHJcbiAgICB9LFxyXG59O1xyXG5cclxuLy8gYGNvbnN0cnVjdG9yYCBpcyBub3QgZW51bWVyYWJsZS5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50VGFyZ2V0V3JhcHBlci5wcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgeyB2YWx1ZTogRXZlbnRUYXJnZXRXcmFwcGVyLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pO1xyXG5cclxuLy8gRW5zdXJlIGBldmVudFRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5FdmVudFRhcmdldGAgaXMgYHRydWVgLlxyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LkV2ZW50VGFyZ2V0ICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoRXZlbnRUYXJnZXRXcmFwcGVyLnByb3RvdHlwZSwgd2luZG93LkV2ZW50VGFyZ2V0LnByb3RvdHlwZSk7XHJcbn1cclxuXG5cclxudmFyIF9fc3ByZWFkQXJyYXlzID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5cykgfHwgZnVuY3Rpb24gKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcbi8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEJyb3dzZXJJbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQnJvd3NlckluZm8obmFtZSwgdmVyc2lvbiwgb3MpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XHJcbiAgICAgICAgdGhpcy5vcyA9IG9zO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBCcm93c2VySW5mbztcclxufSgpKTtcclxuXHJcbnZhciBOb2RlSW5mbyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE5vZGVJbmZvKHZlcnNpb24pIHtcclxuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdub2RlJztcclxuICAgICAgICB0aGlzLm9zID0gcHJvY2Vzcy5wbGF0Zm9ybTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTm9kZUluZm87XHJcbn0oKSk7XHJcblxyXG52YXIgQm90SW5mbyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJvdEluZm8oKSB7XHJcbiAgICAgICAgdGhpcy5ib3QgPSB0cnVlOyAvLyBOT1RFOiBkZXByZWNhdGVkIHRlc3QgbmFtZSBpbnN0ZWFkXHJcbiAgICAgICAgdGhpcy5uYW1lID0gJ2JvdCc7XHJcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gbnVsbDtcclxuICAgICAgICB0aGlzLm9zID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gQm90SW5mbztcclxufSgpKTtcclxuXHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcclxudmFyIFNFQVJDSEJPWF9VQV9SRUdFWCA9IC9hbGV4YXxib3R8Y3Jhd2woZXJ8aW5nKXxmYWNlYm9va2V4dGVybmFsaGl0fGZlZWRidXJuZXJ8Z29vZ2xlIHdlYiBwcmV2aWV3fG5hZ2lvc3xwb3N0cmFua3xwaW5nZG9tfHNsdXJwfHNwaWRlcnx5YWhvbyF8eWFuZGV4LztcclxudmFyIFNFQVJDSEJPVF9PU19SRUdFWCA9IC8obnVoayl8KEdvb2dsZWJvdCl8KFlhbW15Ym90KXwoT3BlbmJvdCl8KFNsdXJwKXwoTVNOQm90KXwoQXNrIEplZXZlc1xcL1Rlb21hKXwoaWFfYXJjaGl2ZXIpLztcclxudmFyIFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMgPSAzO1xyXG52YXIgdXNlckFnZW50UnVsZXMgPSBbXHJcbiAgICBbJ2FvbCcsIC9BT0xTaGllbGRcXC8oWzAtOVxcLl9dKykvXSxcclxuICAgIFsnZWRnZScsIC9FZGdlXFwvKFswLTlcXC5fXSspL10sXHJcbiAgICBbJ2VkZ2UtaW9zJywgL0VkZ2lPU1xcLyhbMC05XFwuX10rKS9dLFxyXG4gICAgWyd5YW5kZXhicm93c2VyJywgL1lhQnJvd3NlclxcLyhbMC05XFwuX10rKS9dLFxyXG4gICAgWyd2aXZhbGRpJywgL1ZpdmFsZGlcXC8oWzAtOVxcLl0rKS9dLFxyXG4gICAgWydrYWthb3RhbGsnLCAvS0FLQU9UQUxLXFxzKFswLTlcXC5dKykvXSxcclxuICAgIFsnc2Ftc3VuZycsIC9TYW1zdW5nQnJvd3NlclxcLyhbMC05XFwuXSspL10sXHJcbiAgICBbJ3NpbGsnLCAvXFxiU2lsa1xcLyhbMC05Ll8tXSspXFxiL10sXHJcbiAgICBbJ21pdWknLCAvTWl1aUJyb3dzZXJcXC8oWzAtOVxcLl0rKSQvXSxcclxuICAgIFsnYmVha2VyJywgL0JlYWtlckJyb3dzZXJcXC8oWzAtOVxcLl0rKS9dLFxyXG4gICAgWydlZGdlLWNocm9taXVtJywgL0VkZ1xcLyhbMC05XFwuXSspL10sXHJcbiAgICBbXHJcbiAgICAgICAgJ2Nocm9taXVtLXdlYnZpZXcnLFxyXG4gICAgICAgIC8oPyFDaHJvbS4qT1BSKXd2XFwpLipDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpLyxcclxuICAgIF0sXHJcbiAgICBbJ2Nocm9tZScsIC8oPyFDaHJvbS4qT1BSKUNocm9tKD86ZXxpdW0pXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcclxuICAgIFsncGhhbnRvbWpzJywgL1BoYW50b21KU1xcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXHJcbiAgICBbJ2NyaW9zJywgL0NyaU9TXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcclxuICAgIFsnZmlyZWZveCcsIC9GaXJlZm94XFwvKFswLTlcXC5dKykoPzpcXHN8JCkvXSxcclxuICAgIFsnZnhpb3MnLCAvRnhpT1NcXC8oWzAtOVxcLl0rKS9dLFxyXG4gICAgWydvcGVyYS1taW5pJywgL09wZXJhIE1pbmkuKlZlcnNpb25cXC8oWzAtOVxcLl0rKS9dLFxyXG4gICAgWydvcGVyYScsIC9PcGVyYVxcLyhbMC05XFwuXSspKD86XFxzfCQpL10sXHJcbiAgICBbJ29wZXJhJywgL09QUlxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXHJcbiAgICBbJ2llJywgL1RyaWRlbnRcXC83XFwuMC4qcnZcXDooWzAtOVxcLl0rKS4qXFwpLipHZWNrbyQvXSxcclxuICAgIFsnaWUnLCAvTVNJRVxccyhbMC05XFwuXSspOy4qVHJpZGVudFxcL1s0LTddLjAvXSxcclxuICAgIFsnaWUnLCAvTVNJRVxccyg3XFwuMCkvXSxcclxuICAgIFsnYmIxMCcsIC9CQjEwO1xcc1RvdWNoLipWZXJzaW9uXFwvKFswLTlcXC5dKykvXSxcclxuICAgIFsnYW5kcm9pZCcsIC9BbmRyb2lkXFxzKFswLTlcXC5dKykvXSxcclxuICAgIFsnaW9zJywgL1ZlcnNpb25cXC8oWzAtOVxcLl9dKykuKk1vYmlsZS4qU2FmYXJpLiovXSxcclxuICAgIFsnc2FmYXJpJywgL1ZlcnNpb25cXC8oWzAtOVxcLl9dKykuKlNhZmFyaS9dLFxyXG4gICAgWydmYWNlYm9vaycsIC9GQkFWXFwvKFswLTlcXC5dKykvXSxcclxuICAgIFsnaW5zdGFncmFtJywgL0luc3RhZ3JhbVxccyhbMC05XFwuXSspL10sXHJcbiAgICBbJ2lvcy13ZWJ2aWV3JywgL0FwcGxlV2ViS2l0XFwvKFswLTlcXC5dKykuKk1vYmlsZS9dLFxyXG4gICAgWydpb3Mtd2VidmlldycsIC9BcHBsZVdlYktpdFxcLyhbMC05XFwuXSspLipHZWNrb1xcKSQvXSxcclxuICAgIFsnc2VhcmNoYm90JywgU0VBUkNIQk9YX1VBX1JFR0VYXSxcclxuXTtcclxudmFyIG9wZXJhdGluZ1N5c3RlbVJ1bGVzID0gW1xyXG4gICAgWydpT1MnLCAvaVAoaG9uZXxvZHxhZCkvXSxcclxuICAgIFsnQW5kcm9pZCBPUycsIC9BbmRyb2lkL10sXHJcbiAgICBbJ0JsYWNrQmVycnkgT1MnLCAvQmxhY2tCZXJyeXxCQjEwL10sXHJcbiAgICBbJ1dpbmRvd3MgTW9iaWxlJywgL0lFTW9iaWxlL10sXHJcbiAgICBbJ0FtYXpvbiBPUycsIC9LaW5kbGUvXSxcclxuICAgIFsnV2luZG93cyAzLjExJywgL1dpbjE2L10sXHJcbiAgICBbJ1dpbmRvd3MgOTUnLCAvKFdpbmRvd3MgOTUpfChXaW45NSl8KFdpbmRvd3NfOTUpL10sXHJcbiAgICBbJ1dpbmRvd3MgOTgnLCAvKFdpbmRvd3MgOTgpfChXaW45OCkvXSxcclxuICAgIFsnV2luZG93cyAyMDAwJywgLyhXaW5kb3dzIE5UIDUuMCl8KFdpbmRvd3MgMjAwMCkvXSxcclxuICAgIFsnV2luZG93cyBYUCcsIC8oV2luZG93cyBOVCA1LjEpfChXaW5kb3dzIFhQKS9dLFxyXG4gICAgWydXaW5kb3dzIFNlcnZlciAyMDAzJywgLyhXaW5kb3dzIE5UIDUuMikvXSxcclxuICAgIFsnV2luZG93cyBWaXN0YScsIC8oV2luZG93cyBOVCA2LjApL10sXHJcbiAgICBbJ1dpbmRvd3MgNycsIC8oV2luZG93cyBOVCA2LjEpL10sXHJcbiAgICBbJ1dpbmRvd3MgOCcsIC8oV2luZG93cyBOVCA2LjIpL10sXHJcbiAgICBbJ1dpbmRvd3MgOC4xJywgLyhXaW5kb3dzIE5UIDYuMykvXSxcclxuICAgIFsnV2luZG93cyAxMCcsIC8oV2luZG93cyBOVCAxMC4wKS9dLFxyXG4gICAgWydXaW5kb3dzIE1FJywgL1dpbmRvd3MgTUUvXSxcclxuICAgIFsnT3BlbiBCU0QnLCAvT3BlbkJTRC9dLFxyXG4gICAgWydTdW4gT1MnLCAvU3VuT1MvXSxcclxuICAgIFsnQ2hyb21lIE9TJywgL0NyT1MvXSxcclxuICAgIFsnTGludXgnLCAvKExpbnV4KXwoWDExKS9dLFxyXG4gICAgWydNYWMgT1MnLCAvKE1hY19Qb3dlclBDKXwoTWFjaW50b3NoKS9dLFxyXG4gICAgWydRTlgnLCAvUU5YL10sXHJcbiAgICBbJ0JlT1MnLCAvQmVPUy9dLFxyXG4gICAgWydPUy8yJywgL09TXFwvMi9dLFxyXG4gICAgWydTZWFyY2ggQm90JywgU0VBUkNIQk9UX09TX1JFR0VYXSxcclxuXTtcclxuXHJcbmZ1bmN0aW9uIGRldGVjdCh1c2VyQWdlbnQpIHtcclxuICAgIGlmICghIXVzZXJBZ2VudCkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZVVzZXJBZ2VudCh1c2VyQWdlbnQpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlVXNlckFnZW50KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdldE5vZGVWZXJzaW9uKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlVXNlckFnZW50KHVhKSB7XHJcbiAgICAvLyBvcHRlZCBmb3IgdXNpbmcgcmVkdWNlIGhlcmUgcmF0aGVyIHRoYW4gQXJyYXkjZmlyc3Qgd2l0aCBhIHJlZ2V4LnRlc3QgY2FsbFxyXG4gICAgLy8gdGhpcyBpcyBwcmltYXJpbHkgYmVjYXVzZSB1c2luZyB0aGUgcmVkdWNlIHdlIG9ubHkgcGVyZm9ybSB0aGUgcmVnZXhcclxuICAgIC8vIGV4ZWN1dGlvbiBvbmNlIHJhdGhlciB0aGFuIG9uY2UgZm9yIHRoZSB0ZXN0IGFuZCBmb3IgdGhlIGV4ZWMgYWdhaW4gYmVsb3dcclxuICAgIC8vIHByb2JhYmx5IHNvbWV0aGluZyB0aGF0IG5lZWRzIHRvIGJlIGJlbmNobWFya2VkIHRob3VnaFxyXG4gICAgdmFyIG1hdGNoZWRSdWxlID0gdWEgIT09ICcnICYmXHJcbiAgICAgICAgdXNlckFnZW50UnVsZXMucmVkdWNlKGZ1bmN0aW9uIChtYXRjaGVkLCBfYSkge1xyXG4gICAgICAgICAgICB2YXIgYnJvd3NlciA9IF9hWzBdLCByZWdleCA9IF9hWzFdO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2hlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHVhTWF0Y2ggPSByZWdleC5leGVjKHVhKTtcclxuICAgICAgICAgICAgcmV0dXJuICEhdWFNYXRjaCAmJiBbYnJvd3NlciwgdWFNYXRjaF07XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgaWYgKCFtYXRjaGVkUnVsZSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgdmFyIG5hbWUgPSBtYXRjaGVkUnVsZVswXSwgbWF0Y2ggPSBtYXRjaGVkUnVsZVsxXTtcclxuICAgIGlmIChuYW1lID09PSAnc2VhcmNoYm90Jykge1xyXG4gICAgICAgIHJldHVybiBuZXcgQm90SW5mbygpO1xyXG4gICAgfVxyXG4gICAgdmFyIHZlcnNpb25QYXJ0cyA9IG1hdGNoWzFdICYmIG1hdGNoWzFdLnNwbGl0KC9bLl9dLykuc2xpY2UoMCwgMyk7XHJcbiAgICBpZiAodmVyc2lvblBhcnRzKSB7XHJcbiAgICAgICAgaWYgKHZlcnNpb25QYXJ0cy5sZW5ndGggPCBSRVFVSVJFRF9WRVJTSU9OX1BBUlRTKSB7XHJcbiAgICAgICAgICAgIHZlcnNpb25QYXJ0cyA9IF9fc3ByZWFkQXJyYXlzKHZlcnNpb25QYXJ0cywgY3JlYXRlVmVyc2lvblBhcnRzKFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMgLSB2ZXJzaW9uUGFydHMubGVuZ3RoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2ZXJzaW9uUGFydHMgPSBbXTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgQnJvd3NlckluZm8obmFtZSwgdmVyc2lvblBhcnRzLmpvaW4oJy4nKSwgZGV0ZWN0T1ModWEpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGV0ZWN0T1ModWEpIHtcclxuICAgIGZvciAodmFyIGlpID0gMCwgY291bnQgPSBvcGVyYXRpbmdTeXN0ZW1SdWxlcy5sZW5ndGg7IGlpIDwgY291bnQ7IGlpKyspIHtcclxuICAgICAgICB2YXIgX2EgPSBvcGVyYXRpbmdTeXN0ZW1SdWxlc1tpaV0sIG9zID0gX2FbMF0sIHJlZ2V4ID0gX2FbMV07XHJcbiAgICAgICAgdmFyIG1hdGNoID0gcmVnZXgudGVzdCh1YSk7XHJcbiAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Tm9kZVZlcnNpb24oKSB7XHJcbiAgICB2YXIgaXNOb2RlID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MudmVyc2lvbjtcclxuICAgIHJldHVybiBpc05vZGUgPyBuZXcgTm9kZUluZm8ocHJvY2Vzcy52ZXJzaW9uLnNsaWNlKDEpKSA6IG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVZlcnNpb25QYXJ0cyhjb3VudCkge1xyXG4gICAgdmFyIG91dHB1dCA9IFtdO1xyXG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGNvdW50OyBpaSsrKSB7XHJcbiAgICAgICAgb3V0cHV0LnB1c2goJzAnKTtcclxuICAgIH1cclxuICAgIHJldHVybiBvdXRwdXQ7XHJcbn1cclxuXG5cclxuY29uc3QgYnJvd3NlciA9IGRldGVjdCgpO1xyXG5jb25zdCBBdWRpb0NvbnRleHQgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQgfHwgZmFsc2U7XHJcbmNvbnN0IEJVRkZFUl9TSVpFID0gNDA5NjtcclxuXHJcbi8qKlxyXG4gKiBPcHVzTWVkaWFSZWNvcmRlci5qcyBzdGFydFxyXG4gKiBSZWZlcmVuY2U6IGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9tZWRpYWNhcHR1cmUtcmVjb3JkLyNtZWRpYXJlY29yZGVyLWFwaVxyXG4gKiBAZXh0ZW5kcyBFdmVudFRhcmdldFxyXG4gKi9cclxuY2xhc3MgT2dnT3B1c01lZGlhUmVjb3JkZXIgZXh0ZW5kcyBFdmVudFRhcmdldFdyYXBwZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgZW5jb2RlciB3ZWIgd29ya2VyXHJcbiAgICAgKiBAbmFtZSB3b3JrZXJGYWN0b3J5XHJcbiAgICAgKiBAZnVuY3Rpb25cclxuICAgICAqIEByZXR1cm5zIHt3b3JrZXJ9IEFuIGluc3RhbmNlIG9mIC4vZW5jb2Rlcldvcmtlci5qcyB3ZWIgd29ya2VyLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtNZWRpYVN0cmVhbX0gc3RyZWFtIC0gVGhlIE1lZGlhU3RyZWFtIHRvIGJlIHJlY29yZGVkLiBUaGlzIHdpbGxcclxuICAgICAqICAgICAgICAgIGJlIHRoZSB2YWx1ZSBvZiB0aGUgc3RyZWFtIGF0dHJpYnV0ZS5cclxuICAgICAqIEBwYXJhbSB7b3B0aW9uc30gW29wdGlvbnNdIC0gQSBkaWN0aW9uYXJ5IG9mIG9wdGlvbnMgdG8gZm9yXHJcbiAgICAgKiAgICAgICAgICB0aGUgVUEgaW5zdHJ1Y3RpbmcgaG93IHRoZSByZWNvcmRpbmcgd2lsbCB0YWtlIHBhcnQuXHJcbiAgICAgKiAgICAgICAgICBvcHRpb25zLm1pbWVUeXBlLCBpZiBwcmVzZW50LCB3aWxsIGJlY29tZSB0aGUgdmFsdWUgb2YgbWltZVR5cGVcclxuICAgICAqICAgICAgICAgIGF0dHJpYnV0ZS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbd29ya2VyT3B0aW9uc10gVGhpcyBpcyBhIE5PTi1TVEFOREFSRCBvcHRpb25zIHRvXHJcbiAgICAgKiAgICAgICAgICBjb25maWd1cmUgaG93IHRvIGltcG9ydCB0aGUgd2ViIHdvcmtlciAud2FzbSBjb21waWxlZCBiaW5hcmllc1xyXG4gICAgICogICAgICAgICAgdXNlZCBmb3IgZW5jb2RpbmcuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2R1cmF0aW9uXSBzZXQgZmlsZSByZWNvcmRlciB0aW1lXHJcbiAgICAgKiBAcGFyYW0ge3dvcmtlckZhY3Rvcnl9IFt3b3JrZXJPcHRpb25zLmVuY29kZXJXb3JrZXJGYWN0b3J5XSBBIGZhY3RvcnlcclxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIHRoYXQgY3JlYXRlIGEgd2ViIHdvcmtlciBpbnN0YW5jZSBvZiAuL2VuY29kZXJXb3JrZXIuanNcclxuICAgICAqICAgICAgICAgIGFuZCByZXR1cm5zIGl0LiBmdW5jdGlvbigpe3JldHVybiBuZXcgV29ya2VyKCcuL2VuY29kZXJXb3JrZXIudW1kLmpzJyl9XHJcbiAgICAgKiAgICAgICAgICBpcyB1c2VkIGJ5IGRlZmF1bHQuIFRoaXMgaXMgTk9OLVNUQU5EQVJELlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt3b3JrZXJPcHRpb25zLk9nZ09wdXNFbmNvZGVyV2FzbVBhdGhdXHJcbiAgICAgKiAgICAgICAgICBQYXRoIG9mIC4vT2dnT3B1c0VuY29kZXIud2FzbSB3aGljaCBpcyB1c2VkIGZvciBPR0cgT3B1cyBlbmNvZGluZ1xyXG4gICAgICogICAgICAgICAgYnkgdGhlIGVuY29kZXIgd29ya2VyLiBUaGlzIGlzIE5PTi1TVEFOREFSRC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbd29ya2VyT3B0aW9ucy5XZWJNT3B1c0VuY29kZXJXYXNtUGF0aF1cclxuICAgICAqICAgICAgICAgIFBhdGggb2YgLi9XZWJNT3B1c0VuY29kZXIud2FzbSB3aGljaCBpcyB1c2VkIGZvciBXZWJNIE9wdXMgZW5jb2RpbmdcclxuICAgICAqICAgICAgICAgIGJ5IHRoZSBlbmNvZGVyIHdvcmtlci4gVGhpcyBpcyBOT04tU1RBTkRBUkQuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHN0cmVhbSwgb3B0aW9ucyA9IHt9LCB3b3JrZXJPcHRpb25zID0ge30sIGR1cmF0aW9uKSB7XHJcbiAgICAgICAgY29uc3Qge21pbWVUeXBlLCBhdWRpb0JpdHNQZXJTZWNvbmQsIHZpZGVvQml0c1BlclNlY29uZCwgYml0c1BlclNlY29uZH0gPSBvcHRpb25zOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXHJcbiAgICAgICAgLy8gTk9OLVNUQU5EQVJEIG9wdGlvbnNcclxuICAgICAgICBjb25zdCB7ZW5jb2RlcldvcmtlckZhY3RvcnksIE9nZ09wdXNFbmNvZGVyV2FzbVBhdGgsIFdlYk1PcHVzRW5jb2Rlcldhc21QYXRofSA9IHdvcmtlck9wdGlvbnM7XHJcblxyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgLy8gQXR0cmlidXRlcyBmb3IgdGhlIHNwZWNpZmljYXRpb24gY29uZm9ybWFuY2UuIFRoZXNlIGhhdmUgdGhlaXIgb3duIGdldHRlcnMuXHJcbiAgICAgICAgdGhpcy5fc3RyZWFtID0gc3RyZWFtO1xyXG4gICAgICAgIHRoaXMuX3N0YXRlID0gJ2luYWN0aXZlJztcclxuICAgICAgICB0aGlzLl9taW1lVHlwZSA9IG1pbWVUeXBlIHx8ICdhdWRpby9vZ2cnO1xyXG4gICAgICAgIHRoaXMuX2F1ZGlvQml0c1BlclNlY29uZCA9IGF1ZGlvQml0c1BlclNlY29uZCB8fCBiaXRzUGVyU2Vjb25kO1xyXG4gICAgICAgIC8qKiBAdHlwZSB7J2luYWN0aXZlJ3wncmVhZHlUb0luaXQnfCdlbmNvZGluZyd8J2Nsb3NlZCd9ICovXHJcbiAgICAgICAgdGhpcy53b3JrZXJTdGF0ZSA9ICdpbmFjdGl2ZSc7XHJcbiAgICAgICAgdGhpcy5yZWNvcmRpbmdEdXJhdGlvbiA9IGR1cmF0aW9uIHx8IDMwMDAwOyAgIC8vIEF1dG8tc3RvcCByZWNvcmRpbmcgYWZ0ZXIgc3BlY2lmaWMgaW50ZXJ2YWwgdXNpbmcgc2V0UmVjb3JkaW5nRHVyYXRpb25cclxuXHJcbiAgICAgICAgLy8gUGFyc2UgTUlNRSBUeXBlXHJcbiAgICAgICAgaWYgKCFPZ2dPcHVzTWVkaWFSZWNvcmRlci5pc1R5cGVTdXBwb3J0ZWQodGhpcy5fbWltZVR5cGUpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgYXJndW1lbnRzLCBhIE1JTUUgVHlwZSBpcyBub3Qgc3VwcG9ydGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAoT2dnT3B1c01lZGlhUmVjb3JkZXIuX3BhcnNlVHlwZSh0aGlzLl9taW1lVHlwZSkuc3VidHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICd3YXZlJzpcclxuICAgICAgICAgICAgY2FzZSAnd2F2JzpcclxuICAgICAgICAgICAgICAgIHRoaXMuX21pbWVUeXBlID0gJ2F1ZGlvL3dhdmUnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICd3ZWJtJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuX21pbWVUeXBlID0gJ2F1ZGlvL3dlYm0nO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdvZ2cnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWltZVR5cGUgPSAnYXVkaW8vb2dnJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIC8vIFNlbGVjdCBhIHR5cGUgZGVwZW5kaW5nIG9uIE9TLlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChicm93c2VyICYmIGJyb3dzZXIubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Nocm9tZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21pbWVUeXBlID0gJ2F1ZGlvL3dlYm0nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZmlyZWZveCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21pbWVUeXBlID0gJ2F1ZGlvL29nZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdlZGdlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWltZVR5cGUgPSAnYXVkaW8vd2VibSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdpb3MnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NhZmFyaSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21pbWVUeXBlID0gJ2F1ZGlvL3dhdmUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWltZVR5cGUgPSAnYXVkaW8vd2VibSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5fbWltZVR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnYXVkaW8vd2F2ZSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93YXNtUGF0aCA9ICcnOyAvLyB3YXNtIGlzIG5vdCB1c2VkXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2F1ZGlvL3dlYm0nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FzbVBhdGggPSBXZWJNT3B1c0VuY29kZXJXYXNtUGF0aCB8fCAnJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnYXVkaW8vb2dnJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dhc21QYXRoID0gT2dnT3B1c0VuY29kZXJXYXNtUGF0aCB8fCAnJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW50ZXJuYWwgRXJyb3I6IFVuZXhwZWN0ZWQgTUlNRSBUeXBlOiAke3RoaXMuX21pbWVUeXBlfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IGN1cnJlbnQgZGlyZWN0b3J5IGZvciB3b3JrZXJcclxuICAgICAgICBsZXQgd29ya2VyRGlyID0gJyc7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpIHtcclxuICAgICAgICAgICAgd29ya2VyRGlyID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLmxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgIHdvcmtlckRpciA9IHNlbGYubG9jYXRpb24uaHJlZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgd29ya2VyRGlyID0gd29ya2VyRGlyLnN1YnN0cigwLCB3b3JrZXJEaXIubGFzdEluZGV4T2YoJy8nKSkgKyAnL3NyYy9lbmNvZGVyV29ya2VyLmpzJztcclxuICAgICAgICAvLyBJZiB3b3JrZXIgZnVuY3Rpb24gaXMgaW1wb3J0ZWQgdmlhIDxzY3JpcHQ+IHRhZywgbWFrZSBpdCBibG9iIHRvIGdldCBVUkwuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBPZ2dPcHVzTWVkaWFSZWNvcmRlci5lbmNvZGVyV29ya2VyID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHdvcmtlckRpciA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2AoJHtPZ2dPcHVzTWVkaWFSZWNvcmRlci5lbmNvZGVyV29ya2VyfSkoKWBdKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTcGF3biBhIGVuY29kZXIgd29ya2VyXHJcbiAgICAgICAgdGhpcy5fd29ya2VyRmFjdG9yeSA9IHR5cGVvZiBlbmNvZGVyV29ya2VyRmFjdG9yeSA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICA/IGVuY29kZXJXb3JrZXJGYWN0b3J5XHJcbiAgICAgICAgICAgIDogXyA9PiBuZXcgV29ya2VyKHdvcmtlckRpcik7XHJcbiAgICAgICAgdGhpcy5fc3Bhd25Xb3JrZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBNZWRpYVN0cmVhbSBbR0VUVVNFUk1FRElBXSB0byBiZSByZWNvcmRlZC5cclxuICAgICAqIEByZXR1cm4ge01lZGlhU3RyZWFtfVxyXG4gICAgICovXHJcbiAgICBnZXQgc3RyZWFtKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJlYW07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgTUlNRSB0eXBlIFtSRkMyMDQ2XSB0aGF0IGhhcyBiZWVuIHNlbGVjdGVkIGFzIHRoZSBjb250YWluZXIgZm9yXHJcbiAgICAgKiByZWNvcmRpbmcuIFRoaXMgZW50cnkgaW5jbHVkZXMgYWxsIHRoZSBwYXJhbWV0ZXJzIHRvIHRoZSBiYXNlXHJcbiAgICAgKiBtaW1lVHlwZS4gVGhlIFVBIHNob3VsZCBiZSBhYmxlIHRvIHBsYXkgYmFjayBhbnkgb2YgdGhlIE1JTUUgdHlwZXNcclxuICAgICAqIGl0IHN1cHBvcnRzIGZvciByZWNvcmRpbmcuIEZvciBjc3MsIGl0IHNob3VsZCBiZSBhYmxlIHRvIGRpc3BsYXlcclxuICAgICAqIGEgdmlkZW8gcmVjb3JkaW5nIGluIHRoZSBIVE1MIDx2aWRlbz4gdGFnLiBUaGUgZGVmYXVsdCB2YWx1ZSBmb3JcclxuICAgICAqIHRoaXMgcHJvcGVydHkgaXMgcGxhdGZvcm0tc3BlY2lmaWMuXHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldCBtaW1lVHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWltZVR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgT3B1c01lZGlhUmVjb3JkZXIgb2JqZWN0LiBXaGVuIHRoZSBPcHVzTWVkaWFSZWNvcmRlclxyXG4gICAgICogaXMgY3JlYXRlZCwgdGhlIFVBIE1VU1Qgc2V0IHRoaXMgYXR0cmlidXRlIHRvIGluYWN0aXZlLlxyXG4gICAgICogQHJldHVybiB7XCJpbmFjdGl2ZVwifFwicmVjb3JkaW5nXCJ8XCJwYXVzZWRcIn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHN0YXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgVmlkZW8gZW5jb2RpbmcuIFVuc3VwcG9ydGVkLlxyXG4gICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICovXHJcbiAgICBnZXQgdmlkZW9CaXRzUGVyU2Vjb25kKCkge1xyXG4gICAgICAgIC8vIFZpZGVvIGVuY29kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHZhbHVlIG9mIHRoZSBBdWRpbyBlbmNvZGluZyB0YXJnZXQgYml0IHJhdGUgdGhhdCB3YXMgcGFzc2VkIHRvXHJcbiAgICAgKiB0aGUgUGxhdGZvcm0gKHBvdGVudGlhbGx5IHRydW5jYXRlZCwgcm91bmRlZCwgZXRjKSwgb3IgdGhlIGNhbGN1bGF0ZWQgb25lXHJcbiAgICAgKiBpZiB0aGUgdXNlciBoYXMgc3BlY2lmaWVkIGJpdHNQZXJTZWNvbmQuXHJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfVxyXG4gICAgICovXHJcbiAgICBnZXQgYXVkaW9CaXRzUGVyU2Vjb25kKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hdWRpb0JpdHNQZXJTZWNvbmQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIHdvcmtlclxyXG4gICAgICovXHJcbiAgICBfc3Bhd25Xb3JrZXIoKSB7XHJcbiAgICAgICAgdGhpcy53b3JrZXIgPSB0aGlzLl93b3JrZXJGYWN0b3J5KCk7XHJcbiAgICAgICAgdGhpcy53b3JrZXIub25tZXNzYWdlID0gKGUpID0+IHRoaXMuX29ubWVzc2FnZUZyb21Xb3JrZXIoZSk7XHJcbiAgICAgICAgdGhpcy53b3JrZXIub25lcnJvciA9IChlKSA9PiB0aGlzLl9vbmVycm9yRnJvbVdvcmtlcihlKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcG9zdE1lc3NhZ2VUb1dvcmtlcignbG9hZEVuY29kZXInLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBtaW1lVHlwZTogdGhpcy5fbWltZVR5cGUsXHJcbiAgICAgICAgICAgICAgICB3YXNtUGF0aDogdGhpcy5fd2FzbVBhdGhcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQb3N0IG1lc3NhZ2UgdG8gdGhlIGVuY29kZXIgd2ViIHdvcmtlci5cclxuICAgICAqIEBwYXJhbSB7XCJpbml0XCJ8XCJwdXNoSW5wdXREYXRhXCJ8XCJnZXRFbmNvZGVkRGF0YVwifFwiZG9uZVwifSBjb21tYW5kIC0gVHlwZSBvZiBtZXNzYWdlIHRvIHNlbmQgdG8gdGhlIHdvcmtlclxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG1lc3NhZ2UgLSBQYXlsb2FkIHRvIHRoZSB3b3JrZXJcclxuICAgICAqL1xyXG4gICAgX3Bvc3RNZXNzYWdlVG9Xb3JrZXIoY29tbWFuZCwgbWVzc2FnZSA9IHt9KSB7XHJcbiAgICAgICAgc3dpdGNoIChjb21tYW5kKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2xvYWRFbmNvZGVyJzpcclxuICAgICAgICAgICAgICAgIGxldCB7bWltZVR5cGUsIHdhc21QYXRofSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7Y29tbWFuZCwgbWltZVR5cGUsIHdhc21QYXRofSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2luaXQnOlxyXG4gICAgICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgd29ya2VyXHJcbiAgICAgICAgICAgICAgICBsZXQge3NhbXBsZVJhdGUsIGNoYW5uZWxDb3VudCwgYml0c1BlclNlY29uZH0gPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2Uoe2NvbW1hbmQsIHNhbXBsZVJhdGUsIGNoYW5uZWxDb3VudCwgYml0c1BlclNlY29uZH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy53b3JrZXJTdGF0ZSA9ICdlbmNvZGluZyc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3RhcnQgc3RyZWFtaW5nXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMucHJvY2Vzc29yKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc29yLmNvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIGxldCBldmVudFRvUHVzaCA9IG5ldyB3aW5kb3cuRXZlbnQoJ3N0YXJ0Jyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnRUb1B1c2gpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdwdXNoSW5wdXREYXRhJzpcclxuICAgICAgICAgICAgICAgIC8vIFBhc3MgaW5wdXQgYXVkaW8gYnVmZmVyIHRvIHRoZSBlbmNvZGVyIHRvIGVuY29kZS5cclxuICAgICAgICAgICAgICAgIC8vIFRoZSB3b3JrZXIgTUFZIHRyaWdnZXIgJ2VuY29kZWREYXRhJy5cclxuICAgICAgICAgICAgICAgIGxldCB7Y2hhbm5lbEJ1ZmZlcnMsIGxlbmd0aCwgZHVyYXRpb259ID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICBjb21tYW5kLCBjaGFubmVsQnVmZmVycywgbGVuZ3RoLCBkdXJhdGlvblxyXG4gICAgICAgICAgICAgICAgfSwgY2hhbm5lbEJ1ZmZlcnMubWFwKGEgPT4gYS5idWZmZXIpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnZ2V0RW5jb2RlZERhdGEnOlxyXG4gICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBlbmNvZGVkIHJlc3VsdC5cclxuICAgICAgICAgICAgICAgIC8vIEV4cGVjdGVkICdlbmNvZGVkRGF0YScgZXZlbnQgZnJvbSB0aGUgd29ya2VyXHJcbiAgICAgICAgICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7Y29tbWFuZH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdkb25lJzpcclxuICAgICAgICAgICAgICAgIC8vIFRlbGwgZW5jb2RlciBmaW5hbGxpemUgdGhlIGpvYiBhbmQgZGVzdG9yeSBpdHNlbGYuXHJcbiAgICAgICAgICAgICAgICAvLyBFeHBlY3RlZCAnbGFzdEVuY29kZWREYXRhJyBldmVudCBmcm9tIHRoZSB3b3JrZXIuXHJcbiAgICAgICAgICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7Y29tbWFuZH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhbiBlcnJvciBjYXNlXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludGVybmFsIEVycm9yOiBJbmNvcnJlY3QgcG9zdE1lc3NhZ2UgcmVxdWVzdGVkLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9ubWVzc2FnZSgpIGNhbGxiYWNrIGZyb20gdGhlIHdvcmtlci5cclxuICAgICAqIEBwYXJhbSB7bWVzc2FnZX0gZXZlbnQgLSBtZXNzYWdlIGZyb20gdGhlIHdvcmtlclxyXG4gICAgICovXHJcbiAgICBfb25tZXNzYWdlRnJvbVdvcmtlcihldmVudCkge1xyXG4gICAgICAgIGNvbnN0IHtjb21tYW5kLCBidWZmZXJzfSA9IGV2ZW50LmRhdGE7XHJcbiAgICAgICAgbGV0IGV2ZW50VG9QdXNoO1xyXG4gICAgICAgIHN3aXRjaCAoY29tbWFuZCkge1xyXG4gICAgICAgICAgICBjYXNlICdyZWFkeVRvSW5pdCc6XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7c2FtcGxlUmF0ZSwgY2hhbm5lbENvdW50fSA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndvcmtlclN0YXRlID0gJ3JlYWR5VG9Jbml0JztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBzdGFydCgpIGlzIGFscmVhZHkgY2FsbGVkIGluaXRpYWxpemUgd29ya2VyXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ3JlY29yZGluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3N0TWVzc2FnZVRvV29ya2VyKCdpbml0Jywge3NhbXBsZVJhdGUsIGNoYW5uZWxDb3VudCwgYml0c1BlclNlY29uZDogdGhpcy5hdWRpb0JpdHNQZXJTZWNvbmR9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnZW5jb2RlZERhdGEnOlxyXG4gICAgICAgICAgICBjYXNlICdsYXN0RW5jb2RlZERhdGEnOlxyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgQmxvYihidWZmZXJzLCB7J3R5cGUnOiB0aGlzLl9taW1lVHlwZX0pO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRUb1B1c2ggPSBuZXcgd2luZG93LkV2ZW50KCdkYXRhYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgICAgICAgICBldmVudFRvUHVzaC5kYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudFRvUHVzaCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRGV0ZWN0IG9mIHN0b3AoKSBjYWxsZWQgYmVmb3JlXHJcbiAgICAgICAgICAgICAgICBpZiAoY29tbWFuZCA9PT0gJ2xhc3RFbmNvZGVkRGF0YScpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudFRvUHVzaCA9IG5ldyB3aW5kb3cuRXZlbnQoJ3N0b3AnKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnRUb1B1c2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud29ya2VyU3RhdGUgPSAnY2xvc2VkJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBJZ25vcmVcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBvbmVycm9yKCkgY2FsbGJhY2sgZnJvbSB0aGUgd29ya2VyLlxyXG4gICAgICogQHBhcmFtIHtFcnJvckV2ZW50fSBlcnJvciAtIGVycm9yIG9iamVjdCBmcm9tIHRoZSB3b3JrZXJcclxuICAgICAqL1xyXG4gICAgX29uZXJyb3JGcm9tV29ya2VyKGVycm9yKSB7XHJcbiAgICAgICAgLy8gU3RvcCBzdHJlYW0gZmlyc3RcclxuICAgICAgICB0aGlzLnNvdXJjZS5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IuZGlzY29ubmVjdCgpO1xyXG5cclxuICAgICAgICB0aGlzLndvcmtlci50ZXJtaW5hdGUoKTtcclxuICAgICAgICB0aGlzLndvcmtlclN0YXRlID0gJ2Nsb3NlZCc7XHJcblxyXG4gICAgICAgIC8vIFNlbmQgbWVzc2FnZSB0byBob3N0XHJcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBbXHJcbiAgICAgICAgICAgICdGaWxlTmFtZTogJyArIGVycm9yLmZpbGVuYW1lLFxyXG4gICAgICAgICAgICAnTGluZU51bWJlcjogJyArIGVycm9yLmxpbmVubyxcclxuICAgICAgICAgICAgJ01lc3NhZ2U6ICcgKyBlcnJvci5tZXNzYWdlXHJcbiAgICAgICAgXS5qb2luKCcgLSAnKTtcclxuICAgICAgICBsZXQgZXJyb3JUb1B1c2ggPSBuZXcgd2luZG93LkV2ZW50KCdlcnJvcicpO1xyXG4gICAgICAgIGVycm9yVG9QdXNoLm5hbWUgPSAnVW5rbm93bkVycm9yJztcclxuICAgICAgICBlcnJvclRvUHVzaC5tZXNzYWdlID0gbWVzc2FnZTtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXJyb3JUb1B1c2gpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRW5hYmxlIG9uYXVkaW9wcm9jZXNzKCkgY2FsbGJhY2suXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXNsaWNlIC0gSW4gc2Vjb25kcy4gT3B1c01lZGlhUmVjb3JkZXIgc2hvdWxkIHJlcXVlc3QgZGF0YVxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tIHRoZSB3b3JrZXIgZXZlcnkgdGltZXNsaWNlIHNlY29uZHMuXHJcbiAgICAgKi9cclxuICAgIF9lbmFibGVBdWRpb1Byb2Nlc3NDYWxsYmFjayh0aW1lc2xpY2UpIHtcclxuICAgICAgICAvLyBwYXNzIGZyYW1lIGJ1ZmZlcnMgdG8gdGhlIHdvcmtlclxyXG4gICAgICAgIGxldCBlbGFwc2VkVGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3Iub25hdWRpb3Byb2Nlc3MgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7aW5wdXRCdWZmZXIsIHBsYXliYWNrVGltZX0gPSBlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXHJcbiAgICAgICAgICAgIGNvbnN0IHtzYW1wbGVSYXRlLCBsZW5ndGgsIGR1cmF0aW9uLCBudW1iZXJPZkNoYW5uZWxzfSA9IGlucHV0QnVmZmVyOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgY2hhbm5lbCBidWZmZXJzIHRvIHBhc3MgdG8gdGhlIHdvcmtlclxyXG4gICAgICAgICAgICBjb25zdCBjaGFubmVsQnVmZmVycyA9IG5ldyBBcnJheShudW1iZXJPZkNoYW5uZWxzKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkNoYW5uZWxzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNoYW5uZWxCdWZmZXJzW2ldID0gaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoaSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFBhc3MgZGF0YSB0byB0aGUgd29ya2VyXHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7Y2hhbm5lbEJ1ZmZlcnMsIGxlbmd0aCwgZHVyYXRpb259O1xyXG4gICAgICAgICAgICB0aGlzLl9wb3N0TWVzc2FnZVRvV29ya2VyKCdwdXNoSW5wdXREYXRhJywgbWVzc2FnZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGltZVxyXG4gICAgICAgICAgICBlbGFwc2VkVGltZSArPSBkdXJhdGlvbjtcclxuICAgICAgICAgICAgaWYgKGVsYXBzZWRUaW1lID49IHRpbWVzbGljZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zdE1lc3NhZ2VUb1dvcmtlcignZ2V0RW5jb2RlZERhdGEnKTtcclxuICAgICAgICAgICAgICAgIGVsYXBzZWRUaW1lID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBhdXRvLXN0b3AgdGhlIHJlY29yZGluZyBhZnRlciBjZXJ0YWluIG1pbnV0ZXMuXHJcbiAgICAgKiBAbWV0aG9kXHJcbiAgICAgKiBAbWVtYmVyb2YgUmVjb3JkUlRDXHJcbiAgICAgKiBAaW5zdGFuY2VcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBAcGFyYW0gY291bnRlclxyXG4gICAgICovXHJcbiAgICBoYW5kbGVSZWNvcmRpbmdEdXJhdGlvbihjb3VudGVyKSB7XHJcbiAgICAgICAgY291bnRlciA9IGNvdW50ZXIgfHwgMDtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXNcclxuXHJcbiAgICAgICAgaWYgKHNlbGYuX3N0YXRlID09PSAncGF1c2VkJykge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVSZWNvcmRpbmdEdXJhdGlvbihjb3VudGVyKTtcclxuICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzZWxmLl9zdGF0ZSA9PT0gJ3N0b3BwZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjb3VudGVyID49IHNlbGYucmVjb3JkaW5nRHVyYXRpb24pIHtcclxuICAgICAgICAgICAgc2VsZi5zdG9wUmVjb3JkaW5nKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvdW50ZXIgKz0gMTAwMDsgLy8gMS1zZWNvbmRcclxuXHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5oYW5kbGVSZWNvcmRpbmdEdXJhdGlvbihjb3VudGVyKTtcclxuICAgICAgICB9LCAxMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEJlZ2lucyByZWNvcmRpbmcgbWVkaWE7IHRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IGJlIHBhc3NlZCBhIHRpbWVzbGljZVxyXG4gICAgICogYXJndW1lbnQgd2l0aCBhIHZhbHVlIGluIG1pbGxpc2Vjb25kcy5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc2xpY2UgLSBJZiB0aGlzIGlzIHNwZWNpZmllZCwgdGhlIG1lZGlhIHdpbGwgYmUgY2FwdHVyZWRcclxuICAgICAqICAgICAgICBpbiBzZXBhcmF0ZSBjaHVua3Mgb2YgdGhhdCBkdXJhdGlvbiwgcmF0aGVyIHRoYW4gdGhlIGRlZmF1bHQgYmVoYXZpb3JcclxuICAgICAqICAgICAgICBvZiByZWNvcmRpbmcgdGhlIG1lZGlhIGluIGEgc2luZ2xlIGxhcmdlIGNodW5rLiBJbiBvdGhlciB3b3JkcywgYW5cclxuICAgICAqICAgICAgICB1bmRlZmluZWQgdmFsdWUgb2YgdGltZXNsaWNlIHdpbGwgYmUgdW5kZXJzdG9vZCBhcyB0aGUgbGFyZ2VzdCBsb25nIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBzdGFydFJlY29yZGluZyh0aW1lc2xpY2UgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSAnaW5hY3RpdmUnKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRE9NRXhjZXB0aW9uOiBJTlZBTElEX1NUQVRFX0VSUiwgc3RhdGUgbXVzdCBiZSBpbmFjdGl2ZS4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRpbWVzbGljZSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBhcmd1bWVudHMsIHRpbWVzbGljZSBzaG91bGQgYmUgMCBvciBoaWdoZXIuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRpbWVzbGljZSAvPSAxMDAwOyAvLyBDb252ZXJ0IG1pbGxpc2Vjb25kcyB0byBzZWNvbmRzXHJcblxyXG4gICAgICAgIC8vIENoZWNrIHdvcmtlciBpcyBjbG9zZWQgKHVzdWFsbHkgYnkgc3RvcCgpKSBhbmQgaW5pdC5cclxuICAgICAgICBpZiAodGhpcy53b3JrZXJTdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3Bhd25Xb3JrZXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEdldCBjaGFubmVsIGNvdW50IGFuZCBzYW1wbGluZyByYXRlXHJcbiAgICAgICAgLy8gY2hhbm5lbENvdW50OiBodHRwczovL3d3dy53My5vcmcvVFIvbWVkaWFjYXB0dXJlLXN0cmVhbXMvI21lZGlhLXRyYWNrLXNldHRpbmdzXHJcbiAgICAgICAgLy8gc2FtcGxlUmF0ZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Jhc2VBdWRpb0NvbnRleHQvc2FtcGxlUmF0ZVxyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcclxuICAgICAgICBsZXQgdHJhY2tzID0gdGhpcy5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKTtcclxuICAgICAgICBpZiAoIXRyYWNrc1swXSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RPTUV4Y2VwdGlvbjogVW5rb3duRXJyb3IsIG1lZGlhIHRyYWNrIG5vdCBmb3VuZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGFubmVsQ291bnQgPSAyO1xyXG4gICAgICAgIHRoaXMuc2FtcGxlUmF0ZSA9IHRoaXMuY29udGV4dC5zYW1wbGVSYXRlO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge01lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlfSAqL1xyXG4gICAgICAgIHRoaXMuc291cmNlID0gdGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHRoaXMuc3RyZWFtKTtcclxuICAgICAgICAvKiogQHR5cGUge1NjcmlwdFByb2Nlc3Nvck5vZGV9ICovXHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSB0aGlzLmNvbnRleHQuY3JlYXRlU2NyaXB0UHJvY2Vzc29yKEJVRkZFUl9TSVpFLCB0aGlzLmNoYW5uZWxDb3VudCwgdGhpcy5jaGFubmVsQ291bnQpO1xyXG5cclxuICAgICAgICAvLyBTdGFydCByZWNvcmRpbmdcclxuICAgICAgICB0aGlzLl9zdGF0ZSA9ICdyZWNvcmRpbmcnO1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZUF1ZGlvUHJvY2Vzc0NhbGxiYWNrKHRpbWVzbGljZSk7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSB3b3JrZXIgaXMgYWxyZWFkeSBsb2FkZWQgdGhlbiBzdGFydFxyXG4gICAgICAgIGlmICh0aGlzLndvcmtlclN0YXRlID09PSAncmVhZHlUb0luaXQnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHtzYW1wbGVSYXRlLCBjaGFubmVsQ291bnR9ID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5fcG9zdE1lc3NhZ2VUb1dvcmtlcignaW5pdCcsIHtzYW1wbGVSYXRlLCBjaGFubmVsQ291bnQsIGJpdHNQZXJTZWNvbmQ6IHRoaXMuYXVkaW9CaXRzUGVyU2Vjb25kfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5yZWNvcmRpbmdEdXJhdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJlY29yZGluZ0R1cmF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RvcHMgcmVjb3JkaW5nLCBhdCB3aGljaCBwb2ludCBhIGRhdGFhdmFpbGFibGUgZXZlbnQgY29udGFpbmluZ1xyXG4gICAgICogdGhlIGZpbmFsIEJsb2Igb2Ygc2F2ZWQgZGF0YSBpcyBmaXJlZC4gTm8gbW9yZSByZWNvcmRpbmcgb2NjdXJzLlxyXG4gICAgICovXHJcbiAgICBzdG9wUmVjb3JkaW5nKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnaW5hY3RpdmUnKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRE9NRXhjZXB0aW9uOiBJTlZBTElEX1NUQVRFX0VSUiwgc3RhdGUgbXVzdCBOT1QgYmUgaW5hY3RpdmUuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdG9wIHN0cmVhbSBmaXJzdFxyXG4gICAgICAgIHRoaXMuc291cmNlLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICB0aGlzLnByb2Nlc3Nvci5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmNsb3NlKCk7XHJcblxyXG4gICAgICAgIC8vIFN0b3AgZXZlbnQgd2lsbCBiZSB0cmlnZ2VyZWQgYXQgX29ubWVzc2FnZUZyb21Xb3JrZXIoKSxcclxuICAgICAgICB0aGlzLl9wb3N0TWVzc2FnZVRvV29ya2VyKCdkb25lJyk7XHJcblxyXG4gICAgICAgIHRoaXMuX3N0YXRlID0gJ2luYWN0aXZlJztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhdXNlcyB0aGUgcmVjb3JkaW5nIG9mIG1lZGlhLlxyXG4gICAgICovXHJcbiAgICBwYXVzZVJlY29yZGluZygpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ2luYWN0aXZlJykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RPTUV4Y2VwdGlvbjogSU5WQUxJRF9TVEFURV9FUlIsIHN0YXRlIG11c3QgTk9UIGJlIGluYWN0aXZlLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RvcCBzdHJlYW0gZmlyc3RcclxuICAgICAgICB0aGlzLnNvdXJjZS5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IuZGlzY29ubmVjdCgpO1xyXG5cclxuICAgICAgICBsZXQgZXZlbnQgPSBuZXcgd2luZG93LkV2ZW50KCdwYXVzZScpO1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAncGF1c2VkJztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlc3VtZXMgcmVjb3JkaW5nIG9mIG1lZGlhIGFmdGVyIGhhdmluZyBiZWVuIHBhdXNlZC5cclxuICAgICAqL1xyXG4gICAgcmVzdW1lUmVjb3JkaW5nKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnaW5hY3RpdmUnKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRE9NRXhjZXB0aW9uOiBJTlZBTElEX1NUQVRFX0VSUiwgc3RhdGUgbXVzdCBOT1QgYmUgaW5hY3RpdmUuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXN0YXJ0IHN0cmVhbWluZyBkYXRhXHJcbiAgICAgICAgdGhpcy5zb3VyY2UuY29ubmVjdCh0aGlzLnByb2Nlc3Nvcik7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IuY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pO1xyXG5cclxuICAgICAgICBsZXQgZXZlbnQgPSBuZXcgd2luZG93LkV2ZW50KCdyZXN1bWUnKTtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xyXG4gICAgICAgIHRoaXMuX3N0YXRlID0gJ3JlY29yZGluZyc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXF1ZXN0cyBhIEJsb2IgY29udGFpbmluZyB0aGUgc2F2ZWQgZGF0YSByZWNlaXZlZCB0aHVzIGZhciAob3Igc2luY2VcclxuICAgICAqIHRoZSBsYXN0IHRpbWUgcmVxdWVzdERhdGEoKSB3YXMgY2FsbGVkLiBBZnRlciBjYWxsaW5nIHRoaXMgbWV0aG9kLFxyXG4gICAgICogcmVjb3JkaW5nIGNvbnRpbnVlcywgYnV0IGluIGEgbmV3IEJsb2IuXHJcbiAgICAgKi9cclxuICAgIHJlcXVlc3REYXRhKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnaW5hY3RpdmUnKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRE9NRXhjZXB0aW9uOiBJTlZBTElEX1NUQVRFX0VSUiwgc3RhdGUgbXVzdCBOT1QgYmUgaW5hY3RpdmUuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBkYXRhYXZhaWxhYmxlIGV2ZW50IHdpbGwgYmUgdHJpZ2dlcmQgYXQgX29ubWVzc2FnZUZyb21Xb3JrZXIoKVxyXG4gICAgICAgIHRoaXMuX3Bvc3RNZXNzYWdlVG9Xb3JrZXIoJ2dldEVuY29kZWREYXRhJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiB2YWx1ZSBpbmRpY2F0aW5nIGlmIHRoZSBnaXZlbiBNSU1FIHR5cGUgaXMgc3VwcG9ydGVkXHJcbiAgICAgKiBieSB0aGUgY3VycmVudCB1c2VyIGFnZW50IC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlVHlwZSAtIEEgTUlNRSBUeXBlLCBpbmNsdWRpbmcgcGFyYW1ldGVycyB3aGVuIG5lZWRlZCxcclxuICAgICAqICAgICAgICAgIHNwZWNpZnlpbmcgYSBjb250YWluZXIgYW5kL29yIGNvZGVjIGZvcm1hdHMgZm9yIHJlY29yZGluZy5cclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc1R5cGVTdXBwb3J0ZWQobWltZVR5cGUpIHtcclxuICAgICAgICAvLyBTZWU6IGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9tZWRpYWNhcHR1cmUtcmVjb3JkLyNkb20tbWVkaWFyZWNvcmRlci1pc3R5cGVzdXBwb3J0ZWRcclxuXHJcbiAgICAgICAgLy8gMS4gSWYgZW1wdHkgc3RyaW5nLCByZXR1cm4gdHJ1ZS5cclxuICAgICAgICBpZiAodHlwZW9mIG1pbWVUeXBlID09PSAnc3RyaW5nJyAmJiAhbWltZVR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciB7dHlwZSwgc3VidHlwZSwgY29kZWN9ID0gT2dnT3B1c01lZGlhUmVjb3JkZXIuX3BhcnNlVHlwZShtaW1lVHlwZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gMi4gSWYgbm90IGEgdmFsaWQgc3RyaW5nLCByZXR1cm4gZmFsc2UuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgIT09ICdhdWRpbycgfHxcclxuICAgICAgICAgICAgIShzdWJ0eXBlID09PSAnb2dnJyB8fCBzdWJ0eXBlID09PSAnd2VibScgfHxcclxuICAgICAgICAgICAgICAgIHN1YnR5cGUgPT09ICd3YXZlJyB8fCBzdWJ0eXBlID09PSAnd2F2JykpIHtcclxuICAgICAgICAgICAgLy8gMyw0LiBJZiB0eXBlIGFuZCBzdWJ0eXBlIGFyZSB1bnN1cHBvcnRlZCB0aGUgcmV0dXJuIGZhbHNlLlxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDUuIElmIGNvZGVjIGlzIHVuc3VwcG9ydGVkIHRoZW4gcmV0dXJuIGZhbHNlLlxyXG4gICAgICAgIC8vIDYuIElmIHRoZSBzcGVjaWZpZWQgY29tYmluYXRpb24gb2YgYWxsIGlzIG5vdCBzdXBwb3J0ZWQgdGhhbiByZXR1cm4gZmFsc2UuXHJcbiAgICAgICAgc3dpdGNoIChzdWJ0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ29nZyc6XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZWMgIT09ICdvcHVzJyAmJiBjb2RlYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd3ZWJtJzpcclxuICAgICAgICAgICAgICAgIGlmIChjb2RlYyAhPT0gJ29wdXMnICYmIGNvZGVjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3dhdmUnOlxyXG4gICAgICAgICAgICBjYXNlICd3YXYnOlxyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBDdXJyZW50bHkgb25seSBzdXBwb3J0cyBzaWduZWQgMTYgYml0c1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDcuIHJldHVybiB0cnVlLlxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyc2UgTUlNRS4gQSBoZWxwZXIgZnVuY3Rpb24gZm9yIGlzVHlwZVN1cHBvcnRlZCgpIGFuZCBldGMuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWltZVR5cGUgLSB0eXBlVHlwZSAtIEEgTUlNRSBUeXBlLCBpbmNsdWRpbmcgcGFyYW1ldGVycyB3aGVuIG5lZWRlZCxcclxuICAgICAqICAgICAgICAgIHNwZWNpZnlpbmcgYSBjb250YWluZXIgYW5kL29yIGNvZGVjIGZvcm1hdHMgZm9yIHJlY29yZGluZy5cclxuICAgICAqIEByZXR1cm4gez9vYmplY3R9IC0gQW4gb2JqZWN0IHdpdGggdHlwZSwgc3VidHlwZSwgY29kZWMgYXR0cmlidXRlc1xyXG4gICAgICogICAgICAgICAgaWYgcGFyc2VkIGNvcnJlY3RseS4gbnVsbCBpcyByZXR1cm5lZCBpZiBwYXJzaW5nIGZhaWxlZC5cclxuICAgICAqICAgICAgICAgIElmIG1pbWVUeXBlIGlzIGFuIGVtcHR5IHN0cmluZyB0aGVuIHJldHVybiBhbiBvYmplY3Qgd2l0aCBhdHRyaWJ1dGVzXHJcbiAgICAgKiAgICAgICAgICBhcmUgZW1wdHkgc3RyaW5nc1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgX3BhcnNlVHlwZShtaW1lVHlwZSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gL14oXFx3KylcXC8oXFx3KykoO1xccypjb2RlY3M9KFxcdyspKT8kLztcclxuICAgICAgICAgICAgdmFyIFssIHR5cGUsIHN1YnR5cGUsICwgY29kZWNdID0gbWltZVR5cGUubWF0Y2gocmVnZXgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWltZVR5cGUgPT09ICdzdHJpbmcnICYmICFtaW1lVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiAnJywgc3VidHlwZTogJycsIGNvZGVjOiAnJ307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7dHlwZSwgc3VidHlwZSwgY29kZWN9O1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBFdmVudEhhbmRsZXIgYXR0cmlidXRlcy5cclxuLy8gVGhpcyBjb2RlIGlzIGEgbm9uLXN0YW5kYXJkIEV2ZW50VGFyZ2V0IGJ1dCByZXF1aXJlZCBieSBldmVudC10YXJnZXQtc2hpbS5cclxuW1xyXG4gICAgJ3N0YXJ0JywgLy8gQ2FsbGVkIHRvIGhhbmRsZSB0aGUge0BsaW5rIE1lZGlhUmVjb3JkZXIjc3RhcnR9IGV2ZW50LlxyXG4gICAgJ3N0b3AnLCAvLyBDYWxsZWQgdG8gaGFuZGxlIHRoZSBzdG9wIGV2ZW50LlxyXG4gICAgJ2RhdGFhdmFpbGFibGUnLCAvKiBDYWxsZWQgdG8gaGFuZGxlIHRoZSBkYXRhYXZhaWxhYmxlIGV2ZW50LiBUaGUgQmxvYiBvZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRlZCBkYXRhIGlzIGNvbnRhaW5lZCBpbiB0aGlzIGV2ZW50IGFuZCBjYW4gYmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzZWQgdmlhIGl0cyBkYXRhIGF0dHJpYnV0ZS4gKi9cclxuICAgICdwYXVzZScsIC8vIENhbGxlZCB0byBoYW5kbGUgdGhlIHBhdXNlIGV2ZW50LlxyXG4gICAgJ3Jlc3VtZScsIC8vIENhbGxlZCB0byBoYW5kbGUgdGhlIHJlc3VtZSBldmVudC5cclxuICAgICdlcnJvcicgLy8gQ2FsbGVkIHRvIGhhbmRsZSBhIE1lZGlhUmVjb3JkZXJFcnJvckV2ZW50LlxyXG5dLmZvckVhY2gobmFtZSA9PiBkZWZpbmVFdmVudEF0dHJpYnV0ZShPZ2dPcHVzTWVkaWFSZWNvcmRlci5wcm90b3R5cGUsIG5hbWUpKTtcclxuXHJcbi8vIE1TIEVkZ2Ugc3BlY2lmaWMgbW9ua2V5IHBhdGNoaW5nOlxyXG4vLyBvbmF1ZGlvcHJvY2VzcyBjYWxsYmFjayBjYW5ub3QgYmUgdHJpZ2dlcmVkIG1vcmUgdGhhbiB0d2ljZSB3aGVuIHBvc3RNZXNzYWdlXHJcbi8vIHVzZXMgdGhlIHNlY29uZGUgdHJhbnNmZXIgYXJndW1lbnQuIFNvIGRpc2FibGUgdGhlIHRyYW5zZmVyIGFyZ3VtZW50IG9ubHkgaW4gRWRnZS5cclxuaWYgKGJyb3dzZXIgJiYgYnJvd3Nlci5uYW1lID09PSAnZWRnZScpIHtcclxuICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG9yaWdpbmFsID0gV29ya2VyLnByb3RvdHlwZS5wb3N0TWVzc2FnZTtcclxuICAgICAgICBXb3JrZXIucHJvdG90eXBlLnBvc3RNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHRyYW5zZmVyID0gbnVsbCkge1xyXG4gICAgICAgICAgICBvcmlnaW5hbC5hcHBseSh0aGlzLCBbbWVzc2FnZV0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9KSgpO1xyXG59XG4vKipcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogY29tbW9uRnVuY3Rpb25zLmpzIGJlZ2luICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlIGEgc3RyaW5nIHRvIGEgRGF0YVZpZXcuXHJcbiAqIEBwYXJhbSB7RGF0YVZpZXd9IGRhdGFWaWV3IC0gZGF0YVZpZXcgb2JqZWN0IHRvIHdyaXRlIGEgc3RyaW5nLlxyXG4gKiBAcGFyYW0geyp9IG9mZnNldCAtIG9mZnNldCBpbiBieXRlc1xyXG4gKiBAcGFyYW0geyp9IHN0cmluZyAtIHN0cmluZyB0byB3cml0ZVxyXG4gKi9cclxuZnVuY3Rpb24gd3JpdGVTdHJpbmcoZGF0YVZpZXcsIG9mZnNldCwgc3RyaW5nKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGRhdGFWaWV3LnNldFVpbnQ4KG9mZnNldCArIGksIHN0cmluZy5jaGFyQ29kZUF0KGkpKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEMgbW9sbG9jIGNsYXNzIGludGVyZmFjZVxyXG4gKi9cclxuY2xhc3MgX0FsbG9jYXRlZFBvaW50ZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBBbGxvY2F0ZSBtZW1vcnlcclxuICAgICAqIEBwYXJhbSB7ZW1Nb2R1bGV9IE1vZHVsZSAtIEVtc2NyaXB0ZW4gbW9kdWxlIG9iamVjdFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBzaXplIG9mIGFsbG9jYXRlZCBtZW1vcnkgaW4gYnl0ZXMuXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzU2lnbmVkXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzRmxvYXRcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW1Nb2R1bGUsIHNpemUsIGlzU2lnbmVkLCBpc0Zsb2F0KSB7XHJcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5fbW9kdWxlID0gZW1Nb2R1bGU7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5fc2l6ZSkge1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9oZWFwQXJyYXkgPSBpc1NpZ25lZCA/IHRoaXMuX21vZHVsZS5IRUFQOCA6IHRoaXMuX21vZHVsZS5IRUFQVTg7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5faGVhcEFycmF5ID0gaXNTaWduZWQgPyB0aGlzLl9tb2R1bGUuSEVBUDE2IDogdGhpcy5fbW9kdWxlLkhFQVBVMTY7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5faGVhcEFycmF5ID0gaXNTaWduZWQgPyB0aGlzLl9tb2R1bGUuSEVBUDMyIDogdGhpcy5fbW9kdWxlLkhFQVBVMzI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIC8vIFBvaW50ZXIgaXMgdHJlYXRlZCBhcyBidWZmZXJcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hlYXBBcnJheSA9IHRoaXMuX21vZHVsZS5IRUFQVTg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNGbG9hdCkge1xyXG4gICAgICAgICAgICAvLyBXaGVuIGZsb2F0aW5nIG51YmVyIHNldCwgb3ZlcnJpZGUgc2V0dGluZy5cclxuICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IDQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2hlYXBBcnJheSA9IHRoaXMuX21vZHVsZS5IRUFQRjMyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTm90ZSB0aGF0IGlzIHVzZXMgdGhlIG9yaWdpbmFsIHNpemUgcGFyYW1ldGVyLlxyXG4gICAgICAgIHRoaXMuX3BvaW50ZXIgPSB0aGlzLl9tb2R1bGUuX21hbGxvYyhzaXplKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZyZWUgbWVtb3J5XHJcbiAgICAgKi9cclxuICAgIGZyZWUoKSB7XHJcbiAgICAgICAgdGhpcy5fbW9kdWxlLl9mcmVlKHRoaXMucG9pbnRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgcG9pbnRlciAocmVmZXJlbmNlKS4gVGhlIHBvaW50ZXIgaXMgbWVhbmluZ2xlc3MgaW4gdGhlIEpTIGNvbnRleHRcclxuICAgICAqIHNvIGl0IGlzIG9ubHkgdXNlZnVsIHdoZW4gY2FsbGluZyBXQVNNIGZ1bmN0aW9ucy5cclxuICAgICAqL1xyXG4gICAgZ2V0IHBvaW50ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXJlZmVyZW5jZSB0aGUgcG9pbnRlciB0byBnZXQgYSB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIGxldCBiaXRzVG9TaGlmdCA9IDA7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLl9zaXplKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIGJpdHNUb1NoaWZ0ID0gMTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICBiaXRzVG9TaGlmdCA9IDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUG9pbnRlciBjYW4gYmUgb25seSBkZWZlcmVuY2VkIGFzIGludGVnZXItc2l6ZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlYXBBcnJheVt0aGlzLnBvaW50ZXIgPj4gYml0c1RvU2hpZnRdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVyZWZlcmVuY2UgdGhlIHBvaW50ZXIgdG8gc2V0IGEgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIHNldCB2YWx1ZSh2YWx1ZVRvU2V0KSB7XHJcbiAgICAgICAgbGV0IGJpdHNUb1NoaWZ0ID0gMDtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuX3NpemUpIHtcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgYml0c1RvU2hpZnQgPSAxO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgIGJpdHNUb1NoaWZ0ID0gMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQb2ludGVyIGNhbiBiZSBvbmx5IGRlZmVyZW5jZWQgYXMgaW50ZWdlci1zaXplZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9oZWFwQXJyYXlbdGhpcy5wb2ludGVyID4+IGJpdHNUb1NoaWZ0XSA9IHZhbHVlVG9TZXQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDIG1hbGxvYyBhbGxvY2F0ZWQgc2lnbmVkIGludDMyIG9iamVjdFxyXG4gKi9cclxuY2xhc3MgX0ludDMyUG9pbnRlciBleHRlbmRzIF9BbGxvY2F0ZWRQb2ludGVyIHtcclxuICAgIC8qKlxyXG4gICAgICogQWxsb2NhdGUgYW5kIGFzc2lnbiBudW1iZXJcclxuICAgICAqIEBwYXJhbSB7ZW1Nb2R1bGV9IE1vZHVsZSAtIEVtc2NyaXB0ZW4gbW9kdWxlIG9iamVjdFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSB2YWx1ZSAtIElmIHVuZGVmaW5lZCB0aGUgdmFsdWUgaXMgbm90IGFzc2lnbmVkIHRvIHRoZSBtZW1vcnkuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGVtTW9kdWxlLCB2YWx1ZSkge1xyXG4gICAgICAgIHN1cGVyKGVtTW9kdWxlLCA0LCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEMgbWFsbG9jIGFsbG9jYXRlZCB1bnNpZ25lZCBpbnQzMiBvYmplY3RcclxuICovXHJcbmNsYXNzIF9VaW50MzJQb2ludGVyIGV4dGVuZHMgX0FsbG9jYXRlZFBvaW50ZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBBbGxvY2F0ZSBhbmQgYXNzaWduIG51bWJlclxyXG4gICAgICogQHBhcmFtIHtlbU1vZHVsZX0gTW9kdWxlIC0gRW1zY3JpcHRlbiBtb2R1bGUgb2JqZWN0XHJcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHZhbHVlIC0gSWYgdW5kZWZpbmVkIHRoZSB2YWx1ZSBpcyBub3QgYXNzaWduZWQgdG8gdGhlIG1lbW9yeS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW1Nb2R1bGUsIHZhbHVlKSB7XHJcbiAgICAgICAgc3VwZXIoZW1Nb2R1bGUsIDQsIGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEMgbWFsbG9jIGFsbG9jYXRlZCBmbG9hdCBidWZmZXIgb2JqZWN0XHJcbiAqL1xyXG5jbGFzcyBfQWxsb2NhdGVkQnVmZmVyIGV4dGVuZHMgX0FsbG9jYXRlZFBvaW50ZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBBbGxvY2F0ZSBidWZmZXJcclxuICAgICAqIEBwYXJhbSB7ZW1Nb2R1bGV9IE1vZHVsZSAtIEVtc2NyaXB0ZW4gbW9kdWxlIG9iamVjdFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCAtIFNpemUgb2YgYnVmZmVyIGluIHRoZSBudW1iZXIgb2YgdW5pdHMsIE5PVCBpbiBieXRlc1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVuaXRTaXplIC0gU2l6ZSBvZiBhIHVuaXQgaW4gYnl0ZXNcclxuICAgICAqIEBwYXJhbSB7Ym9vbH0gaXNTaWduZWRcclxuICAgICAqIEBwYXJhbSB7Ym9vbH0gaXNGbG9hdFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbU1vZHVsZSwgbGVuZ3RoLCB1bml0U2l6ZSwgaXNTaWduZWQsIGlzRmxvYXQpIHtcclxuICAgICAgICBzdXBlcihlbU1vZHVsZSwgbGVuZ3RoICogdW5pdFNpemUsIGlzU2lnbmVkLCBpc0Zsb2F0KTtcclxuICAgICAgICBsZXQgYml0c1RvU2hpZnQgPSAwO1xyXG4gICAgICAgIHN3aXRjaCAodW5pdFNpemUpIHtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5faGVhcEFycmF5ID0gaXNTaWduZWQgPyB0aGlzLl9tb2R1bGUuSEVBUDggOiB0aGlzLl9tb2R1bGUuSEVBUFU4O1xyXG4gICAgICAgICAgICAgICAgYml0c1RvU2hpZnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hlYXBBcnJheSA9IGlzU2lnbmVkID8gdGhpcy5fbW9kdWxlLkhFQVAxNiA6IHRoaXMuX21vZHVsZS5IRUFQVTE2O1xyXG4gICAgICAgICAgICAgICAgYml0c1RvU2hpZnQgPSAxO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hlYXBBcnJheSA9IGlzU2lnbmVkID8gdGhpcy5fbW9kdWxlLkhFQVAzMiA6IHRoaXMuX21vZHVsZS5IRUFQVTMyO1xyXG4gICAgICAgICAgICAgICAgYml0c1RvU2hpZnQgPSAyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuaXQgc2l6ZSBtdXN0IGJlIGFuIGludGVnZXItc2l6ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNGbG9hdCkge1xyXG4gICAgICAgICAgICB0aGlzLl9oZWFwQXJyYXkgPSB0aGlzLl9tb2R1bGUuSEVBUEYzMjtcclxuICAgICAgICAgICAgYml0c1RvU2hpZnQgPSAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgb2Zmc2V0ID0gdGhpcy5fcG9pbnRlciA+PiBiaXRzVG9TaGlmdDtcclxuICAgICAgICB0aGlzLl9idWZmZXIgPSB0aGlzLl9oZWFwQXJyYXkuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyBsZW5ndGgpO1xyXG4gICAgICAgIHRoaXMuX2xlbmd0aCA9IGxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQoYXJyYXksIG9mZnNldCkge1xyXG4gICAgICAgIHRoaXMuX2J1ZmZlci5zZXQoYXJyYXksIG9mZnNldCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3ViYXJyYXkoYmVnaW4sIGVuZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuc3ViYXJyYXkoYmVnaW4sIGVuZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGxlbmd0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGVuZ3RoO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQyBtYWxsb2MgYWxsb2NhdGVkIGZsb2F0IGJ1ZmZlciBvYmplY3RcclxuICovXHJcbmNsYXNzIF9GbG9hdDMyQnVmZmVyIGV4dGVuZHMgX0FsbG9jYXRlZEJ1ZmZlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbU1vZHVsZSwgbGVuZ3RoKSB7XHJcbiAgICAgICAgc3VwZXIoZW1Nb2R1bGUsIGxlbmd0aCwgNCwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDIG1hbGxvYyBhbGxvY2F0ZWQgdW5zaWduZWQgdWludDggYnVmZmVyIG9iamVjdFxyXG4gKi9cclxuY2xhc3MgX1VpbnQ4QnVmZmVyIGV4dGVuZHMgX0FsbG9jYXRlZEJ1ZmZlciB7XHJcbiAgICAvKipcclxuICAgICAqIEFsbG9jYXRlIGFuZCBhc3NpZ24gbnVtYmVyXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHZhbHVlIC0gSWYgdW5kZWZpbmVkIHRoZSB2YWx1ZSBpcyBub3QgYXNzaWduZWQgdG8gdGhlIG1lbW9yeS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW1Nb2R1bGUsIGxlbmd0aCkge1xyXG4gICAgICAgIHN1cGVyKGVtTW9kdWxlLCBsZW5ndGgsIDEsIGZhbHNlLCBmYWxzZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBYnN0cmFjdHMgQyBwb2ludGVycyBhbmQgbWFsbG9jIGZvciBFbXNjcmlwdGVuIG1vZHVsZXMuXHJcbiAqL1xyXG5jbGFzcyBFbXNjcmlwdGVuTWVtb3J5QWxsb2NhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGVtTW9kdWxlKSB7XHJcbiAgICAgICAgdGhpcy5fbW9kdWxlID0gZW1Nb2R1bGU7XHJcbiAgICB9XHJcblxyXG4gICAgbWFsbG9jSW50MzIodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gbmV3IF9JbnQzMlBvaW50ZXIodGhpcy5fbW9kdWxlLCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWFsbG9jVWludDMyKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBfVWludDMyUG9pbnRlcih0aGlzLl9tb2R1bGUsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBtYWxsb2NVaW50OEJ1ZmZlcihsZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IF9VaW50OEJ1ZmZlcih0aGlzLl9tb2R1bGUsIGxlbmd0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgbWFsbG9jRmxvYXQzMkJ1ZmZlcihsZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IF9GbG9hdDMyQnVmZmVyKHRoaXMuX21vZHVsZSwgbGVuZ3RoKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogY29tbW9uRnVuY3Rpb25zLmpzIGVuZCAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBPZ2dPcHVzRW5jb2Rlci5qcyBiZWdpbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqL1xyXG52YXIgTW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfc2NyaXB0RGlyID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0ID8gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMgOiB1bmRlZmluZWQ7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIGZ1bmN0aW9uIChNb2R1bGUpIHtcclxuICAgICAgICAgICAgTW9kdWxlID0gTW9kdWxlIHx8IHt9O1xyXG5cclxuICAgICAgICAgICAgdmFyIE1vZHVsZSA9IHR5cGVvZiBNb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgPyBNb2R1bGUgOiB7fTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogT3B1c0VuY29kZXIuanMgc3RhcnQgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICAgICAqL1xyXG5cclxuICAgICAgICAgICAgLyoqKiBDb25maWd1cmF0aW9uKi9cclxuICAgICAgICAgICAgY29uc3QgT1BVU19BUFBMSUNBVElPTiA9IDIwNDk7XHJcbiAgICAgICAgICAgIC8qKiBEZWZpbmVkIGluIG9wdXNfZGVmaW5lcy5oXHJcbiAgICAgICAgICAgICAqICAyMDQ4OiBPUFVTX0FQUExJQ0FUSU9OX1ZPSVAgPSBWb2ljZSAoTG93ZXIgZmlkZWxpdHkpXHJcbiAgICAgICAgICAgICAqICAyMDQ5OiBPUFVTX0FQUExJQ0FUSU9OX0FVRElPID0gRnVsbCBCYW5kIEF1ZGlvIChIaWdoZXN0IGZpZGVsaXR5KVxyXG4gICAgICAgICAgICAgKiAgMjA1MTogT1BVU19BUFBMSUNBVElPTl9SRVNUUklDVEVEX0xPV0RFTEFZID0gUmVzdHJpY3RlZCBMb3cgRGVsYXkgKExvd2VzdCBsYXRlbmN5KSAqL1xyXG4gICAgICAgICAgICBjb25zdCBPUFVTX09VVFBVVF9TQU1QTEVfUkFURSA9IDQ4MDAwOyAvLyBEZXNpcmVkIGVuY29kaW5nIHNhbXBsZSByYXRlLiBBdWRpbyB3aWxsIGJlIHJlc2FtcGxlZFxyXG4gICAgICAgICAgICBjb25zdCBPUFVTX09VVFBVVF9NQVhfTEVOR1RIID0gNDAwMDtcclxuICAgICAgICAgICAgY29uc3QgT1BVU19GUkFNRV9TSVpFID0gMjA7IC8vIFNwZWNpZmllZCBpbiBtcy5cclxuICAgICAgICAgICAgY29uc3QgU1BFRVhfUkVTQU1QTEVfUVVBTElUWSA9IDY7IC8vIFZhbHVlIGJldHdlZW4gMCBhbmQgMTAgaW5jbHVzaXZlLiAxMCBiZWluZyBoaWdoZXN0IHF1YWxpdHkuXHJcbiAgICAgICAgICAgIGNvbnN0IEJVRkZFUl9MRU5HVEggPSA0MDk2O1xyXG5cclxuICAgICAgICAgICAgLyoqKiBDb25zdGFudHMgdXNlZCBmb3IgbGlicmFyaWVzKi9cclxuICAgICAgICAgICAgLy8gaW4gb3B1c19kZWZpbmVzLmhcclxuICAgICAgICAgICAgY29uc3QgT1BVU19PSyA9IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IE9QVVNfU0VUX0JJVFJBVEVfUkVRVUVTVCA9IDQwMDI7XHJcbiAgICAgICAgICAgIC8vIGluIHNwZWV4X3Jlc2FtcGxlci5oXHJcbiAgICAgICAgICAgIGNvbnN0IFJFU0FNUExFUl9FUlJfU1VDQ0VTUyA9IDA7XHJcblxyXG4gICAgICAgICAgICBjbGFzcyBfT3B1c0VuY29kZXIge1xyXG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3IoaW5wdXRTYW1wbGVSYXRlLCBjaGFubmVsQ291bnQsIGJpdHNQZXJTZWNvbmQgPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRTYW1wbGVSYXRlLCAvLyBVc3VhbGx5IDQ0MTAwSHogb3IgNDgwMDBIelxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBFbXNjcmlwdGVuIG1lbW9yeSBhbGxvY2F0b3JcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbW9yeSA9IG5ldyBFbXNjcmlwdGVuTWVtb3J5QWxsb2NhdG9yKE1vZHVsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGlib3B1cyBmdW5jdGlvbnMgaW1wb3J0ZWQgZnJvbSBXQVNNXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B1c19lbmNvZGVyX2NyZWF0ZSA9IE1vZHVsZS5fb3B1c19lbmNvZGVyX2NyZWF0ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHVzX2VuY29kZXJfY3RsID0gTW9kdWxlLl9vcHVzX2VuY29kZXJfY3RsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdXNfZW5jb2RlX2Zsb2F0ID0gTW9kdWxlLl9vcHVzX2VuY29kZV9mbG9hdDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHVzX2VuY29kZXJfZGVzdHJveSA9IE1vZHVsZS5fb3B1c19lbmNvZGVyX2Rlc3Ryb3k7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU3BlZXhEU1AgZnVuY3Rpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3BlZXhfcmVzYW1wbGVyX2luaXQgPSBNb2R1bGUuX3NwZWV4X3Jlc2FtcGxlcl9pbml0O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NwZWV4X3Jlc2FtcGxlcl9wcm9jZXNzX2ludGVybGVhdmVkX2Zsb2F0ID0gTW9kdWxlLl9zcGVleF9yZXNhbXBsZXJfcHJvY2Vzc19pbnRlcmxlYXZlZF9mbG9hdDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zcGVleF9yZXNhbXBsZXJfZGVzdHJveSA9IE1vZHVsZS5fc3BlZXhfcmVzYW1wbGVyX2Rlc3Ryb3k7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT2dnIGNvbnRhaW5lciBpbXBvcnRlZCB1c2luZyBXZWJJREwgYmluZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IG5ldyBNb2R1bGUuQ29udGFpbmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmluaXQoT1BVU19PVVRQVVRfU0FNUExFX1JBVEUsIGNoYW5uZWxDb3VudCwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHhGRkZGRkZGRikpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLk9wdXNJbml0Q29kZWMoT1BVU19PVVRQVVRfU0FNUExFX1JBVEUsIGNoYW5uZWxDb3VudCwgYml0c1BlclNlY29uZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5TcGVleEluaXRSZXNhbXBsZXIoaW5wdXRTYW1wbGVSYXRlLCBPUFVTX09VVFBVVF9TQU1QTEVfUkFURSwgY2hhbm5lbENvdW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dFNhbXBsZXNQZXJDaGFubmVsID0gaW5wdXRTYW1wbGVSYXRlICogT1BVU19GUkFNRV9TSVpFIC8gMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFNhbXBsZVBlckNoYW5uZWwgPSBPUFVTX09VVFBVVF9TQU1QTEVfUkFURSAqIE9QVVNfRlJBTUVfU0laRSAvIDEwMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEluaXRpYWxpemUgYWxsIGJ1ZmZlcnNcclxuICAgICAgICAgICAgICAgICAgICAvLyAgfGlucHV0IGJ1ZmZlcnwgPT17cmVhbXBsZXJ9PT4gfHJlc2FtcGxlZCBidWZmZXJ8ID09e2VuY29kZXJ9PT4gfG91dHB1dCBidWZmZXJ8XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dEJ1ZmZlckluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1JbnB1dEJ1ZmZlciA9IHRoaXMubWVtb3J5Lm1hbGxvY0Zsb2F0MzJCdWZmZXIodGhpcy5pbnB1dFNhbXBsZXNQZXJDaGFubmVsICogY2hhbm5lbENvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1SZXNhbXBsZWRCdWZmZXIgPSB0aGlzLm1lbW9yeS5tYWxsb2NGbG9hdDMyQnVmZmVyKHRoaXMub3V0cHV0U2FtcGxlUGVyQ2hhbm5lbCAqIGNoYW5uZWxDb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tT3V0cHV0QnVmZmVyID0gdGhpcy5tZW1vcnkubWFsbG9jVWludDhCdWZmZXIoT1BVU19PVVRQVVRfTUFYX0xFTkdUSCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEZpZ3VyZSBvdXQgaG93IHRvIGRlbGV0ZSB0aGlzIHRoaW5nLlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJsZWF2ZWRCdWZmZXJzID0gKGNoYW5uZWxDb3VudCAhPT0gMSkgPyBuZXcgRmxvYXQzMkFycmF5KEJVRkZFUl9MRU5HVEggKiBjaGFubmVsQ291bnQpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGVuY29kZShidWZmZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNhbXBsZXMgPSB0aGlzLmludGVybGVhdmUoYnVmZmVycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNhbXBsZUluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHNhbXBsZUluZGV4IDwgc2FtcGxlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29weSBzYW1wbGVzIHRvIGlucHV0IGJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGVuZ3RoVG9Db3B5ID0gTWF0aC5taW4odGhpcy5tSW5wdXRCdWZmZXIubGVuZ3RoIC0gdGhpcy5pbnB1dEJ1ZmZlckluZGV4LCBzYW1wbGVzLmxlbmd0aCAtIHNhbXBsZUluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tSW5wdXRCdWZmZXIuc2V0KHNhbXBsZXMuc3ViYXJyYXkoc2FtcGxlSW5kZXgsIHNhbXBsZUluZGV4ICsgbGVuZ3RoVG9Db3B5KSwgdGhpcy5pbnB1dEJ1ZmZlckluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dEJ1ZmZlckluZGV4ICs9IGxlbmd0aFRvQ29weTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gbUlucHV0QnVmZmVyIGlzIGZpbGwsIHRoZW4gZW5jb2RlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dEJ1ZmZlckluZGV4ID49IHRoaXMubUlucHV0QnVmZmVyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzYW1wbGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1JbnB1dExlbmd0aCA9IHRoaXMubWVtb3J5Lm1hbGxvY1VpbnQzMih0aGlzLmlucHV0U2FtcGxlc1BlckNoYW5uZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1PdXRwdXRMZW5ndGggPSB0aGlzLm1lbW9yeS5tYWxsb2NVaW50MzIodGhpcy5vdXRwdXRTYW1wbGVQZXJDaGFubmVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnIgPSB0aGlzLl9zcGVleF9yZXNhbXBsZXJfcHJvY2Vzc19pbnRlcmxlYXZlZF9mbG9hdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2FtcGxlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1JbnB1dEJ1ZmZlci5wb2ludGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1JbnB1dExlbmd0aC5wb2ludGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubVJlc2FtcGxlZEJ1ZmZlci5wb2ludGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1PdXRwdXRMZW5ndGgucG9pbnRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1JbnB1dExlbmd0aC5mcmVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtT3V0cHV0TGVuZ3RoLmZyZWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIgIT09IFJFU0FNUExFUl9FUlJfU1VDQ0VTUykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzYW1wbGluZyBlcnJvci4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuY29kaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFja2V0TGVuZ3RoID0gdGhpcy5fb3B1c19lbmNvZGVfZmxvYXQodGhpcy5lbmNvZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubVJlc2FtcGxlZEJ1ZmZlci5wb2ludGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U2FtcGxlUGVyQ2hhbm5lbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1PdXRwdXRCdWZmZXIucG9pbnRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1PdXRwdXRCdWZmZXIubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWNrZXRMZW5ndGggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcHVzIGVuY29kaW5nIGVycm9yLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5wdXQgcGFja2dldCB0byBPZ2cgb3IgV2ViTSBwYWdlIGdlbmVyYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLndyaXRlRnJhbWUodGhpcy5tT3V0cHV0QnVmZmVyLnBvaW50ZXIsIHBhY2tldExlbmd0aCwgdGhpcy5vdXRwdXRTYW1wbGVQZXJDaGFubmVsKTsgLy8gOTYwIHNhbXBsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRCdWZmZXJJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlSW5kZXggKz0gbGVuZ3RoVG9Db3B5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIEZyZWUgdXAgbWVtb3J5IGJlZm9yZSBjbG9zZSB0aGUgd2ViIHdvcmtlci5cclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgY2xvc2UoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5jb2RlIHRoZSByZW1haW5pbmcgYnVmZmVycyBmaXJzdC5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7Y2hhbm5lbENvdW50fSA9IHRoaXMuY29uZmlnO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbGwgemVybyB0byBidWZmZXJzLCBzaXplIGlzIHRoZSBzYW1lIGFzIHJlIHJlc3Qgb2YgaW5wdXRCdWZmZXIuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpbmFsRnJhbWVCdWZmZXJzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFubmVsQ291bnQ7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbEZyYW1lQnVmZmVycy5wdXNoKG5ldyBGbG9hdDMyQXJyYXkoQlVGRkVSX0xFTkdUSCAtICh0aGlzLmlucHV0QnVmZmVySW5kZXggLyBjaGFubmVsQ291bnQpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5jb2RlKGZpbmFsRnJhbWVCdWZmZXJzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQnkgZGVzdHJveWluZyB0aGUgY29udGFpbmVyIGl0IG1heSBlbWl0IHRoZSByZW1haW5pbmcgYnVmZmVyLlxyXG4gICAgICAgICAgICAgICAgICAgIE1vZHVsZS5kZXN0cm95KHRoaXMuX2NvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tSW5wdXRCdWZmZXIuZnJlZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubVJlc2FtcGxlZEJ1ZmZlci5mcmVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tT3V0cHV0QnVmZmVyLmZyZWUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHVzX2VuY29kZXJfZGVzdHJveSh0aGlzLmVuY29kZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NwZWV4X3Jlc2FtcGxlcl9kZXN0cm95KHRoaXMucmVzYW1wbGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIEludGVybGVhdmUgdGhlIGNoYW5uZWwgYnVmZmVyLlxyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXlbXX0gY2hhbm5lbEJ1ZmZlcnMgLSBBbiBhcnJheSBvZiBidWZmZXJzIHRvIGludGVybGVhdmUuXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIGludGVybGVhdmUoY2hhbm5lbEJ1ZmZlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaENvdW50ID0gY2hhbm5lbEJ1ZmZlcnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCBvbmx5IGhhcyBvbmUgY2hhbm5lbCwgbm8gaW50ZXJsZWF2ZSBuZWVkZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoQ291bnQgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5uZWxCdWZmZXJzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQ6IHwgY2gwIHwgY2gxIHwgY2gwIHwgY2gxIHwgY2gwIHwgY2gxIHwgY2gwIHwgY2gxIHwgLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY2ggPSAwOyBjaCA8IGNoQ291bnQ7IGNoKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJ1ZmZlciA9IGNoYW5uZWxCdWZmZXJzW2NoXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJsZWF2ZWRCdWZmZXJzW2kgKiBjaENvdW50ICsgY2hdID0gYnVmZmVyW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmludGVybGVhdmVkQnVmZmVycztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBPcHVzSW5pdENvZGVjKG91dFJhdGUsIGNoQ291bnQsIGJpdFJhdGUgPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbUVyciA9IHRoaXMubWVtb3J5Lm1hbGxvY1VpbnQzMih1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5jb2RlciA9IHRoaXMuX29wdXNfZW5jb2Rlcl9jcmVhdGUob3V0UmF0ZSwgY2hDb3VudCwgT1BVU19BUFBMSUNBVElPTiwgbUVyci5wb2ludGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyID0gbUVyci52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBtRXJyLmZyZWUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyICE9PSBPUFVTX09LKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT3B1cyBlbmNvZG9yIGluaXRpYWxpemF0aW9uIGZhaWxlZC4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqIENvbmZpZ3VyZXMgdGhlIGJpdHJhdGUgaW4gdGhlIGVuY29kZXIuXHJcbiAgICAgICAgICAgICAgICAgICAgICogUmF0ZXMgZnJvbSA1MDAgdG8gNTEyMDAwIGJpdHMgcGVyIHNlY29uZCBhcmUgbWVhbmluZ2Z1bCwgYXMgd2VsbCBhcyB0aGVcclxuICAgICAgICAgICAgICAgICAgICAgKiBzcGVjaWFsIHZhbHVlcyAjT1BVU19BVVRPICgtMTAwMCkgYW5kICNPUFVTX0JJVFJBVEVfTUFYICgtMSkuXHJcbiAgICAgICAgICAgICAgICAgICAgICogVGhlIHZhbHVlICNPUFVTX0JJVFJBVEVfTUFYIGNhbiBiZSB1c2VkIHRvIGNhdXNlIHRoZSBjb2RlYyB0byB1c2UgYXMgbXVjaFxyXG4gICAgICAgICAgICAgICAgICAgICAqIHJhdGUgYXMgaXQgY2FuLCB3aGljaCBpcyB1c2VmdWwgZm9yIGNvbnRyb2xsaW5nIHRoZSByYXRlIGJ5IGFkanVzdGluZyB0aGVcclxuICAgICAgICAgICAgICAgICAgICAgKiBvdXRwdXQgYnVmZmVyIHNpemUuIFRoZSBkZWZhdWx0IGlzIGRldGVybWluZWQgYmFzZWQgb24gdGhlIG51bWJlciBvZlxyXG4gICAgICAgICAgICAgICAgICAgICAqIGNoYW5uZWxzIGFuZCB0aGUgaW5wdXQgc2FtcGxpbmcgcmF0ZS5cclxuICAgICAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYml0UmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk9wdXNTZXRPcHVzQ29udHJvbChPUFVTX1NFVF9CSVRSQVRFX1JFUVVFU1QsIGJpdFJhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBPcHVzU2V0T3B1c0NvbnRyb2wocmVxdWVzdCwgdmFBcmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLm1lbW9yeS5tYWxsb2NJbnQzMih2YUFyZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B1c19lbmNvZGVyX2N0bCh0aGlzLmVuY29kZXIsIHJlcXVlc3QsIHZhbHVlLnBvaW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLmZyZWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBTcGVleEluaXRSZXNhbXBsZXIoaW5wdXRSYXRlLCBvdXRwdXRSYXRlLCBjaENvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1FcnIgPSB0aGlzLm1lbW9yeS5tYWxsb2NVaW50MzIodW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2FtcGxlciA9IHRoaXMuX3NwZWV4X3Jlc2FtcGxlcl9pbml0KGNoQ291bnQsIGlucHV0UmF0ZSwgb3V0cHV0UmF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU1BFRVhfUkVTQU1QTEVfUVVBTElUWSwgbUVyci5wb2ludGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyID0gbUVyci52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBtRXJyLmZyZWUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyICE9PSBSRVNBTVBMRVJfRVJSX1NVQ0NFU1MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbml0aWFsaXppbmcgcmVzYW1wbGVyIGZhaWxlZC4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBEZWZpbmUgdGhlIGVuY29kZXIgbW9kdWxlIGludGVyZmFjZS4gVGhlIHdvcmtlciB3aWxsIGludGVyYWN0IHdpdGhcclxuICAgICAgICAgICAgICogdGhlIGVuY29kZXIgdmlhIHRob3NlIGZ1bmN0aW9ucyBvbmx5LlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgTW9kdWxlLmluaXQgPSBmdW5jdGlvbiAoaW5wdXRTYW1wbGVSYXRlLCBjaGFubmVsQ291bnQsIGJpdHNQZXJTZWNvbmQpIHtcclxuICAgICAgICAgICAgICAgIE1vZHVsZS5lbmNvZGVkQnVmZmVycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgTW9kdWxlLmVuY29kZXIgPSBuZXcgX09wdXNFbmNvZGVyKGlucHV0U2FtcGxlUmF0ZSwgY2hhbm5lbENvdW50LCBiaXRzUGVyU2Vjb25kKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIE1vZHVsZS5lbmNvZGUgPSBmdW5jdGlvbiAoYnVmZmVycykge1xyXG4gICAgICAgICAgICAgICAgTW9kdWxlLmVuY29kZXIuZW5jb2RlKGJ1ZmZlcnMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgTW9kdWxlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1vZHVsZS5lbmNvZGVkQnVmZmVycy5zcGxpY2UoMCwgTW9kdWxlLmVuY29kZWRCdWZmZXJzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBNb2R1bGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBNb2R1bGUuZW5jb2Rlci5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogT3B1c0VuY29kZXIuanMgZW5kICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAgICAgKiBAdHlwZSB7e319XHJcbiAgICAgICAgICAgICAqL1xyXG5cclxuICAgICAgICAgICAgdmFyIG1vZHVsZU92ZXJyaWRlcyA9IHt9O1xyXG4gICAgICAgICAgICB2YXIga2V5O1xyXG4gICAgICAgICAgICBmb3IgKGtleSBpbiBNb2R1bGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChNb2R1bGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZU92ZXJyaWRlc1trZXldID0gTW9kdWxlW2tleV1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBNb2R1bGVbXCJhcmd1bWVudHNcIl0gPSBbXTtcclxuICAgICAgICAgICAgTW9kdWxlW1widGhpc1Byb2dyYW1cIl0gPSBcIi4vdGhpcy5wcm9ncmFtXCI7XHJcbiAgICAgICAgICAgIE1vZHVsZVtcInF1aXRcIl0gPSBmdW5jdGlvbiAoc3RhdHVzLCB0b1Rocm93KSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyB0b1Rocm93XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIE1vZHVsZVtcInByZVJ1blwiXSA9IFtdO1xyXG4gICAgICAgICAgICBNb2R1bGVbXCJwb3N0UnVuXCJdID0gW107XHJcbiAgICAgICAgICAgIHZhciBFTlZJUk9OTUVOVF9JU19XRUIgPSB0cnVlO1xyXG4gICAgICAgICAgICB2YXIgRU5WSVJPTk1FTlRfSVNfV09SS0VSID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBFTlZJUk9OTUVOVF9JU19OT0RFID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBFTlZJUk9OTUVOVF9IQVNfTk9ERSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgRU5WSVJPTk1FTlRfSVNfU0hFTEwgPSBmYWxzZTtcclxuICAgICAgICAgICAgRU5WSVJPTk1FTlRfSVNfV0VCID0gdHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIjtcclxuICAgICAgICAgICAgRU5WSVJPTk1FTlRfSVNfV09SS0VSID0gdHlwZW9mIGltcG9ydFNjcmlwdHMgPT09IFwiZnVuY3Rpb25cIjtcclxuICAgICAgICAgICAgRU5WSVJPTk1FTlRfSEFTX05PREUgPSB0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVxdWlyZSA9PT0gXCJmdW5jdGlvblwiO1xyXG4gICAgICAgICAgICBFTlZJUk9OTUVOVF9JU19OT0RFID0gRU5WSVJPTk1FTlRfSEFTX05PREUgJiYgIUVOVklST05NRU5UX0lTX1dFQiAmJiAhRU5WSVJPTk1FTlRfSVNfV09SS0VSO1xyXG4gICAgICAgICAgICB2YXIgc2NyaXB0RGlyZWN0b3J5ID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGxvY2F0ZUZpbGUocGF0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1vZHVsZVtcImxvY2F0ZUZpbGVcIl0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kdWxlW1wibG9jYXRlRmlsZVwiXShwYXRoLCBzY3JpcHREaXJlY3RvcnkpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzY3JpcHREaXJlY3RvcnkgKyBwYXRoXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChFTlZJUk9OTUVOVF9JU19XRUIgfHwgRU5WSVJPTk1FTlRfSVNfV09SS0VSKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoRU5WSVJPTk1FTlRfSVNfV09SS0VSKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0RGlyZWN0b3J5ID0gc2VsZi5sb2NhdGlvbi5ocmVmXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JpcHREaXJlY3RvcnkgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKF9zY3JpcHREaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JpcHREaXJlY3RvcnkgPSBfc2NyaXB0RGlyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NyaXB0RGlyZWN0b3J5LmluZGV4T2YoXCJibG9iOlwiKSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdERpcmVjdG9yeSA9IHNjcmlwdERpcmVjdG9yeS5zdWJzdHIoMCwgc2NyaXB0RGlyZWN0b3J5Lmxhc3RJbmRleE9mKFwiL1wiKSArIDEpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdERpcmVjdG9yeSA9IFwiXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIE1vZHVsZVtcInJlYWRcIl0gPSBmdW5jdGlvbiBzaGVsbF9yZWFkKHVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLm9wZW4oXCJHRVRcIiwgdXJsLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNlbmQobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhoci5yZXNwb25zZVRleHRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoRU5WSVJPTk1FTlRfSVNfV09SS0VSKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTW9kdWxlW1wicmVhZEJpbmFyeVwiXSA9IGZ1bmN0aW9uIHJlYWRCaW5hcnkodXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5vcGVuKFwiR0VUXCIsIHVybCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gXCJhcnJheWJ1ZmZlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2VuZChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHhoci5yZXNwb25zZSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBNb2R1bGVbXCJyZWFkQXN5bmNcIl0gPSBmdW5jdGlvbiByZWFkQXN5bmModXJsLCBvbmxvYWQsIG9uZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIHhoci5vcGVuKFwiR0VUXCIsIHVybCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24geGhyX29ubG9hZCgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT0gMjAwIHx8IHhoci5zdGF0dXMgPT0gMCAmJiB4aHIucmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZCh4aHIucmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcigpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB4aHIub25lcnJvciA9IG9uZXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNlbmQobnVsbClcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBNb2R1bGVbXCJzZXRXaW5kb3dUaXRsZVwiXSA9IGZ1bmN0aW9uICh0aXRsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gdGl0bGVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgb3V0ID0gTW9kdWxlW1wicHJpbnRcIl0gfHwgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiID8gY29uc29sZS5sb2cuYmluZChjb25zb2xlKSA6IHR5cGVvZiBwcmludCAhPT0gXCJ1bmRlZmluZWRcIiA/IHByaW50IDogbnVsbCk7XHJcbiAgICAgICAgICAgIHZhciBlcnIgPSBNb2R1bGVbXCJwcmludEVyclwiXSB8fCAodHlwZW9mIHByaW50RXJyICE9PSBcInVuZGVmaW5lZFwiID8gcHJpbnRFcnIgOiB0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb25zb2xlLndhcm4uYmluZChjb25zb2xlKSB8fCBvdXQpO1xyXG4gICAgICAgICAgICBmb3IgKGtleSBpbiBtb2R1bGVPdmVycmlkZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtb2R1bGVPdmVycmlkZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIE1vZHVsZVtrZXldID0gbW9kdWxlT3ZlcnJpZGVzW2tleV1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtb2R1bGVPdmVycmlkZXMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgV2ViQXNzZW1ibHkgIT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgIGVycihcIm5vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWRcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgd2FzbU1lbW9yeTtcclxuICAgICAgICAgICAgdmFyIHdhc21UYWJsZTtcclxuICAgICAgICAgICAgdmFyIEFCT1JUID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBFWElUU1RBVFVTID0gMDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIHRleHQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWJvcnQoXCJBc3NlcnRpb24gZmFpbGVkOiBcIiArIHRleHQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBVVEY4RGVjb2RlciA9IHR5cGVvZiBUZXh0RGVjb2RlciAhPT0gXCJ1bmRlZmluZWRcIiA/IG5ldyBUZXh0RGVjb2RlcihcInV0ZjhcIikgOiB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVVEY4QXJyYXlUb1N0cmluZyh1OEFycmF5LCBpZHgsIG1heEJ5dGVzVG9SZWFkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kSWR4ID0gaWR4ICsgbWF4Qnl0ZXNUb1JlYWQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kUHRyID0gaWR4O1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHU4QXJyYXlbZW5kUHRyXSAmJiAhKGVuZFB0ciA+PSBlbmRJZHgpKSArK2VuZFB0cjtcclxuICAgICAgICAgICAgICAgIGlmIChlbmRQdHIgLSBpZHggPiAxNiAmJiB1OEFycmF5LnN1YmFycmF5ICYmIFVURjhEZWNvZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFVURjhEZWNvZGVyLmRlY29kZSh1OEFycmF5LnN1YmFycmF5KGlkeCwgZW5kUHRyKSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ciA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGlkeCA8IGVuZFB0cikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdTAgPSB1OEFycmF5W2lkeCsrXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodTAgJiAxMjgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1MSA9IHU4QXJyYXlbaWR4KytdICYgNjM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodTAgJiAyMjQpID09IDE5Mikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKHUwICYgMzEpIDw8IDYgfCB1MSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1MiA9IHU4QXJyYXlbaWR4KytdICYgNjM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodTAgJiAyNDApID09IDIyNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdTAgPSAodTAgJiAxNSkgPDwgMTIgfCB1MSA8PCA2IHwgdTJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUwID0gKHUwICYgNykgPDwgMTggfCB1MSA8PCAxMiB8IHUyIDw8IDYgfCB1OEFycmF5W2lkeCsrXSAmIDYzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHUwIDwgNjU1MzYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHUwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoID0gdTAgLSA2NTUzNjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2IHwgY2ggPj4gMTAsIDU2MzIwIHwgY2ggJiAxMDIzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0clxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBVVEY4VG9TdHJpbmcocHRyLCBtYXhCeXRlc1RvUmVhZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHB0ciA/IFVURjhBcnJheVRvU3RyaW5nKEhFQVBVOCwgcHRyLCBtYXhCeXRlc1RvUmVhZCkgOiBcIlwiXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBVVEYxNkRlY29kZXIgPSB0eXBlb2YgVGV4dERlY29kZXIgIT09IFwidW5kZWZpbmVkXCIgPyBuZXcgVGV4dERlY29kZXIoXCJ1dGYtMTZsZVwiKSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdmFyIFdBU01fUEFHRV9TSVpFID0gNjU1MzY7XHJcbiAgICAgICAgICAgIHZhciBidWZmZXIsIEhFQVA4LCBIRUFQVTgsIEhFQVAxNiwgSEVBUFUxNiwgSEVBUDMyLCBIRUFQVTMyLCBIRUFQRjMyLCBIRUFQRjY0O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlR2xvYmFsQnVmZmVyVmlld3MoKSB7XHJcbiAgICAgICAgICAgICAgICBNb2R1bGVbXCJIRUFQOFwiXSA9IEhFQVA4ID0gbmV3IEludDhBcnJheShidWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgTW9kdWxlW1wiSEVBUDE2XCJdID0gSEVBUDE2ID0gbmV3IEludDE2QXJyYXkoYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgIE1vZHVsZVtcIkhFQVAzMlwiXSA9IEhFQVAzMiA9IG5ldyBJbnQzMkFycmF5KGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICBNb2R1bGVbXCJIRUFQVThcIl0gPSBIRUFQVTggPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgTW9kdWxlW1wiSEVBUFUxNlwiXSA9IEhFQVBVMTYgPSBuZXcgVWludDE2QXJyYXkoYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgIE1vZHVsZVtcIkhFQVBVMzJcIl0gPSBIRUFQVTMyID0gbmV3IFVpbnQzMkFycmF5KGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICBNb2R1bGVbXCJIRUFQRjMyXCJdID0gSEVBUEYzMiA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgIE1vZHVsZVtcIkhFQVBGNjRcIl0gPSBIRUFQRjY0ID0gbmV3IEZsb2F0NjRBcnJheShidWZmZXIpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBEWU5BTUlDX0JBU0UgPSA1MjgzODI0LCBEWU5BTUlDVE9QX1BUUiA9IDQwOTEyO1xyXG4gICAgICAgICAgICB2YXIgVE9UQUxfU1RBQ0sgPSA1MjQyODgwO1xyXG4gICAgICAgICAgICB2YXIgSU5JVElBTF9UT1RBTF9NRU1PUlkgPSBNb2R1bGVbXCJUT1RBTF9NRU1PUllcIl0gfHwgMTY3NzcyMTY7XHJcbiAgICAgICAgICAgIGlmIChJTklUSUFMX1RPVEFMX01FTU9SWSA8IFRPVEFMX1NUQUNLKSBlcnIoXCJUT1RBTF9NRU1PUlkgc2hvdWxkIGJlIGxhcmdlciB0aGFuIFRPVEFMX1NUQUNLLCB3YXMgXCIgKyBJTklUSUFMX1RPVEFMX01FTU9SWSArIFwiISAoVE9UQUxfU1RBQ0s9XCIgKyBUT1RBTF9TVEFDSyArIFwiKVwiKTtcclxuICAgICAgICAgICAgaWYgKE1vZHVsZVtcImJ1ZmZlclwiXSkge1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyID0gTW9kdWxlW1wiYnVmZmVyXCJdXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFdlYkFzc2VtYmx5ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBXZWJBc3NlbWJseS5NZW1vcnkgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhc21NZW1vcnkgPSBuZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbml0aWFsXCI6IElOSVRJQUxfVE9UQUxfTUVNT1JZIC8gV0FTTV9QQUdFX1NJWkUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWF4aW11bVwiOiBJTklUSUFMX1RPVEFMX01FTU9SWSAvIFdBU01fUEFHRV9TSVpFXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gd2FzbU1lbW9yeS5idWZmZXJcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKElOSVRJQUxfVE9UQUxfTUVNT1JZKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVwZGF0ZUdsb2JhbEJ1ZmZlclZpZXdzKCk7XHJcbiAgICAgICAgICAgIEhFQVAzMltEWU5BTUlDVE9QX1BUUiA+PiAyXSA9IERZTkFNSUNfQkFTRTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhbGxSdW50aW1lQ2FsbGJhY2tzKGNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGNhbGxiYWNrcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZ1bmMgPSBjYWxsYmFjay5mdW5jO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2suYXJnID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZHVsZVtcImR5bkNhbGxfdlwiXShmdW5jKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kdWxlW1wiZHluQ2FsbF92aVwiXShmdW5jLCBjYWxsYmFjay5hcmcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jKGNhbGxiYWNrLmFyZyA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNhbGxiYWNrLmFyZylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBfX0FUUFJFUlVOX18gPSBbXTtcclxuICAgICAgICAgICAgdmFyIF9fQVRJTklUX18gPSBbXTtcclxuICAgICAgICAgICAgdmFyIF9fQVRNQUlOX18gPSBbXTtcclxuICAgICAgICAgICAgdmFyIF9fQVRQT1NUUlVOX18gPSBbXTtcclxuICAgICAgICAgICAgdmFyIHJ1bnRpbWVJbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlUnVuKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1vZHVsZVtcInByZVJ1blwiXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgTW9kdWxlW1wicHJlUnVuXCJdID09IFwiZnVuY3Rpb25cIikgTW9kdWxlW1wicHJlUnVuXCJdID0gW01vZHVsZVtcInByZVJ1blwiXV07XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKE1vZHVsZVtcInByZVJ1blwiXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkT25QcmVSdW4oTW9kdWxlW1wicHJlUnVuXCJdLnNoaWZ0KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVFBSRVJVTl9fKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBlbnN1cmVJbml0UnVudGltZSgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChydW50aW1lSW5pdGlhbGl6ZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHJ1bnRpbWVJbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUSU5JVF9fKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVNYWluKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVE1BSU5fXylcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcG9zdFJ1bigpIHtcclxuICAgICAgICAgICAgICAgIGlmIChNb2R1bGVbXCJwb3N0UnVuXCJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBNb2R1bGVbXCJwb3N0UnVuXCJdID09IFwiZnVuY3Rpb25cIikgTW9kdWxlW1wicG9zdFJ1blwiXSA9IFtNb2R1bGVbXCJwb3N0UnVuXCJdXTtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoTW9kdWxlW1wicG9zdFJ1blwiXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkT25Qb3N0UnVuKE1vZHVsZVtcInBvc3RSdW5cIl0uc2hpZnQoKSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUE9TVFJVTl9fKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhZGRPblByZVJ1bihjYikge1xyXG4gICAgICAgICAgICAgICAgX19BVFBSRVJVTl9fLnVuc2hpZnQoY2IpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZE9uUHJlTWFpbihjYikge1xyXG4gICAgICAgICAgICAgICAgX19BVE1BSU5fXy51bnNoaWZ0KGNiKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhZGRPblBvc3RSdW4oY2IpIHtcclxuICAgICAgICAgICAgICAgIF9fQVRQT1NUUlVOX18udW5zaGlmdChjYilcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIE1hdGhfYWJzID0gTWF0aC5hYnM7XHJcbiAgICAgICAgICAgIHZhciBNYXRoX3NxcnQgPSBNYXRoLnNxcnQ7XHJcbiAgICAgICAgICAgIHZhciBNYXRoX2NlaWwgPSBNYXRoLmNlaWw7XHJcbiAgICAgICAgICAgIHZhciBNYXRoX2Zsb29yID0gTWF0aC5mbG9vcjtcclxuICAgICAgICAgICAgdmFyIHJ1bkRlcGVuZGVuY2llcyA9IDA7XHJcbiAgICAgICAgICAgIHZhciBydW5EZXBlbmRlbmN5V2F0Y2hlciA9IG51bGw7XHJcbiAgICAgICAgICAgIHZhciBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gYWRkUnVuRGVwZW5kZW5jeShpZCkge1xyXG4gICAgICAgICAgICAgICAgcnVuRGVwZW5kZW5jaWVzKys7XHJcbiAgICAgICAgICAgICAgICBpZiAoTW9kdWxlW1wibW9uaXRvclJ1bkRlcGVuZGVuY2llc1wiXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIE1vZHVsZVtcIm1vbml0b3JSdW5EZXBlbmRlbmNpZXNcIl0ocnVuRGVwZW5kZW5jaWVzKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVSdW5EZXBlbmRlbmN5KGlkKSB7XHJcbiAgICAgICAgICAgICAgICBydW5EZXBlbmRlbmNpZXMtLTtcclxuICAgICAgICAgICAgICAgIGlmIChNb2R1bGVbXCJtb25pdG9yUnVuRGVwZW5kZW5jaWVzXCJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTW9kdWxlW1wibW9uaXRvclJ1bkRlcGVuZGVuY2llc1wiXShydW5EZXBlbmRlbmNpZXMpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocnVuRGVwZW5kZW5jaWVzID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocnVuRGVwZW5kZW5jeVdhdGNoZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChydW5EZXBlbmRlbmN5V2F0Y2hlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bkRlcGVuZGVuY3lXYXRjaGVyID0gbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVwZW5kZW5jaWVzRnVsZmlsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGRlcGVuZGVuY2llc0Z1bGZpbGxlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzRnVsZmlsbGVkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgTW9kdWxlW1wicHJlbG9hZGVkSW1hZ2VzXCJdID0ge307XHJcbiAgICAgICAgICAgIE1vZHVsZVtcInByZWxvYWRlZEF1ZGlvc1wiXSA9IHt9O1xyXG4gICAgICAgICAgICB2YXIgZGF0YVVSSVByZWZpeCA9IFwiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LFwiO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaXNEYXRhVVJJKGZpbGVuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoID8gZmlsZW5hbWUuc3RhcnRzV2l0aChkYXRhVVJJUHJlZml4KSA6IGZpbGVuYW1lLmluZGV4T2YoZGF0YVVSSVByZWZpeCkgPT09IDBcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHdhc21CaW5hcnlGaWxlID0gXCJPZ2dPcHVzRW5jb2Rlci53YXNtXCI7XHJcbiAgICAgICAgICAgIGlmICghaXNEYXRhVVJJKHdhc21CaW5hcnlGaWxlKSkge1xyXG4gICAgICAgICAgICAgICAgd2FzbUJpbmFyeUZpbGUgPSBsb2NhdGVGaWxlKHdhc21CaW5hcnlGaWxlKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRCaW5hcnkoKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNb2R1bGVbXCJ3YXNtQmluYXJ5XCJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShNb2R1bGVbXCJ3YXNtQmluYXJ5XCJdKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoTW9kdWxlW1wicmVhZEJpbmFyeVwiXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kdWxlW1wicmVhZEJpbmFyeVwiXSh3YXNtQmluYXJ5RmlsZSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvd1wiYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFib3J0KGVycilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0QmluYXJ5UHJvbWlzZSgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghTW9kdWxlW1wid2FzbUJpbmFyeVwiXSAmJiAoRU5WSVJPTk1FTlRfSVNfV0VCIHx8IEVOVklST05NRU5UX0lTX1dPUktFUikgJiYgdHlwZW9mIGZldGNoID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2god2FzbUJpbmFyeUZpbGUsIHtjcmVkZW50aWFsczogXCJzYW1lLW9yaWdpblwifSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZVtcIm9rXCJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvd1wiZmFpbGVkIHRvIGxvYWQgd2FzbSBiaW5hcnkgZmlsZSBhdCAnXCIgKyB3YXNtQmluYXJ5RmlsZSArIFwiJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlW1wiYXJyYXlCdWZmZXJcIl0oKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEJpbmFyeSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShnZXRCaW5hcnkoKSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVdhc20oZW52KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5mbyA9IHtcImVudlwiOiBlbnZ9O1xyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJlY2VpdmVJbnN0YW5jZShpbnN0YW5jZSwgbW9kdWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cG9ydHMgPSBpbnN0YW5jZS5leHBvcnRzO1xyXG4gICAgICAgICAgICAgICAgICAgIE1vZHVsZVtcImFzbVwiXSA9IGV4cG9ydHM7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUnVuRGVwZW5kZW5jeShcIndhc20taW5zdGFudGlhdGVcIilcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBhZGRSdW5EZXBlbmRlbmN5KFwid2FzbS1pbnN0YW50aWF0ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZWNlaXZlSW5zdGFudGlhdGVkU291cmNlKG91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlY2VpdmVJbnN0YW5jZShvdXRwdXRbXCJpbnN0YW5jZVwiXSlcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEJpbmFyeVByb21pc2UoKS50aGVuKGZ1bmN0aW9uIChiaW5hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGJpbmFyeSwgaW5mbylcclxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKHJlY2VpdmVyLCBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycihcImZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206IFwiICsgcmVhc29uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnQocmVhc29uKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gaW5zdGFudGlhdGVBc3luYygpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIU1vZHVsZVtcIndhc21CaW5hcnlcIl0gJiYgdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nID09PSBcImZ1bmN0aW9uXCIgJiYgIWlzRGF0YVVSSSh3YXNtQmluYXJ5RmlsZSkgJiYgdHlwZW9mIGZldGNoID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2god2FzbUJpbmFyeUZpbGUsIHtjcmVkZW50aWFsczogXCJzYW1lLW9yaWdpblwifSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhyZXNwb25zZSwgaW5mbykudGhlbihyZWNlaXZlSW5zdGFudGlhdGVkU291cmNlLCBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyKFwid2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6IFwiICsgcmVhc29uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIoXCJmYWxsaW5nIGJhY2sgdG8gQXJyYXlCdWZmZXIgaW5zdGFudGlhdGlvblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVJbnN0YW50aWF0ZWRTb3VyY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVJbnN0YW50aWF0ZWRTb3VyY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChNb2R1bGVbXCJpbnN0YW50aWF0ZVdhc21cIl0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kdWxlW1wiaW5zdGFudGlhdGVXYXNtXCJdKGluZm8sIHJlY2VpdmVJbnN0YW5jZSlcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycihcIk1vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6IFwiICsgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc3RhbnRpYXRlQXN5bmMoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7fVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBNb2R1bGVbXCJhc21cIl0gPSBmdW5jdGlvbiAoZ2xvYmFsLCBlbnYsIHByb3ZpZGVkQnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICBlbnZbXCJtZW1vcnlcIl0gPSB3YXNtTWVtb3J5O1xyXG4gICAgICAgICAgICAgICAgZW52W1widGFibGVcIl0gPSB3YXNtVGFibGUgPSBuZXcgV2ViQXNzZW1ibHkuVGFibGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiaW5pdGlhbFwiOiAzMSxcclxuICAgICAgICAgICAgICAgICAgICBcIm1heGltdW1cIjogMzEgKyAwLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiZWxlbWVudFwiOiBcImFueWZ1bmNcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhwb3J0cyA9IGNyZWF0ZVdhc20oZW52KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBlbXNjcmlwdGVuUHVzaEJ1ZmZlcihidWYsIGxlbikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoTW9kdWxlLkhFQVBVOC5idWZmZXIsIGJ1ZiwgbGVuKTtcclxuICAgICAgICAgICAgICAgIE1vZHVsZS5lbmNvZGVkQnVmZmVycy5wdXNoKG5ldyBVaW50OEFycmF5KGFycmF5KS5idWZmZXIpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIF9fX2Fzc2VydF9mYWlsKGNvbmRpdGlvbiwgZmlsZW5hbWUsIGxpbmUsIGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGFib3J0KFwiQXNzZXJ0aW9uIGZhaWxlZDogXCIgKyBVVEY4VG9TdHJpbmcoY29uZGl0aW9uKSArIFwiLCBhdDogXCIgKyBbZmlsZW5hbWUgPyBVVEY4VG9TdHJpbmcoZmlsZW5hbWUpIDogXCJ1bmtub3duIGZpbGVuYW1lXCIsIGxpbmUsIGZ1bmMgPyBVVEY4VG9TdHJpbmcoZnVuYykgOiBcInVua25vd24gZnVuY3Rpb25cIl0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIF9fX2N4YV9wdXJlX3ZpcnR1YWwoKSB7XHJcbiAgICAgICAgICAgICAgICBBQk9SVCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aHJvd1wiUHVyZSB2aXJ0dWFsIGZ1bmN0aW9uIGNhbGxlZCFcIlxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBfYWJvcnQoKSB7XHJcbiAgICAgICAgICAgICAgICBNb2R1bGVbXCJhYm9ydFwiXSgpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBfYWJzID0gTWF0aF9hYnM7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBfZW1zY3JpcHRlbl9nZXRfaGVhcF9zaXplKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEhFQVA4Lmxlbmd0aFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBfZW1zY3JpcHRlbl9tZW1jcHlfYmlnKGRlc3QsIHNyYywgbnVtKSB7XHJcbiAgICAgICAgICAgICAgICBIRUFQVTguc2V0KEhFQVBVOC5zdWJhcnJheShzcmMsIHNyYyArIG51bSksIGRlc3QpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBfZmFicyA9IE1hdGhfYWJzO1xyXG4gICAgICAgICAgICB2YXIgX2Zsb29yID0gTWF0aF9mbG9vcjtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIF9yb3VuZChkKSB7XHJcbiAgICAgICAgICAgICAgICBkID0gK2Q7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZCA+PSArMCA/ICtNYXRoX2Zsb29yKGQgKyArLjUpIDogK01hdGhfY2VpbChkIC0gKy41KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBfcmludGYoZikge1xyXG4gICAgICAgICAgICAgICAgZiA9ICtmO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGYgLSArTWF0aF9mbG9vcihmKSAhPSAuNSA/ICtfcm91bmQoZikgOiArX3JvdW5kKGYgLyArMikgKiArMlxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBfX19zZXRFcnJObyh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1vZHVsZVtcIl9fX2Vycm5vX2xvY2F0aW9uXCJdKSBIRUFQMzJbTW9kdWxlW1wiX19fZXJybm9fbG9jYXRpb25cIl0oKSA+PiAyXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFib3J0T25DYW5ub3RHcm93TWVtb3J5KHJlcXVlc3RlZFNpemUpIHtcclxuICAgICAgICAgICAgICAgIGFib3J0KFwiT09NXCIpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwKHJlcXVlc3RlZFNpemUpIHtcclxuICAgICAgICAgICAgICAgIGFib3J0T25DYW5ub3RHcm93TWVtb3J5KHJlcXVlc3RlZFNpemUpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIF9zYnJrKGluY3JlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gaW5jcmVtZW50IHwgMDtcclxuICAgICAgICAgICAgICAgIHZhciBvbGREeW5hbWljVG9wID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdEeW5hbWljVG9wID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciB0b3RhbE1lbW9yeSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0b3RhbE1lbW9yeSA9IF9lbXNjcmlwdGVuX2dldF9oZWFwX3NpemUoKSB8IDA7XHJcbiAgICAgICAgICAgICAgICBvbGREeW5hbWljVG9wID0gSEVBUDMyW0RZTkFNSUNUT1BfUFRSID4+IDJdIHwgMDtcclxuICAgICAgICAgICAgICAgIG5ld0R5bmFtaWNUb3AgPSBvbGREeW5hbWljVG9wICsgaW5jcmVtZW50IHwgMDtcclxuICAgICAgICAgICAgICAgIGlmICgoaW5jcmVtZW50IHwgMCkgPiAwICYgKG5ld0R5bmFtaWNUb3AgfCAwKSA8IChvbGREeW5hbWljVG9wIHwgMCkgfCAobmV3RHluYW1pY1RvcCB8IDApIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFib3J0T25DYW5ub3RHcm93TWVtb3J5KG5ld0R5bmFtaWNUb3AgfCAwKSB8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgX19fc2V0RXJyTm8oMTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChuZXdEeW5hbWljVG9wIHwgMCkgPiAodG90YWxNZW1vcnkgfCAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfZW1zY3JpcHRlbl9yZXNpemVfaGVhcChuZXdEeW5hbWljVG9wIHwgMCkgfCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX19fc2V0RXJyTm8oMTIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTFcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBIRUFQMzJbRFlOQU1JQ1RPUF9QVFIgPj4gMl0gPSBuZXdEeW5hbWljVG9wIHwgMDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvbGREeW5hbWljVG9wIHwgMFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgX3NxcnQgPSBNYXRoX3NxcnQ7XHJcbiAgICAgICAgICAgIHZhciBhc21HbG9iYWxBcmcgPSB7fTtcclxuICAgICAgICAgICAgdmFyIGFzbUxpYnJhcnlBcmcgPSB7XHJcbiAgICAgICAgICAgICAgICBcImJcIjogX19fYXNzZXJ0X2ZhaWwsXHJcbiAgICAgICAgICAgICAgICBcImpcIjogX19fY3hhX3B1cmVfdmlydHVhbCxcclxuICAgICAgICAgICAgICAgIFwiaVwiOiBfYWJvcnQsXHJcbiAgICAgICAgICAgICAgICBcImFcIjogX2FicyxcclxuICAgICAgICAgICAgICAgIFwiZFwiOiBlbXNjcmlwdGVuUHVzaEJ1ZmZlcixcclxuICAgICAgICAgICAgICAgIFwiZ1wiOiBfZW1zY3JpcHRlbl9tZW1jcHlfYmlnLFxyXG4gICAgICAgICAgICAgICAgXCJoXCI6IF9mYWJzLFxyXG4gICAgICAgICAgICAgICAgXCJrXCI6IF9mbG9vcixcclxuICAgICAgICAgICAgICAgIFwiZlwiOiBfcmludGYsXHJcbiAgICAgICAgICAgICAgICBcImNcIjogX3NicmssXHJcbiAgICAgICAgICAgICAgICBcImVcIjogX3NxcnRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIGFzbSA9IE1vZHVsZVtcImFzbVwiXShhc21HbG9iYWxBcmcsIGFzbUxpYnJhcnlBcmcsIGJ1ZmZlcik7XHJcbiAgICAgICAgICAgIE1vZHVsZVtcImFzbVwiXSA9IGFzbTtcclxuICAgICAgICAgICAgdmFyIF9fX3dhc21fY2FsbF9jdG9ycyA9IE1vZHVsZVtcIl9fX3dhc21fY2FsbF9jdG9yc1wiXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNb2R1bGVbXCJhc21cIl1bXCJfX3dhc21fY2FsbF9jdG9yc1wiXS5hcHBseShudWxsLCBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBfZW1zY3JpcHRlbl9iaW5kX1ZvaWRQdHJfX19kZXN0cm95X19fMCA9IE1vZHVsZVtcIl9lbXNjcmlwdGVuX2JpbmRfVm9pZFB0cl9fX2Rlc3Ryb3lfX18wXCJdID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1vZHVsZVtcImFzbVwiXVtcImxcIl0uYXBwbHkobnVsbCwgYXJndW1lbnRzKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgX2Vtc2NyaXB0ZW5fYmluZF9Db250YWluZXJfQ29udGFpbmVyXzAgPSBNb2R1bGVbXCJfZW1zY3JpcHRlbl9iaW5kX0NvbnRhaW5lcl9Db250YWluZXJfMFwiXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNb2R1bGVbXCJhc21cIl1bXCJtXCJdLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIF9lbXNjcmlwdGVuX2JpbmRfQ29udGFpbmVyX2luaXRfMyA9IE1vZHVsZVtcIl9lbXNjcmlwdGVuX2JpbmRfQ29udGFpbmVyX2luaXRfM1wiXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNb2R1bGVbXCJhc21cIl1bXCJuXCJdLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIF9lbXNjcmlwdGVuX2JpbmRfQ29udGFpbmVyX3dyaXRlRnJhbWVfMyA9IE1vZHVsZVtcIl9lbXNjcmlwdGVuX2JpbmRfQ29udGFpbmVyX3dyaXRlRnJhbWVfM1wiXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNb2R1bGVbXCJhc21cIl1bXCJvXCJdLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIF9lbXNjcmlwdGVuX2JpbmRfQ29udGFpbmVyX19fZGVzdHJveV9fXzAgPSBNb2R1bGVbXCJfZW1zY3JpcHRlbl9iaW5kX0NvbnRhaW5lcl9fX2Rlc3Ryb3lfX18wXCJdID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1vZHVsZVtcImFzbVwiXVtcInBcIl0uYXBwbHkobnVsbCwgYXJndW1lbnRzKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgX29wdXNfZW5jb2Rlcl9jcmVhdGUgPSBNb2R1bGVbXCJfb3B1c19lbmNvZGVyX2NyZWF0ZVwiXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNb2R1bGVbXCJhc21cIl1bXCJxXCJdLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIF9vcHVzX2VuY29kZV9mbG9hdCA9IE1vZHVsZVtcIl9vcHVzX2VuY29kZV9mbG9hdFwiXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNb2R1bGVbXCJhc21cIl1bXCJyXCJdLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIF9vcHVzX2VuY29kZXJfY3RsID0gTW9kdWxlW1wiX29wdXNfZW5jb2Rlcl9jdGxcIl0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTW9kdWxlW1wiYXNtXCJdW1wic1wiXS5hcHBseShudWxsLCBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBfb3B1c19lbmNvZGVyX2Rlc3Ryb3kgPSBNb2R1bGVbXCJfb3B1c19lbmNvZGVyX2Rlc3Ryb3lcIl0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTW9kdWxlW1wiYXNtXCJdW1widFwiXS5hcHBseShudWxsLCBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBfbWFsbG9jID0gTW9kdWxlW1wiX21hbGxvY1wiXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNb2R1bGVbXCJhc21cIl1bXCJ1XCJdLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIF9mcmVlID0gTW9kdWxlW1wiX2ZyZWVcIl0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTW9kdWxlW1wiYXNtXCJdW1widlwiXS5hcHBseShudWxsLCBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBfc3BlZXhfcmVzYW1wbGVyX2luaXQgPSBNb2R1bGVbXCJfc3BlZXhfcmVzYW1wbGVyX2luaXRcIl0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTW9kdWxlW1wiYXNtXCJdW1wid1wiXS5hcHBseShudWxsLCBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBfc3BlZXhfcmVzYW1wbGVyX2Rlc3Ryb3kgPSBNb2R1bGVbXCJfc3BlZXhfcmVzYW1wbGVyX2Rlc3Ryb3lcIl0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTW9kdWxlW1wiYXNtXCJdW1wieFwiXS5hcHBseShudWxsLCBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBfc3BlZXhfcmVzYW1wbGVyX3Byb2Nlc3NfaW50ZXJsZWF2ZWRfZmxvYXQgPSBNb2R1bGVbXCJfc3BlZXhfcmVzYW1wbGVyX3Byb2Nlc3NfaW50ZXJsZWF2ZWRfZmxvYXRcIl0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTW9kdWxlW1wiYXNtXCJdW1wieVwiXS5hcHBseShudWxsLCBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBkeW5DYWxsX3ZpID0gTW9kdWxlW1wiZHluQ2FsbF92aVwiXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNb2R1bGVbXCJhc21cIl1bXCJ6XCJdLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIGR5bkNhbGxfdiA9IE1vZHVsZVtcImR5bkNhbGxfdlwiXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNb2R1bGVbXCJhc21cIl1bXCJBXCJdLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgTW9kdWxlW1wiYXNtXCJdID0gYXNtO1xyXG4gICAgICAgICAgICBNb2R1bGVbXCJ0aGVuXCJdID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChNb2R1bGVbXCJjYWxsZWRSdW5cIl0pIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jKE1vZHVsZSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9sZCA9IE1vZHVsZVtcIm9uUnVudGltZUluaXRpYWxpemVkXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgIE1vZHVsZVtcIm9uUnVudGltZUluaXRpYWxpemVkXCJdID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkKSBvbGQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYyhNb2R1bGUpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1vZHVsZVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gRXhpdFN0YXR1cyhzdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmFtZSA9IFwiRXhpdFN0YXR1c1wiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gXCJQcm9ncmFtIHRlcm1pbmF0ZWQgd2l0aCBleGl0KFwiICsgc3RhdHVzICsgXCIpXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1c1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBFeGl0U3RhdHVzLnByb3RvdHlwZSA9IG5ldyBFcnJvcjtcclxuICAgICAgICAgICAgRXhpdFN0YXR1cy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFeGl0U3RhdHVzO1xyXG4gICAgICAgICAgICBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBmdW5jdGlvbiBydW5DYWxsZXIoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIU1vZHVsZVtcImNhbGxlZFJ1blwiXSkgcnVuKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIU1vZHVsZVtcImNhbGxlZFJ1blwiXSkgZGVwZW5kZW5jaWVzRnVsZmlsbGVkID0gcnVuQ2FsbGVyXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBydW4oYXJncykge1xyXG4gICAgICAgICAgICAgICAgYXJncyA9IGFyZ3MgfHwgTW9kdWxlW1wiYXJndW1lbnRzXCJdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJ1bkRlcGVuZGVuY2llcyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHByZVJ1bigpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJ1bkRlcGVuZGVuY2llcyA+IDApIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmIChNb2R1bGVbXCJjYWxsZWRSdW5cIl0pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBkb1J1bigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTW9kdWxlW1wiY2FsbGVkUnVuXCJdKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgTW9kdWxlW1wiY2FsbGVkUnVuXCJdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQUJPUlQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICBlbnN1cmVJbml0UnVudGltZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByZU1haW4oKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTW9kdWxlW1wib25SdW50aW1lSW5pdGlhbGl6ZWRcIl0pIE1vZHVsZVtcIm9uUnVudGltZUluaXRpYWxpemVkXCJdKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdFJ1bigpXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKE1vZHVsZVtcInNldFN0YXR1c1wiXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIE1vZHVsZVtcInNldFN0YXR1c1wiXShcIlJ1bm5pbmcuLi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kdWxlW1wic2V0U3RhdHVzXCJdKFwiXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb1J1bigpXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9SdW4oKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBNb2R1bGVbXCJydW5cIl0gPSBydW47XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhYm9ydCh3aGF0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoTW9kdWxlW1wib25BYm9ydFwiXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIE1vZHVsZVtcIm9uQWJvcnRcIl0od2hhdClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh3aGF0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXQod2hhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyKHdoYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdoYXQgPSAnXCInICsgd2hhdCArICdcIidcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hhdCA9IFwiXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEFCT1JUID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIEVYSVRTVEFUVVMgPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhyb3dcImFib3J0KFwiICsgd2hhdCArIFwiKS4gQnVpbGQgd2l0aCAtcyBBU1NFUlRJT05TPTEgZm9yIG1vcmUgaW5mby5cIlxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBNb2R1bGVbXCJhYm9ydFwiXSA9IGFib3J0O1xyXG4gICAgICAgICAgICBpZiAoTW9kdWxlW1wicHJlSW5pdFwiXSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBNb2R1bGVbXCJwcmVJbml0XCJdID09IFwiZnVuY3Rpb25cIikgTW9kdWxlW1wicHJlSW5pdFwiXSA9IFtNb2R1bGVbXCJwcmVJbml0XCJdXTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChNb2R1bGVbXCJwcmVJbml0XCJdLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBNb2R1bGVbXCJwcmVJbml0XCJdLnBvcCgpKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBNb2R1bGVbXCJub0V4aXRSdW50aW1lXCJdID0gdHJ1ZTtcclxuICAgICAgICAgICAgcnVuKCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBXcmFwcGVyT2JqZWN0KCkge1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBXcmFwcGVyT2JqZWN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoV3JhcHBlck9iamVjdC5wcm90b3R5cGUpO1xyXG4gICAgICAgICAgICBXcmFwcGVyT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFdyYXBwZXJPYmplY3Q7XHJcbiAgICAgICAgICAgIFdyYXBwZXJPYmplY3QucHJvdG90eXBlLl9fY2xhc3NfXyA9IFdyYXBwZXJPYmplY3Q7XHJcbiAgICAgICAgICAgIFdyYXBwZXJPYmplY3QuX19jYWNoZV9fID0ge307XHJcbiAgICAgICAgICAgIE1vZHVsZVtcIldyYXBwZXJPYmplY3RcIl0gPSBXcmFwcGVyT2JqZWN0O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Q2FjaGUoX19jbGFzc19fKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKF9fY2xhc3NfXyB8fCBXcmFwcGVyT2JqZWN0KS5fX2NhY2hlX19cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgTW9kdWxlW1wiZ2V0Q2FjaGVcIl0gPSBnZXRDYWNoZTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHdyYXBQb2ludGVyKHB0ciwgX19jbGFzc19fKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FjaGUgPSBnZXRDYWNoZShfX2NsYXNzX18pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJldCA9IGNhY2hlW3B0cl07XHJcbiAgICAgICAgICAgICAgICBpZiAocmV0KSByZXR1cm4gcmV0O1xyXG4gICAgICAgICAgICAgICAgcmV0ID0gT2JqZWN0LmNyZWF0ZSgoX19jbGFzc19fIHx8IFdyYXBwZXJPYmplY3QpLnByb3RvdHlwZSk7XHJcbiAgICAgICAgICAgICAgICByZXQucHRyID0gcHRyO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlW3B0cl0gPSByZXRcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgTW9kdWxlW1wid3JhcFBvaW50ZXJcIl0gPSB3cmFwUG9pbnRlcjtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhc3RPYmplY3Qob2JqLCBfX2NsYXNzX18pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwUG9pbnRlcihvYmoucHRyLCBfX2NsYXNzX18pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIE1vZHVsZVtcImNhc3RPYmplY3RcIl0gPSBjYXN0T2JqZWN0O1xyXG4gICAgICAgICAgICBNb2R1bGVbXCJOVUxMXCJdID0gd3JhcFBvaW50ZXIoMCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkZXN0cm95KG9iaikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFvYmpbXCJfX2Rlc3Ryb3lfX1wiXSkgdGhyb3dcIkVycm9yOiBDYW5ub3QgZGVzdHJveSBvYmplY3QuIChEaWQgeW91IGNyZWF0ZSBpdCB5b3Vyc2VsZj8pXCI7XHJcbiAgICAgICAgICAgICAgICBvYmpbXCJfX2Rlc3Ryb3lfX1wiXSgpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGdldENhY2hlKG9iai5fX2NsYXNzX18pW29iai5wdHJdXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIE1vZHVsZVtcImRlc3Ryb3lcIl0gPSBkZXN0cm95O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY29tcGFyZShvYmoxLCBvYmoyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqMS5wdHIgPT09IG9iajIucHRyXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIE1vZHVsZVtcImNvbXBhcmVcIl0gPSBjb21wYXJlO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0UG9pbnRlcihvYmopIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmoucHRyXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIE1vZHVsZVtcImdldFBvaW50ZXJcIl0gPSBnZXRQb2ludGVyO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Q2xhc3Mob2JqKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLl9fY2xhc3NfX1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBNb2R1bGVbXCJnZXRDbGFzc1wiXSA9IGdldENsYXNzO1xyXG4gICAgICAgICAgICB2YXIgZW5zdXJlQ2FjaGUgPSB7XHJcbiAgICAgICAgICAgICAgICBidWZmZXI6IDAsIHNpemU6IDAsIHBvczogMCwgdGVtcHM6IFtdLCBuZWVkZWQ6IDAsIHByZXBhcmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5zdXJlQ2FjaGUubmVlZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW5zdXJlQ2FjaGUudGVtcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZHVsZVtcIl9mcmVlXCJdKGVuc3VyZUNhY2hlLnRlbXBzW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuc3VyZUNhY2hlLnRlbXBzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZHVsZVtcIl9mcmVlXCJdKGVuc3VyZUNhY2hlLmJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuc3VyZUNhY2hlLmJ1ZmZlciA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuc3VyZUNhY2hlLnNpemUgKz0gZW5zdXJlQ2FjaGUubmVlZGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnN1cmVDYWNoZS5uZWVkZWQgPSAwXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZW5zdXJlQ2FjaGUuYnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuc3VyZUNhY2hlLnNpemUgKz0gMTI4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnN1cmVDYWNoZS5idWZmZXIgPSBNb2R1bGVbXCJfbWFsbG9jXCJdKGVuc3VyZUNhY2hlLnNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQoZW5zdXJlQ2FjaGUuYnVmZmVyKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbnN1cmVDYWNoZS5wb3MgPSAwXHJcbiAgICAgICAgICAgICAgICB9LCBhbGxvYzogZnVuY3Rpb24gKGFycmF5LCB2aWV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KGVuc3VyZUNhY2hlLmJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ5dGVzID0gdmlldy5CWVRFU19QRVJfRUxFTUVOVDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoICogYnl0ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVuID0gbGVuICsgNyAmIC04O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuc3VyZUNhY2hlLnBvcyArIGxlbiA+PSBlbnN1cmVDYWNoZS5zaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydChsZW4gPiAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5zdXJlQ2FjaGUubmVlZGVkICs9IGxlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gTW9kdWxlW1wiX21hbGxvY1wiXShsZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnN1cmVDYWNoZS50ZW1wcy5wdXNoKHJldClcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBlbnN1cmVDYWNoZS5idWZmZXIgKyBlbnN1cmVDYWNoZS5wb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuc3VyZUNhY2hlLnBvcyArPSBsZW5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldFxyXG4gICAgICAgICAgICAgICAgfSwgY29weTogZnVuY3Rpb24gKGFycmF5LCB2aWV3LCBvZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0U2hpZnRlZCA9IG9mZnNldDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYnl0ZXMgPSB2aWV3LkJZVEVTX1BFUl9FTEVNRU5UO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoYnl0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0U2hpZnRlZCA+Pj0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRTaGlmdGVkID4+PSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFNoaWZ0ZWQgPj49IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdbb2Zmc2V0U2hpZnRlZCArIGldID0gYXJyYXlbaV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBWb2lkUHRyKCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3dcImNhbm5vdCBjb25zdHJ1Y3QgYSBWb2lkUHRyLCBubyBjb25zdHJ1Y3RvciBpbiBJRExcIlxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBWb2lkUHRyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoV3JhcHBlck9iamVjdC5wcm90b3R5cGUpO1xyXG4gICAgICAgICAgICBWb2lkUHRyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZvaWRQdHI7XHJcbiAgICAgICAgICAgIFZvaWRQdHIucHJvdG90eXBlLl9fY2xhc3NfXyA9IFZvaWRQdHI7XHJcbiAgICAgICAgICAgIFZvaWRQdHIuX19jYWNoZV9fID0ge307XHJcbiAgICAgICAgICAgIE1vZHVsZVtcIlZvaWRQdHJcIl0gPSBWb2lkUHRyO1xyXG4gICAgICAgICAgICBWb2lkUHRyLnByb3RvdHlwZVtcIl9fZGVzdHJveV9fXCJdID0gVm9pZFB0ci5wcm90b3R5cGUuX19kZXN0cm95X18gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMucHRyO1xyXG4gICAgICAgICAgICAgICAgX2Vtc2NyaXB0ZW5fYmluZF9Wb2lkUHRyX19fZGVzdHJveV9fXzAoc2VsZilcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIENvbnRhaW5lcigpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHRyID0gX2Vtc2NyaXB0ZW5fYmluZF9Db250YWluZXJfQ29udGFpbmVyXzAoKTtcclxuICAgICAgICAgICAgICAgIGdldENhY2hlKENvbnRhaW5lcilbdGhpcy5wdHJdID0gdGhpc1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBDb250YWluZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShXcmFwcGVyT2JqZWN0LnByb3RvdHlwZSk7XHJcbiAgICAgICAgICAgIENvbnRhaW5lci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb250YWluZXI7XHJcbiAgICAgICAgICAgIENvbnRhaW5lci5wcm90b3R5cGUuX19jbGFzc19fID0gQ29udGFpbmVyO1xyXG4gICAgICAgICAgICBDb250YWluZXIuX19jYWNoZV9fID0ge307XHJcbiAgICAgICAgICAgIE1vZHVsZVtcIkNvbnRhaW5lclwiXSA9IENvbnRhaW5lcjtcclxuICAgICAgICAgICAgQ29udGFpbmVyLnByb3RvdHlwZVtcImluaXRcIl0gPSBDb250YWluZXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoYXJnMCwgYXJnMSwgYXJnMikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLnB0cjtcclxuICAgICAgICAgICAgICAgIGlmIChhcmcwICYmIHR5cGVvZiBhcmcwID09PSBcIm9iamVjdFwiKSBhcmcwID0gYXJnMC5wdHI7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJnMSAmJiB0eXBlb2YgYXJnMSA9PT0gXCJvYmplY3RcIikgYXJnMSA9IGFyZzEucHRyO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyZzIgJiYgdHlwZW9mIGFyZzIgPT09IFwib2JqZWN0XCIpIGFyZzIgPSBhcmcyLnB0cjtcclxuICAgICAgICAgICAgICAgIF9lbXNjcmlwdGVuX2JpbmRfQ29udGFpbmVyX2luaXRfMyhzZWxmLCBhcmcwLCBhcmcxLCBhcmcyKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBDb250YWluZXIucHJvdG90eXBlW1wid3JpdGVGcmFtZVwiXSA9IENvbnRhaW5lci5wcm90b3R5cGUud3JpdGVGcmFtZSA9IGZ1bmN0aW9uIChhcmcwLCBhcmcxLCBhcmcyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMucHRyO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyZzAgJiYgdHlwZW9mIGFyZzAgPT09IFwib2JqZWN0XCIpIGFyZzAgPSBhcmcwLnB0cjtcclxuICAgICAgICAgICAgICAgIGlmIChhcmcxICYmIHR5cGVvZiBhcmcxID09PSBcIm9iamVjdFwiKSBhcmcxID0gYXJnMS5wdHI7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJnMiAmJiB0eXBlb2YgYXJnMiA9PT0gXCJvYmplY3RcIikgYXJnMiA9IGFyZzIucHRyO1xyXG4gICAgICAgICAgICAgICAgX2Vtc2NyaXB0ZW5fYmluZF9Db250YWluZXJfd3JpdGVGcmFtZV8zKHNlbGYsIGFyZzAsIGFyZzEsIGFyZzIpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIENvbnRhaW5lci5wcm90b3R5cGVbXCJfX2Rlc3Ryb3lfX1wiXSA9IENvbnRhaW5lci5wcm90b3R5cGUuX19kZXN0cm95X18gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMucHRyO1xyXG4gICAgICAgICAgICAgICAgX2Vtc2NyaXB0ZW5fYmluZF9Db250YWluZXJfX19kZXN0cm95X19fMChzZWxmKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0dXBFbnVtcygpIHtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocnVudGltZUluaXRpYWxpemVkKSBzZXR1cEVudW1zKCk7IGVsc2UgYWRkT25QcmVNYWluKHNldHVwRW51bXMpXHJcbiAgICAgICAgICAgIH0pKCk7XHJcblxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIE1vZHVsZVxyXG4gICAgICAgIH1cclxuICAgICk7XHJcbn0pKCk7XHJcblxyXG5pZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKSB7XHJcbiAgICBtb2R1bGUuZXhwb3J0cyA9IE1vZHVsZTtcclxufSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZVsnYW1kJ10pIHtcclxuICAgIGRlZmluZShbXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBNb2R1bGU7XHJcbiAgICB9KTtcclxufSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuICAgIGV4cG9ydHNbXCJNb2R1bGVcIl0gPSBNb2R1bGU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIE9nZ09wdXNFbmNvZGVyLmpzIGVuZCAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIOWIneWni+WMliBXb3JrZXJcclxuICogQHBhcmFtIHdvcmtlckdsb2JhbFNjb3BlXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0V29ya2VyKHdvcmtlckdsb2JhbFNjb3BlKSB7XHJcbiAgICAvLyDlvJXlhaUgT2dnT3B1c0VuY29kZXIg5qih5Z2XXHJcbiAgICBjb25zdCBPZ2dPcHVzRW5jb2RlciA9IE1vZHVsZTtcclxuICAgIGxldCBlbmNvZGVyO1xyXG5cclxuICAgIHdvcmtlckdsb2JhbFNjb3BlLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgY29uc3Qge2NvbW1hbmR9ID0gZS5kYXRhO1xyXG4gICAgICAgIHN3aXRjaCAoY29tbWFuZCkge1xyXG4gICAgICAgICAgICBjYXNlICdsb2FkRW5jb2Rlcic6XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7bWltZVR5cGUsIHdhc21QYXRofSA9IGUuZGF0YTtcclxuICAgICAgICAgICAgICAgIC8vIFNldHRpbmcgZW5jb2RlciBtb2R1bGVcclxuICAgICAgICAgICAgICAgIGxldCBlbmNvZGVyTW9kdWxlO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChtaW1lVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2F1ZGlvL29nZyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuY29kZXJNb2R1bGUgPSBPZ2dPcHVzRW5jb2RlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBPdmVycmlkZSBFbXNjcmlwdGVuIGNvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgICAgIGxldCBtb2R1bGVPdmVycmlkZXMgPSB7fTtcclxuICAgICAgICAgICAgICAgIGlmICh3YXNtUGF0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZU92ZXJyaWRlc1snbG9jYXRlRmlsZSddID0gZnVuY3Rpb24gKHBhdGgsIHNjcmlwdERpcmVjdG9yeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGF0aC5tYXRjaCgvLndhc20vKSA/IHdhc21QYXRoIDogKHNjcmlwdERpcmVjdG9yeSArIHBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBtb2R1bGVcclxuICAgICAgICAgICAgICAgIGVuY29kZXJNb2R1bGUobW9kdWxlT3ZlcnJpZGVzKS50aGVuKE1vZHVsZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RlciA9IE1vZHVsZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBOb3RpZnkgdGhlIGhvc3QgcmVhZHkgdG8gYWNjZXB0ICdpbml0JyBtZXNzYWdlLlxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe2NvbW1hbmQ6ICdyZWFkeVRvSW5pdCd9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdpbml0JzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHtzYW1wbGVSYXRlLCBjaGFubmVsQ291bnQsIGJpdHNQZXJTZWNvbmR9ID0gZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgZW5jb2Rlci5pbml0KHNhbXBsZVJhdGUsIGNoYW5uZWxDb3VudCwgYml0c1BlclNlY29uZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ3B1c2hJbnB1dERhdGEnOlxyXG4gICAgICAgICAgICAgICAgY29uc3Qge2NoYW5uZWxCdWZmZXJzLCBsZW5ndGgsIGR1cmF0aW9ufSA9IGUuZGF0YTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4gICAgICAgICAgICAgICAgLy8gT24gQ2hyb21lLCBGbG9hdDMyQXJyYXkgZG9lc24ndCByZWNvZ25pemUgaXRzIGJ1ZmZlciBhZnRlclxyXG4gICAgICAgICAgICAgICAgLy8gYmVpbmcgdHJhbnNmZXJyZWQsIG1ha2luZyB0aGUgc2l6ZSBvZiBBcnJheUJ1ZmZlciAwLlxyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBidWcgaXMgZm91bmQgaW4gQ2hyb21lIDY2LjAuMzM1OS4xODEgKDIwMTgpLlxyXG4gICAgICAgICAgICAgICAgLy8gSXQgaXMgZml4ZWQgc2luY2UgMjAxOS5cclxuICAgICAgICAgICAgICAgIC8vIFNvIHJlLWNyZWF0ZSBGbG9hdDMyQXJyYXkgcmlnaHQgYWZ0ZXIgYSB3ZWIgd29ya2VyIHJlY2VpdmVkIGl0LlxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFubmVsQnVmZmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxCdWZmZXJzW2ldID0gbmV3IEZsb2F0MzJBcnJheShjaGFubmVsQnVmZmVyc1tpXS5idWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGVuY29kZXIuZW5jb2RlKGNoYW5uZWxCdWZmZXJzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnZ2V0RW5jb2RlZERhdGEnOlxyXG4gICAgICAgICAgICBjYXNlICdkb25lJzpcclxuICAgICAgICAgICAgICAgIGlmIChjb21tYW5kID09PSAnZG9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmNvZGVyLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVycyA9IGVuY29kZXIuZmx1c2goKTtcclxuICAgICAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IGNvbW1hbmQgPT09ICdkb25lJyA/ICdsYXN0RW5jb2RlZERhdGEnIDogJ2VuY29kZWREYXRhJyxcclxuICAgICAgICAgICAgICAgICAgICBidWZmZXJzXHJcbiAgICAgICAgICAgICAgICB9LCBidWZmZXJzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29tbWFuZCA9PT0gJ2RvbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgLy8gSWdub3JlXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG4vKiBnbG9iYWwgV29ya2VyR2xvYmFsU2NvcGUgKi9cclxuLy8gUnVuIG9ubHkgaWYgaXQgaXMgaW4gd2ViIHdvcmtlciBlbnZpcm9ubWVudFxyXG5pZiAodHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUpIHtcclxuICAgIGluaXRXb3JrZXIoc2VsZik7XHJcbn1cclxuXG4vKipcclxuICogY3JlYXRlIGF1ZGlvIGVsZW1lbnRcclxuICogQHR5cGUge0hUTUxFbGVtZW50fVxyXG4gKi9cclxubGV0IGxvY2FsQXVkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xyXG5sb2NhbEF1ZGlvLm11dGVkID0gdHJ1ZVxyXG5sb2NhbEF1ZGlvLmhpZGRlbiA9IHRydWVcclxubG9jYWxBdWRpby5hdXRvcGxheSA9IHRydWVcclxuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsb2NhbEF1ZGlvKVxyXG5cclxubGV0IHN0cmVhbSA9IG51bGxcclxubGV0IGZpbGVOYW1lID0gbnVsbDtcclxubGV0IGF1ZGlvQ3R4ID0gbnVsbFxyXG5sZXQgYXVkaW9SZWNvcmRlciA9IHt9XHJcbmxldCByZWNvcmRpbmdEdXJhdGlvbiA9IDMwMDAwOyAgIC8vIOaWh+S7tuW9leWItuaXtumXtCAzMHNcclxubGV0IHJlY29yZGVyQ2FsbGJhY2sgPSBudWxsXHJcblxyXG4vKipcclxuICogIE5vbi1zdGFuZGFyZCBvcHRpb25zXHJcbiAqIEB0eXBlIHt7T2dnT3B1c0VuY29kZXJXYXNtUGF0aDogc3RyaW5nfX1cclxuICovXHJcbmNvbnN0IHdvcmtlck9wdGlvbnMgPSB7XHJcbiAgICBPZ2dPcHVzRW5jb2Rlcldhc21QYXRoOiAnLi9PZ2dPcHVzRW5jb2Rlci53YXNtJyxcclxuICAgIC8vIE9nZ09wdXNFbmNvZGVyV2FzbVBhdGg6ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL29wdXMtbWVkaWEtcmVjb3JkZXJAMC43LjE5L09nZ09wdXNFbmNvZGVyLndhc20nXHJcbn07XHJcbndpbmRvdy5NZWRpYVJlY29yZGVyID0gT2dnT3B1c01lZGlhUmVjb3JkZXI7XHJcblxyXG4vKipcclxuICog5o+Q5L6b57uZ5aSW6YOo55qE6L2s5o2i5o6l5Y+jXHJcbiAqIOS9v+eUqEZpbGVSZWFkZXLor7vlj5bkuIrkvKDmlofku7bvvIzovazmjaLkuLpzdHJlYW1cclxuICogQHBhcmFtIGZpbGVcclxuICogQHBhcmFtIGNhbGxiYWNrXHJcbiAqL1xyXG5mdW5jdGlvbiBPZ2dPcHVzUmVjb3JkZXIoZmlsZSwgY2FsbGJhY2spe1xyXG4gICAgY29uc29sZS5sb2coJ1JlY29yZGVyIGF1ZGlvIGZpbGUgdG8gb2dnJylcclxuICAgIGZpbGVOYW1lID0gZmlsZS5uYW1lLnJlcGxhY2UoL1xcLlteXFwuXSskLywgJycpXHJcbiAgICByZWNvcmRlckNhbGxiYWNrID0gY2FsbGJhY2tcclxuICAgIGF1ZGlvQ3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xyXG5cclxuICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXHJcbiAgICByZWFkZXIuZmlsZSA9IGZpbGU7XHJcblxyXG4gICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdmaWxlIHJlYWRlIG9ubG9hZC4uLicpXHJcbiAgICAgICAgbGV0IGJ1ZmZlciA9IGUudGFyZ2V0LnJlc3VsdFxyXG4gICAgICAgIGF1ZGlvQ3R4LmRlY29kZUF1ZGlvRGF0YShidWZmZXIpLnRoZW4oY3JlYXRlU291bmRTb3VyY2UpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnRvU3RyaW5nKCkpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihyZWFkZXIuZmlsZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDpgJrov4dBdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbiDnlJ/miJDmlofku7bmtYFcclxuICogQHBhcmFtIGJ1ZmZlclxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlU291bmRTb3VyY2UoYnVmZmVyKSB7XHJcbiAgICBsZXQgc291bmRTb3VyY2UgPSBhdWRpb0N0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcclxuICAgIHNvdW5kU291cmNlLmJ1ZmZlciA9IGJ1ZmZlcjtcclxuICAgIGxldCBkZXN0aW5hdGlvbiA9IGF1ZGlvQ3R4LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKTtcclxuICAgIHNvdW5kU291cmNlLmNvbm5lY3QoZGVzdGluYXRpb24pO1xyXG4gICAgc291bmRTb3VyY2Uuc3RhcnQoKTtcclxuXHJcbiAgICBsb2NhbEF1ZGlvLnNyY09iamVjdCA9IGRlc3RpbmF0aW9uLnN0cmVhbVxyXG4gICAgc3RyZWFtID0gZGVzdGluYXRpb24uc3RyZWFtXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBjcmVhdGUgTWVkaWFSZWNvcmRlciBpbnN0YW5jZVxyXG4gKiBAcGFyYW0gc3RyZWFtXHJcbiAqIEBwYXJhbSBkdXJhdGlvblxyXG4gKiBAcmV0dXJucyB7Kn1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZU1lZGlhUmVjb3JkZXIoc3RyZWFtLCBkdXJhdGlvbikge1xyXG4gICAgbGV0IG9wdGlvbnMgPSB7bWltZVR5cGU6ICdhdWRpby9vZ2cnfTtcclxuICAgIGxldCByZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHN0cmVhbSwgb3B0aW9ucywgd29ya2VyT3B0aW9ucywgZHVyYXRpb24pO1xyXG4gICAgbGV0IGRhdGFDaHVua3MgPSBbXTtcclxuXHJcbiAgICByZWNvcmRlci5vbnN0YXJ0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBkYXRhQ2h1bmtzID0gW107XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JlY29yZGVyIHN0YXJ0ZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICByZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSBmdW5jdGlvbihlKXtcclxuICAgICAgICBkYXRhQ2h1bmtzLnB1c2goZS5kYXRhKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnUmVjb3JkZXIgZGF0YSBhdmFpbGFibGUgJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVjb3JkZXIub25zdG9wID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBjb25zb2xlLmxvZygncmVjb3JkZXIgY29tcGxldGUhJylcclxuICAgICAgICBsZXQgYmxvYiA9IGRhdGFDaHVua3NbMF07XHJcbiAgICAgICAgZGF0YUNodW5rcyA9IFtdO1xyXG4gICAgICAgIGlmKCFibG9iLnNpemUpe1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4Y2VwdGlvbjogQmxvYiBpcyBlbXB0eScpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihyZWNvcmRlckNhbGxiYWNrKXtcclxuICAgICAgICAgICAgcmVjb3JkZXJDYWxsYmFjayhibG9iKVxyXG4gICAgICAgICAgICBhdWRpb1JlY29yZGVyID0gbnVsbFxyXG4gICAgICAgICAgICBhdWRpb0N0eCA9IG51bGxcclxuICAgICAgICAgICAgc3RyZWFtID0gbnVsbFxyXG4gICAgICAgICAgICByZWNvcmRlckNhbGxiYWNrID0gbnVsbFxyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdyZWNvcmRlckNhbGxiYWNrIGlzIG5vdCBmb3VuZC4nKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWNvcmRlci5vbnBhdXNlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBjb25zb2xlLmxvZygnUmVjb3JkZXIgcGF1c2VkJylcclxuICAgIH1cclxuXHJcbiAgICByZWNvcmRlci5vbnJlc3VtZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JlY29yZGVyIHJlc3VtZWQnKVxyXG4gICAgfVxyXG5cclxuICAgIHJlY29yZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICBpZiAoIWVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghZXJyb3IubmFtZSkge1xyXG4gICAgICAgICAgICBlcnJvci5uYW1lID0gJ1Vua25vd25FcnJvcic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZXJyb3IubmFtZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignaW52YWxpZHN0YXRlJykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoZSBNZWRpYVJlY29yZGVyIGlzIG5vdCBpbiBhIHN0YXRlIGluIHdoaWNoIHRoZSBwcm9wb3NlZCBvcGVyYXRpb24gaXMgYWxsb3dlZCB0byBiZSBleGVjdXRlZC4nLCBlcnJvcik7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5uYW1lLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdub3RzdXBwb3J0ZWQnKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignTUlNRSB0eXBlICgnLCBvcHRpb25zLm1pbWVUeXBlLCAnKSBpcyBub3Qgc3VwcG9ydGVkLicsIGVycm9yKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ3NlY3VyaXR5JykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ01lZGlhUmVjb3JkZXIgc2VjdXJpdHkgZXJyb3InLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBvbGRlciBjb2RlIGJlbG93XHJcbiAgICAgICAgZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ091dE9mTWVtb3J5Jykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdUaGUgVUEgaGFzIGV4aGF1c2VkIHRoZSBhdmFpbGFibGUgbWVtb3J5LiBVc2VyIGFnZW50cyBTSE9VTEQgcHJvdmlkZSBhcyBtdWNoIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYXMgcG9zc2libGUgaW4gdGhlIG1lc3NhZ2UgYXR0cmlidXRlLicsIGVycm9yKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdJbGxlZ2FsU3RyZWFtTW9kaWZpY2F0aW9uJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdBIG1vZGlmaWNhdGlvbiB0byB0aGUgc3RyZWFtIGhhcyBvY2N1cnJlZCB0aGF0IG1ha2VzIGl0IGltcG9zc2libGUgdG8gY29udGludWUgcmVjb3JkaW5nLiBBbiBleGFtcGxlIHdvdWxkIGJlIHRoZSBhZGRpdGlvbiBvZiBhIFRyYWNrIHdoaWxlIHJlY29yZGluZyBpcyBvY2N1cnJpbmcuIFVzZXIgYWdlbnRzIFNIT1VMRCBwcm92aWRlIGFzIG11Y2ggYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhcyBwb3NzaWJsZSBpbiB0aGUgbWVzc2FnZSBhdHRyaWJ1dGUuJywgZXJyb3IpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ090aGVyUmVjb3JkaW5nRXJyb3InKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VzZWQgZm9yIGFuIGZhdGFsIGVycm9yIG90aGVyIHRoYW4gdGhvc2UgbGlzdGVkIGFib3ZlLiBVc2VyIGFnZW50cyBTSE9VTEQgcHJvdmlkZSBhcyBtdWNoIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYXMgcG9zc2libGUgaW4gdGhlIG1lc3NhZ2UgYXR0cmlidXRlLicsIGVycm9yKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdHZW5lcmljRXJyb3InKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoZSBVQSBjYW5ub3QgcHJvdmlkZSB0aGUgY29kZWMgb3IgcmVjb3JkaW5nIG9wdGlvbiB0aGF0IGhhcyBiZWVuIHJlcXVlc3RlZC4nLCBlcnJvcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignTWVkaWFSZWNvcmRlciBFcnJvcicsIGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlY29yZGVyIGVuY291bnRlcnMgZXJyb3I6JyArIGVycm9yLm1lc3NhZ2UpXHJcbiAgICAgICAgaWYgKHJlY29yZGVyLl9zdGF0ZSAhPT0gJ2luYWN0aXZlJyAmJiByZWNvcmRlci5fc3RhdGUgIT09ICdzdG9wcGVkJykge1xyXG4gICAgICAgICAgICByZWNvcmRlci5zdG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gcmVjb3JkZXJcclxufVxyXG5cclxuLyoqXHJcbiAqIEF1ZGlvIGlzIHJlYWR5IHRvIHN0YXJ0IHBsYXlpbmdcclxuICovXHJcbmxvY2FsQXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIGZ1bmN0aW9uICgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbG9jYWxBdWRpby5wbGF5KClcclxuICAgICAgICBhdWRpb1JlY29yZGVyID0gY3JlYXRlTWVkaWFSZWNvcmRlcihzdHJlYW0sIHJlY29yZGluZ0R1cmF0aW9uKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyBNZWRpYVJlY29yZGVyIHN1Y2Nlc3MnKVxyXG4gICAgICAgIGF1ZGlvUmVjb3JkZXIuc3RhcnRSZWNvcmRpbmcoKVxyXG4gICAgfWNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYE1lZGlhUmVjb3JkZXIgaXMgZmFpbGVkOiAke2UubWVzc2FnZX1gKTtcclxuICAgICAgICBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoKSk7XHJcbiAgICB9XHJcbn0pXHJcblxyXG4vKipcclxuICogV2hlbiB0aGUgdXBsb2FkZWQgZmlsZSBpcyBsZXNzIHRoYW4gMzBzLCBhZnRlciBhdWRpbyBwbGF5YmFjayBlbmRzLCBzdG9wIHRoZSByZWNvcmRlclxyXG4gKi9cclxubG9jYWxBdWRpby5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYoYXVkaW9SZWNvcmRlci5fc3RhdGUgIT09ICdpbmFjdGl2ZScgJiYgYXVkaW9SZWNvcmRlci5fc3RhdGUgIT09ICdzdG9wcGVkJyl7XHJcbiAgICAgICAgYXVkaW9SZWNvcmRlci5zdG9wUmVjb3JkaW5nKClcclxuICAgIH1cclxufSk7XHJcblxyXG4vKipcclxuICogQ2hlY2sgYXZhaWxhYmxlIGNvbnRlbnQgdHlwZXMgY29tcGF0aWJpbGl0eVxyXG4gKi9cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcclxuICAgIGlmIChPZ2dPcHVzTWVkaWFSZWNvcmRlciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignTm8gT3B1c01lZGlhUmVjb3JkZXIgZm91bmQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IGNvbnRlbnRUeXBlcyA9IFtcclxuICAgICAgICAgICAgJ2F1ZGlvL3dhdmUnLFxyXG4gICAgICAgICAgICAnYXVkaW8vd2F2JyxcclxuICAgICAgICAgICAgJ2F1ZGlvL29nZycsXHJcbiAgICAgICAgICAgICdhdWRpby9vZ2c7Y29kZWNzPW9wdXMnLFxyXG4gICAgICAgICAgICAnYXVkaW8vd2VibScsXHJcbiAgICAgICAgICAgICdhdWRpby93ZWJtO2NvZGVjcz1vcHVzJ1xyXG4gICAgICAgIF07XHJcbiAgICAgICAgY29udGVudFR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codHlwZSArICcgaXMgJyArIChNZWRpYVJlY29yZGVyLmlzVHlwZVN1cHBvcnRlZCh0eXBlKSA/ICdzdXBwb3J0ZWQnIDogJ05PVCBzdXBwb3J0ZWQnKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0sIGZhbHNlKTtcclxuIl19
